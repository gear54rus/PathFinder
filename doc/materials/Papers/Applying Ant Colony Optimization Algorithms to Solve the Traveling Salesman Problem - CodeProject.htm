<!DOCTYPE html>
<html style="height: 100%;"><head>
	<title>Applying Ant Colony Optimization Algorithms to Solve the Traveling Salesman Problem - CodeProject</title> 
	<link type="text/css" rel="stylesheet" href="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/Main.css">

	
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="Description" content="Applying Ant Colony Optimization algorithms to solve the Traveling Salesman Problem.; Author: geoyar; Updated: 13 Sep 2013; Section: Algorithms &amp; Recipes; Chapter: General Programming; Updated: 13 Sep 2013">
<meta name="Keywords" content="C++, MFC, GDI+, Boost, VC++, VS2012,Algorithms &amp; Recipes,General Programming,Free source code, tutorials">
<meta name="Author" content="geoyar">
<meta name="Rating" content="General">
<meta name="Robots" content="index, follow, NOODP">
<meta name="Revisit-After" content="1 days">
<meta name="application-name" content="CodeProject">
<meta name="google-translate-customization" content="d908bb7ce7aff658-4c2f3a504525c916-g629383f736781a8a-13">

<link rel="dns-prefetch" href="http://ajax.googleapis.com/"> 
<link rel="canonical" href="http://www.codeproject.com/Articles/644067/Applying-Ant-Colony-Optimization-Algorithms-to-Sol">


<link rel="alternate" type="application/rss+xml" title="CodeProject Latest articles - All Topics" href="http://www.codeproject.com/WebServices/ArticleRSS.aspx?cat=1">
<link rel="alternate" type="application/rss+xml" title="CodeProject Latest articles - Android" href="http://www.codeproject.com/WebServices/ArticleRSS.aspx?cat=22">
<link rel="alternate" type="application/rss+xml" title="CodeProject Latest articles - iOS" href="http://www.codeproject.com/WebServices/ArticleRSS.aspx?cat=25">
<link rel="alternate" type="application/rss+xml" title="CodeProject Latest articles - C++" href="http://www.codeproject.com/WebServices/ArticleRSS.aspx?cat=2">
<link rel="alternate" type="application/rss+xml" title="CodeProject Latest articles - C#" href="http://www.codeproject.com/WebServices/ArticleRSS.aspx?cat=3">
<link rel="alternate" type="application/rss+xml" title="CodeProject Latest articles - Web" href="http://www.codeproject.com/WebServices/ArticleRSS.aspx?cat=23">
<link rel="alternate" type="application/rss+xml" title="CodeProject Lounge Postings" href="http://www.codeproject.com/webservices/LoungeRSS.aspx">
<link rel="search" type="application/opensearchdescription+xml" title="CodeProject" href="http://www.codeproject.com/info/OpenSearch.xml">

	<!-- base href="http://www.codeproject.com/Articles/644067/Applying-Ant-Colony-Optimization-Algorithms-to-Sol" -->
	<link rel="icon" href="http://www.codeproject.com/favicon.ico" type="image/ico">
<link rel="shortcut icon" href="http://www.codeproject.com/favicon.ico" type="image/ico">
<link rel="apple-touch-icon" href="http://www.codeproject.com/images/FavIcon-Apple.png" type="image/png">
<script type="text/javascript" language="Javascript">//<![CDATA[
function defrm () { /* thanks twitter */ document.write = ''; window.top.location = window.self.location;  setTimeout(function() { document.body.innerHTML = ''; }, 0);  window.self.onload = function(evt) { document.body.innerHTML = ''; }; }if (window.top !== window.self) {  try {  if (window.top.location.host) { /* will throw */ } else { defrm(); /* chrome */ }  } catch (ex) { defrm(); /* everyone else */ } }if (typeof(DemoUrl)!='undefined')   document.write(unescape('%3Cme')+'ta http'+'-equiv="re'+'fresh"                  con'+'tent="1;url='+DemoUrl+unescape('"%3CE'));
function _dmBootstrap(file) { var _dma = document.createElement('script');  _dma.type = 'text/javascript'; _dma.async = true;  _dma.src = ('https:' == document.location.protocol ? 'https://' : 'http://') + file; (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(_dma);}
function _dmFollowup(file) { if (typeof DMAds === 'undefined')  _dmBootstrap('cdn1.developermedia.com/a.min.js?dt=2.8.150209.1');}
(function () { _dmBootstrap('cdn1.developermedia.com/a.min.js?dt=2.8.150209.1'); setTimeout(_dmFollowup, 2000);})();

//]]>
</script><script src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/a.js" async="" type="text/javascript"></script>

	




<script type="text/javascript">
	var _gaq = _gaq || [];
	_gaq.push(['_setAccount', 'UA-1735123-1']);
	_gaq.push(['_trackPageview']);
	_gaq.push(['_setDomainName', 'www.codeproject.com']);
	_gaq.push(['_setSessionTimeout', '1200']); 

	(function () {
		var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
		ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
		(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(ga);
	})(); 
</script><script src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/ga.js" async="" type="text/javascript"></script>


<link href="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/translateelement.css" charset="UTF-8" rel="stylesheet" type="text/css"><script src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/main.js" charset="UTF-8" type="text/javascript"></script><script src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/element_main.js" charset="UTF-8" type="text/javascript"></script></head>	

<body style="position: relative; min-height: 100%; top: 0px;" class="firefox firefox32">

<a class="access-link" href="#Main"><img alt="Click here to Skip to main content" src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/t_002.gif"></a>





<div class="page-background">

	
	

	

	<table id="ctl00_Bn" style="width:100%;height:135px" class="banner fixed" cellpadding="0" cellspacing="0">
	<tbody><tr valign="bottom">
		<td class="blank-background" style="height:31px">&nbsp;</td>
		<td class="blank-background" rowspan="3" style="width:250px;height:135px"><a href="http://www.codeproject.com/"><img id="ctl00_Logo" tabindex="1" title="CodeProject" src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/logo250x135.gif" alt="Home" style="height:135px;width:250px;border-width:0px;"></a></td>
		<td class="blank-background align-right" style="width:728px;height:31px">

<div class="container memberbar clearfix">

	<div id="ctl00_MemberMenu_GenInfo" class="float-left">11,213,724 members (64,250 online)</div>

	<div class="float-left">
		
	</div>

	<div class="float-right">

		

		

		

			<script type="text/javascript">//<!--
			function doSubmit(secure)
			{
				if (secure)
					document.subForm.action = "https://www.codeproject.com/script/Membership/LogOn.aspx?rp=%2fArticles%2f644067%2fApplying-Ant-Colony-Optimization-Algorithms-to-Sol"
				else
					document.subForm.action = "https://www.codeproject.com/script/Membership/LogOn.aspx?rp=%2fArticles%2f644067%2fApplying-Ant-Colony-Optimization-Algorithms-to-Sol"
				document.subForm.submit();
				return true;
			}//-->
			</script>

			<a name="SignUp"></a>
			<span class="member-signin tooltip">
				<span><a href="https://www.codeproject.com/script/Membership/LogOn.aspx?rp=%2fArticles%2f644067%2fApplying-Ant-Colony-Optimization-Algorithms-to-Sol">Sign in</a></span>

				<div class="tooltip-flyout">
					<form name="subForm" id="subForm" action="https://www.codeproject.com/script/Membership/LogOn.aspx?rp=%2fArticles%2f644067%2fApplying-Ant-Colony-Optimization-Algorithms-to-Sol" method="post" class="tight">

						
						<input id="FormName" name="FormName" value="MenuBarForm" type="hidden">

						<div>Email</div>
						<div><input class="small-text" name="Email" id="Email" type="email"></div>
						<div>Password</div>
						<div><input class="small-text" name="Password" id="Password" type="password"></div>
						<div class="action">
							
<script type="text/javascript">
function Join(){
 var url = 'http://www.codeproject.com/script/Membership/Modify.aspx?meml=' + document.subForm.Email.value;
 document.location.href=url;return false;
}
document.write('<input type="button" class="create" onclick="return Join();" value="Join"');
document.write('<input type="hidden" name="fld_quicksign" value="true" />');
</script><input class="create" onclick="return Join();" value="Join" <input="" name="fld_quicksign" type="button">
							<input value="Sign in" class="signin" onclick="return doSubmit(false);" type="submit">
						</div>

						<div class="container">
							
							&nbsp;
							<a id="ctl00_MemberMenu_SendPassword" class="forgot float-right" href="http://www.codeproject.com/script/Membership/SendPassword.aspx?rp=%2fArticles%2f644067%2fApplying-Ant-Colony-Optimization-Algorithms-to-Sol">Forgot your password?</a>
						</div>
					</form>

					<hr class="divider-dark">

					Sign in using <a class="oauth" title="Sign in using Facebook" href="http://www.codeproject.com/script/Membership/OAuthLogOn.aspx?auth=Facebook"><img src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/facebook.png" style="vertical-align:middle;padding-right:3px;border:0;"></a>
<a class="oauth" title="Sign in using Google" href="http://www.codeproject.com/script/Membership/OAuthLogOn.aspx?auth=Google"><img src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/google-plus.png" style="vertical-align:middle;padding-right:3px;border:0;"></a>
<a class="oauth" title="Sign in using Linkedin" href="http://www.codeproject.com/script/Membership/OAuthLogOn.aspx?auth=LinkedIn"><img src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/linkedin.png" style="vertical-align:middle;padding-right:3px;border:0;"></a>
<a class="oauth" title="Sign in using Microsoft" href="http://www.codeproject.com/script/Membership/OAuthLogOn.aspx?auth=Microsoft"><img src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/microsoft.png" style="vertical-align:middle;padding-right:3px;border:0;"></a>

				</div>
            </span>
		
	</div>
</div></td>
		<td class="blank-background" style="height:31px">&nbsp;</td>
	</tr>
	<tr valign="middle">
		<td class="theme1-background" style="height:94px">&nbsp;</td>
		<td class="theme1-background ad"><div class="msg-728x90" data-format="728x90" data-type="ad" data-publisher="lqm.codeproject.site" data-zone="General-Programming/Algorithms-Recipes/Algorithms" data-tags="C++, MFC, GDI+, Boost, VC++, VS2012,rating4.5"><iframe id="dmad1" allowtransparency="false" style="z-index:10" marginwidth="0" marginheight="0" scrolling="no" height="90" width="728" frameborder="0"></iframe><div style="display: none; width: 728px; height: 90px; text-align: left; border-style: solid; border-width: 1px; position: relative; font: 14px/18px &quot;Segoe UI&quot;,Arial; background-color: white;"><div class="sendReportContainer" style="padding: 15px 20px;"><div style="padding-bottom:13px;"><b>Don't like this Ad?</b></div><div style="padding-bottom:10px;">	Please tell us why: <select class="reportReason" max-width="100px"><option selected="selected">Offensive</option><option>Abusive</option><option>Off topic</option><option>Don't like the Ad</option></select>&nbsp;<a class="reportButton" padding="0px" href="javascript:void(0);">Report</a></div></div><div class="reportSentContainer" style="display:none; padding: 15px 20px;"><span style="color:#999">Thank you for the report!</span></div><a href="http://www.developermedia.com/" target="_blank"><img src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/dm-logo-150x23.png" style="max-width:100%;position:absolute; right:20px; bottom:20px;"></a><input style="z-index: 1000; position: absolute; left: 0px; top: 0px; width: 14px; height: 14px;" title="Show Ad" src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/redo.png" type="image"></div></div></td>
		<td class="theme1-background" style="height:94px">&nbsp;</td>
	</tr>
	<tr valign="top">
		<td style="height: 14px;"></td>
		<td style="height: 14px;" class="blank-background"></td>
		<td style="height: 14px;"></td>
	</tr>
</tbody></table>


	<a href="#Main"><img alt="Click here to Skip to main content" class="access-link" src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/t_002.gif"></a>

	
	<div id="ctl00_TPR" class="sub-headerbar fixed">
	<table class="extended" cellpadding="0" cellspacing="0"><tbody><tr><td nowrap="nowrap">
		

<div class="navbar clearfix">
<ul class="navmenu openable">

<li><a id="ctl00_TopNavBar_Home" href="http://www.codeproject.com/">home</a>


</li><li class=""><a id="ctl00_TopNavBar_Art" class="down selected" href="http://www.codeproject.com/script/Articles/Latest.aspx">articles</a>

	<ul>
		<li class=""><a id="ctl00_TopNavBar_ArtTopicList" class="fly" onmouseover="navBarMenu.ShowMap(this, 'ctl00_TopNavBar_MapFlyout');" href="http://www.codeproject.com/script/Content/SiteMap.aspx">Chapters and Sections<span class="has-submenu">&gt;</span></a><ul id="ctl00_TopNavBar_MapFlyout">
			<li>
				<div id="siteMap">
					<img src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/animated.gif" alt="loading" style="margin:150px;width:100px;height:100px;">
				</div>
			</li>
			</ul>
		</li>
		<li><a id="ctl00_TopNavBar_ArtSearch" class="fly break" href="http://www.codeproject.com/search.aspx?sbo=kw">Search</a></li>
		<li><a id="ctl00_TopNavBar_ArtLatestArts" class="fly" href="http://www.codeproject.com/script/Articles/Latest.aspx?at=1,3,7">Latest Articles</a></li>
		<li><a id="ctl00_TopNavBar_ArtLatestTips" class="fly" href="http://www.codeproject.com/script/Articles/Latest.aspx?at=6">Latest Tips/Tricks</a></li>
		<li><a id="ctl00_TopNavBar_ArtTop" class="fly" href="http://www.codeproject.com/script/Articles/TopArticles.aspx?ta_so=5">Top Articles</a></li>
		<li><a id="ctl00_TopNavBar_ArtBeginner" class="fly" href="http://www.codeproject.com/search.aspx?sbo=kw?aidlst=152&amp;sa_us=True">Beginner Articles</a></li>
		<li><a id="ctl00_TopNavBar_ArtBlogArticles" class="fly break" href="http://www.codeproject.com/script/Articles/BlogArticleList.aspx">Technical Blogs</a></li>
		<li><a id="ctl00_TopNavBar_ArtGuide" class="fly" href="http://www.codeproject.com/info/Submit.aspx">Posting/Update Guidelines</a></li>
		<li><a id="ctl00_TopNavBar_ArtHelpForum" class="fly" href="http://www.codeproject.com/Forums/1641/Article-Writing.aspx">Article Help Forum</a></li>
		<li><a id="ctl00_TopNavBar_ArtCompetition" class="fly break" href="http://www.codeproject.com/script/Awards/CurrentCompetitions.aspx?cmpTpId=1">Article Competition</a></li>
		<li><a id="ctl00_TopNavBar_ArtPostArticle" class="fly highlight1" href="http://www.codeproject.com/script/Articles/Submit.aspx">
			<img src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/write13.png" height="13px" width="13px"> Submit an article or tip
			</a></li>
		<li><a id="ctl00_TopNavBar_ArtPostBlog" class="fly highlight2" href="http://www.codeproject.com/script/Articles/BlogFeed.aspx">
			<img src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/write13.png" height="13px" width="13px"> Post your Blog
			</a></li>		<li class="last"></li>
	</ul>

</li>



<li class=""><a id="ctl00_TopNavBar_Answers" href="http://www.codeproject.com/script/Answers/List.aspx?tab=active">quick answers</a>
	<ul>
		<li id="ctl00_TopNavBar_AQL"><a id="ctl00_TopNavBar_ArticleQuestion" class="fly highlight1" href="#_comments">
			<img src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/write13.png" height="13px" width="13px"> Ask a Question about this 
			article</a>
		</li>

		<li><a id="ctl00_TopNavBar_QAAsk" class="fly highlight2" href="http://www.codeproject.com/Questions/ask.aspx"><img src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/write13.png" height="13px" width="13px"> Ask a Question</a></li>

		
		<li><a id="ctl00_TopNavBar_QAUnanswered" class="fly" href="http://www.codeproject.com/script/Answers/List.aspx?tab=unanswered">View Unanswered Questions</a></li>
		<li><a id="ctl00_TopNavBar_QALatest" class="fly" href="http://www.codeproject.com/script/Answers/List.aspx?tab=active">View All Questions...</a></li>
		
				<li><a id="ctl00_TopNavBar_QATR_ctl00_Tag" class="fly" href="http://www.codeproject.com/script/Answers/List.aspx?tab=active&amp;alltags=true&amp;tags=81" style="padding-left:30px">C# questions</a></li>
			
				<li><a id="ctl00_TopNavBar_QATR_ctl01_Tag" class="fly" href="http://www.codeproject.com/script/Answers/List.aspx?tab=active&amp;alltags=true&amp;tags=85" style="padding-left:30px">ASP.NET questions</a></li>
			
				<li><a id="ctl00_TopNavBar_QATR_ctl02_Tag" class="fly" href="http://www.codeproject.com/script/Answers/List.aspx?tab=active&amp;alltags=true&amp;tags=842" style="padding-left:30px">VB.NET questions</a></li>
			
				<li><a id="ctl00_TopNavBar_QATR_ctl03_Tag" class="fly" href="http://www.codeproject.com/script/Answers/List.aspx?tab=active&amp;alltags=true&amp;tags=93" style="padding-left:30px">SQL questions</a></li>
			
				<li><a id="ctl00_TopNavBar_QATR_ctl04_Tag" class="fly" href="http://www.codeproject.com/script/Answers/List.aspx?tab=active&amp;alltags=true&amp;tags=377" style="padding-left:30px">C#3.5 questions</a></li>
			
		<li class="last"></li>
	</ul>

</li>



<li class=""><a id="ctl00_TopNavBar_Forums" href="http://www.codeproject.com/script/Forums/List.aspx">discussions</a>

	<ul>
		<li><a id="ctl00_TopNavBar_MessageBoardsAll" class="fly" href="http://www.codeproject.com/script/Forums/List.aspx">All Message Boards...</a></li>
		<li class=""><a class="fly" style="padding-left:30px" href="http://www.codeproject.com/Forums/1580997/Application-Lifecycle.aspx">Application Lifecycle<span class="has-submenu">&gt;</span></a>
<ul class="openable"><li><a class="fly" href="http://www.codeproject.com/Forums/1533717/Running-a-Business.aspx">Running a Business</a></li>
<li><a class="fly" href="http://www.codeproject.com/Forums/1533716/Sales-Marketing.aspx">Sales / Marketing</a></li>
<li><a class="fly" href="http://www.codeproject.com/Forums/1651/Collaboration-Beta-Testing.aspx">Collaboration / Beta Testing</a></li>
<li><a class="fly" href="http://www.codeproject.com/Forums/3304/Work-Training-Issues.aspx">Work &amp; Training Issues</a></li>
</ul></li>
<li><a class="fly" style="padding-left:30px" href="http://www.codeproject.com/Forums/369270/Design-and-Architecture.aspx">Design and Architecture</a>
</li>
<li><a class="fly" style="padding-left:30px" href="http://www.codeproject.com/Forums/12076/ASP-NET.aspx">ASP.NET</a>
</li>
<li><a class="fly" style="padding-left:30px" href="http://www.codeproject.com/Forums/1580226/JavaScript.aspx">JavaScript</a>
</li>
<li class=""><a class="fly" style="padding-left:30px" href="http://www.codeproject.com/Forums/1647/C-Cplusplus-MFC.aspx">C / C++ / MFC<span class="has-submenu">&gt;</span></a>
<ul class="openable"><li><a class="fly" href="http://www.codeproject.com/Forums/4486/ATL-WTL-STL.aspx">ATL /  WTL / STL</a></li>
<li><a class="fly" href="http://www.codeproject.com/Forums/3785/Managed-Cplusplus-CLI.aspx">Managed C++/CLI</a></li>
</ul></li>
<li><a class="fly" style="padding-left:30px" href="http://www.codeproject.com/Forums/1827459/Adobe-Technologies.aspx">Adobe Technologies</a>
</li>
<li><a class="fly" style="padding-left:30px" href="http://www.codeproject.com/Forums/1649/Csharp.aspx">C#</a>
</li>
<li><a class="fly" style="padding-left:30px" href="http://www.codeproject.com/Forums/1627782/Free-Tools.aspx">Free Tools</a>
</li>
<li><a class="fly" style="padding-left:30px" href="http://www.codeproject.com/Forums/1827460/Objective-C.aspx">Objective-C</a>
</li>
<li><a class="fly" style="padding-left:30px" href="http://www.codeproject.com/Forums/1832431/Ruby-On-Rails.aspx">Ruby On Rails</a>
</li>
<li><a class="fly" style="padding-left:30px" href="http://www.codeproject.com/Forums/1725/Database.aspx">Database</a>
</li>
<li class=""><a class="fly" style="padding-left:30px" href="http://www.codeproject.com/Forums/186301/Hardware-Devices.aspx">Hardware &amp; Devices<span class="has-submenu">&gt;</span></a>
<ul class="openable"><li><a class="fly" href="http://www.codeproject.com/Forums/1644/System-Admin.aspx">System Admin</a></li>
</ul></li>
<li><a class="fly" style="padding-left:30px" href="http://www.codeproject.com/Forums/1606152/Hosting-and-Servers.aspx">Hosting and Servers</a>
</li>
<li><a class="fly" style="padding-left:30px" href="http://www.codeproject.com/Forums/1643/Java.aspx">Java</a>
</li>
<li><a class="fly" style="padding-left:30px" href="http://www.codeproject.com/Forums/1650/NET-Framework.aspx">.NET Framework</a>
</li>
<li><a class="fly" style="padding-left:30px" href="http://www.codeproject.com/Forums/1848626/Android.aspx">Android</a>
</li>
<li><a class="fly" style="padding-left:30px" href="http://www.codeproject.com/Forums/1876716/iOS.aspx">iOS</a>
</li>
<li><a class="fly" style="padding-left:30px" href="http://www.codeproject.com/Forums/13695/Mobile.aspx">Mobile</a>
</li>
<li><a class="fly" style="padding-left:30px" href="http://www.codeproject.com/Forums/1540733/Sharepoint.aspx">Sharepoint</a>
</li>
<li><a class="fly" style="padding-left:30px" href="http://www.codeproject.com/Forums/1004257/Silverlight-WPF.aspx">Silverlight / WPF</a>
</li>
<li><a class="fly" style="padding-left:30px" href="http://www.codeproject.com/Forums/1646/Visual-Basic.aspx">Visual Basic</a>
</li>
<li><a class="fly" style="padding-left:30px" href="http://www.codeproject.com/Forums/1640/Web-Development.aspx">Web Development</a>
</li>
<li><a class="fly" style="padding-left:30px" href="http://www.codeproject.com/suggestions.aspx">Site Bugs / Suggestions</a>
</li>

		<li class="last"></li>
	</ul>

</li>

<li class=""><a id="ctl00_TopNavBar_Features" href="http://www.codeproject.com/Feature/">features</a>

	<ul>
		<li><a id="ctl00_TopNavBar_Comps" class="fly" href="http://www.codeproject.com/script/Awards/CurrentCompetitions.aspx?cmpTpId=1&amp;awsac=true">Competitions</a></li>
		<li><a id="ctl00_TopNavBar_News" class="fly" href="http://www.codeproject.com/script/News/List.aspx">News</a></li>
		<li><a id="ctl00_TopNavBar_Insider" class="fly" href="http://www.codeproject.com/Feature/Insider/">The Insider Newsletter</a></li>
    	<li><a id="ctl00_TopNavBar_DailyBuild" class="fly" href="http://www.codeproject.com/Feature/DailyBuild">The Daily Build Newsletter</a></li>
		<li><a id="ctl00_TopNavBar_Newsletters" class="fly" href="http://www.codeproject.com/script/Mailouts/Archive.aspx?mtpid=1">Newsletter archive</a></li>
		<li><a id="ctl00_TopNavBar_Surveys" class="fly" href="http://www.codeproject.com/script/Surveys/List.aspx">Surveys</a></li>
		<li><a id="ctl00_TopNavBar_Showcase" class="fly" href="http://www.codeproject.com/KB/showcase/">Product Showcase</a></li>
		<li><a id="ctl00_TopNavBar_Research" class="fly" href="http://www.codeproject.com/script/ResearchLibrary/Index.aspx">Research Library</a></li>

		<li><a id="ctl00_TopNavBar_Stuff" class="fly" href="http://www.codeproject.com/Info/Stuff.aspx">CodeProject Stuff</a></li>
		<li class="last"></li>
	</ul>

</li>


<li class=""><a id="ctl00_TopNavBar_Lounge" href="http://www.codeproject.com/Lounge.aspx">community</a>

	<ul>
		<li><a id="ctl00_TopNavBar_WhosWho" class="fly" href="http://www.codeproject.com/script/Membership/Profiles.aspx">Who's Who</a></li>
		<li><a id="ctl00_TopNavBar_MVPs" class="fly break" href="http://www.codeproject.com/script/Awards/MVPWinners.aspx">Most Valuable Professionals</a></li>
		

		<li><a id="ctl00_TopNavBar_LoungeLnk" class="fly highlight2" href="http://www.codeproject.com/Lounge.aspx">The Lounge &nbsp;</a></li>
		<li><a id="ctl00_TopNavBar_InsiderLnk" class="fly" href="http://www.codeproject.com/Insider.aspx">The Insider News</a></li>
		<li><a id="ctl00_TopNavBar_WeirdWonderful" class="fly" href="http://www.codeproject.com/Feature/WeirdAndWonderful.aspx">The Weird &amp; The Wonderful</a></li>
		<li><a id="ctl00_TopNavBar_SoapBoxLnk" class="fly" href="http://www.codeproject.com/Forums/1536756/The-Soapbox.aspx">The Soapbox</a></li>
		<li><a id="ctl00_TopNavBar_PRLnk" class="fly break" href="http://www.codeproject.com/Forums/1738007/Press-Releases.aspx">Press Releases</a></li>

		
		<li class=""><a class="fly" href="http://www.codeproject.com/Forums/1580229/Hindi.aspx">Non-English Language
			<span class="has-submenu">&gt;</span></a>
		<ul>
		<li><a class="fly" href="http://www.codeproject.com/Forums/1580229/Hindi.aspx">General Indian Topics</a></li>
		<li><a class="fly" href="http://www.codeproject.com/Forums/1580230/Chinese.aspx">General Chinese Topics</a></li>
		</ul>
		</li><li class="last"></li>
		
	</ul>

</li>


<li class="" style="margin-left:20px"><a id="ctl00_TopNavBar_Help" href="http://www.codeproject.com/KB/FAQs/">help</a>

	<ul>
		<li><a id="ctl00_TopNavBar_HelpWhatIs" class="fly" href="http://www.codeproject.com/info/guide.aspx">What is 'CodeProject'?</a></li>
		<li><a id="ctl00_TopNavBar_HelpGeneral" class="fly break" href="http://www.codeproject.com/KB/FAQs/">General FAQ</a></li>
		<li><a id="ctl00_TopNavBar_HelpPostQuestion" class="fly break highlight2" href="http://www.codeproject.com/Questions/ask.aspx">Ask a Question</a></li>
		<li><a id="ctl00_TopNavBar_HelpBugs" class="fly" href="http://www.codeproject.com/suggestions.aspx">Bugs and Suggestions</a></li>
		<li><a id="ctl00_TopNavBar_HelpArticles" class="fly" href="http://www.codeproject.com/Forums/1641/Article-Writing.aspx">Article Help Forum</a></li>
		<li><a id="ctl00_TopNavBar_HelpSiteMap" class="fly" href="http://www.codeproject.com/script/Content/SiteMap.aspx">Site Map</a></li>
		<li><a id="ctl00_TopNavBar_HelpAdvertise" class="fly" href="http://developermedia.com/">Advertise with us</a></li>
		<li><a id="ctl00_TopNavBar_HelpJobs" class="fly" href="http://www.codeproject.com/info/Jobs/">Employment Opportunities</a></li>
		<li><a id="ctl00_TopNavBar_HelpAboutUs" class="fly" href="http://www.codeproject.com/info/about.aspx">About Us</a></li>
		<li class="last"></li>
	</ul>

</li>

</ul>

</div>
	</td><td align="right">
		

<div class="searchbar">

<form method="get" action="/search.aspx?sbo=kw" name="Search" class="tight">


<table class="search" border="0" cellpadding="0" cellspacing="0"><tbody><tr><td><input tabindex="2" class="search  subdue" id="sb_tb" value="Search for articles, questions, tips" name="q"></td><td><input src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/search.gif" type="image"></td></tr></tbody></table>

<div class="hover-container">
	<div style="display: none;" id="SearchFilter" class="search-advanced small-text align-left">
	<b>Search within:<br></b>
		
		<input id="sb_kw" name="sbo" value="kw" checked="checked" type="radio"><label for="sb_kw">Articles</label><br>
<input id="sb_qa" name="sbo" value="qa" type="radio"><label for="sb_qa">Quick Answers</label><br>
<input id="sb_fm" name="sbo" value="fm" type="radio"><label for="sb_fm">Messages</label><br>


		
		

		
		
	</div>
</div>
</form>

</div>
	</td></tr></tbody></table>
	<div class="sub-headerbar-divider"></div>
	</div>
	

	<div id="A" class="container-content-wrap fixed"> 

	<div itemscope="" itemtype="http://schema.org/Article" class="container-content"> 

		<div class="clearfix">
			<div class="float-left container-breadcrumb">
				<div><a href="http://www.codeproject.com/script/Content/SiteMap.aspx">Articles</a> » <a href="http://www.codeproject.com/Chapters/6/General-Programming.aspx">General Programming</a> » <a href="http://www.codeproject.com/KB/recipes/"><span itemprop="articleSection">Algorithms &amp; Recipes</span></a> » <a href="http://www.codeproject.com/KB/recipes/#Algorithms">Algorithms</a></div>
			</div>

			<div class="align-left float-right padded-top" style="width">
				


 
&nbsp;










			</div>

			<div class="float-right article-nav">
				
				

<a id="ctl00_ActionLinks_BookmarkMd_ImgBt" title="Bookmark" alternatetext="Bookmark" name="bm_644067_2" onclick="return bookmarkMe(644067,2,'/script/Bookmarks/Ajax/Add.aspx?obid=644067&amp;obtid=2&amp;action=AddBookmark&amp;bio=true&amp;bis=medium','medium');" href="http://www.codeproject.com/script/Bookmarks/Add.aspx?obid=644067&amp;obtid=2&amp;action=AddBookmark&amp;bio=true&amp;bis=medium" style="display:inline-block;height:24px;width:24px;"><img title="Bookmark" src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/bookmark24.png" alt="" style="border-width:0px;"></a>


<span id="ctl00_ActionLinks_BookmarkMd_StatusMsg" class="tiny-text" style="display:none" name="bm_644067_2"></span>
<a id="ctl00_ActionLinks_PrintMd" href="http://www.codeproject.com/Articles/644067/Applying-Ant-Colony-Optimization-Algorithms-to-Sol?display=Print">
	<img src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/print24.png" title="Print" style="border:0" height="24px" width="24px">
</a>
			</div>

			<div class="align-right float-left">
				
			</div>
		</div>

		<table class="extended container-article-parts" cellpadding="0" cellspacing="0">
        <tbody><tr valign="top">
		<td width="117px">

			<div style="position: fixed; top: 10px; left: 401.5px;" id="ctl00_Nav" class="container-article-tabs stuck">
				<div class="tabs">
					

<div class="">
	<div class="selected">Article</div><div class="unselected"><a href="http://www.codeproject.com/script/Articles/ViewDownloads.aspx?aid=644067">Browse Code</a></div><div class="unselected"><a href="http://www.codeproject.com/script/Articles/Statistics.aspx?aid=644067">Stats</a></div><div class="unselected"><a href="http://www.codeproject.com/script/Articles/ListVersions.aspx?aid=644067">Revisions (8)</a></div><div class="unselected"><a href="http://www.codeproject.com/script/Articles/ListAlternatives.aspx?aid=644067">Alternatives</a></div>

	<div class="unselected"><a href="http://www.codeproject.com/Articles/644067/WebControls/#_comments" id="ctl00_ArticleTabs_CommentLink" class="anchorLink">Comments 
        <span id="ctl00_ArticleTabs_CmtCnt">(19)</span></a>
	</div>
</div>	

				</div>

				

			    <div class="tags"> 
                    <h4>Tagged as</h4>
			        <span id="ctl00_TagsList_TagWrp" class="tags">
	
	
	
	<span id="ctl00_TagsList_VisibleTags"><div class="t"><a rel="tag" href="http://www.codeproject.com/Tags/C--plus----plus--">C++</a></div><div class="t"><a rel="tag" href="http://www.codeproject.com/Tags/MFC">MFC</a></div><div class="t"><a rel="tag" href="http://www.codeproject.com/Tags/GDI--plus--">GDI+</a></div><div class="t"><a rel="tag" href="http://www.codeproject.com/Tags/Boost">Boost</a></div><div class="t"><a rel="tag" href="http://www.codeproject.com/Tags/VC--plus----plus--">VC++</a></div><div class="t"><a rel="tag" href="http://www.codeproject.com/Tags/VS2012">VS2012</a></div></span> 

	
	
</span>

			    </div>

				<div class="padded-top related">
					
	<h4 id="ctl00_RelatedArticles_RelatedResults_ctl00_header">Related Articles</h4>
	<div class="content-list">	
	
	<div class="content-list-item">
		<a id="ctl00_RelatedArticles_RelatedResults_ctl01_Link" href="http://www.codeproject.com/Articles/26758/Simulated-Annealing-Solving-the-Travelling-Salesma">Simulated Annealing - Solving the Travelling Salesman Problem (TSP)</a>
		
	</div>
	
	<div class="content-list-item">
		<a id="ctl00_RelatedArticles_RelatedResults_ctl03_Link" href="http://www.codeproject.com/Articles/5436/Genetic-and-Ant-Colony-Optimization-Algorithms">Genetic and Ant Colony Optimization Algorithms</a>
		
	</div>
	
	<div class="content-list-item">
		<a id="ctl00_RelatedArticles_RelatedResults_ctl04_Link" href="http://www.codeproject.com/Articles/15979/Evolution-computations-on-C">Evolution computations on C#</a>
		
	</div>
	
	<div class="content-list-item">
		<a id="ctl00_RelatedArticles_RelatedResults_ctl05_Link" href="http://www.codeproject.com/Articles/855419/Ant-Colony-Optimization-to-solve-a-classic-Asymmet">Ant Colony Optimization to solve a classic Asymmetric Travelling Sales Man Problem</a>
		
	</div>
	
	<div class="content-list-item">
		<a id="ctl00_RelatedArticles_RelatedResults_ctl06_Link" href="http://www.codeproject.com/Articles/668185/Network-routing-using-Ant-Colony-Optimization">Network routing using Ant Colony Optimization</a>
		
	</div>
	
	</div>
	

				</div>

                <div class="anchorLink gototop" id="gototop">
                    <a id="ctl00_GoToTop" href="http://www.codeproject.com/Articles/644067/Applying-Ant-Colony-Optimization-Algorithms-to-Sol#_articleTop">Go to top</a>
                </div>
			</div>

		</td>
		<td>
			
			<div id="AT" class="container-article  fixed"> 
				<div class="article">

					<form name="aspnetForm" method="post" action="/Articles/644067/Applying-Ant-Colony-Optimization-Algorithms-to-Sol" id="aspnetForm" style="margin:0;padding:0">
<div>
<input name="__VIEWSTATE" id="__VIEWSTATE" value="TEoHaTdc4UpePe6LcMVanW3aK5EK98HvROyIRyyyCmOUETNjsO2p0BpnmmaS0ZnnGBxqVpsW6cJFpn4BQnSSzh+2220OTsCxep6VgDzcezIv7Qn0uf/DRyZKS4PtF6nLpR8Alsd0RzMYbrdQ8Tiy7qsgQl5DmQMZVgZmv58nHIGXcCEgx09Q0tclo5N/ZqU5262JbBAUlyudSAnNoZnuh44ZsGYYsCpYYYyAgd8Z42/auPvqRaO7hffXnojDur/5VPXCDMmQdReZnFBb+3RvoCsTgPwuIIM0cG6D579zGfGOi3yc5jE3JvfQzGG0NpIIFXf54R3MUEQ+6Je/xTYyyR/3sI6ZuOm7MBdOjpzyXwAKgknMbcoCDKerKcz+AMJkxDrlmH+OJH6MzomqlbM1ftakBiZrT/obuMC+4YqNpu0iRDVxzBEn7ujXxHTpzPZhzBmNDyeyxgqsqHteGjwR7TjkoQJ3FdD9ObRuDtnHs1pYb9JrKTtawFBrw1iK6MMtXXR4CE3i7dY5XN21/CTSKIxTgNOzTvPFulK7kjLL+77dotgW2g9f378k1f2aGirxpn6GIHniqttop92NH3vSpjnimUVdtsggp/oADbadIzJjI0AmJdA23JTJuMnFK/7glmugjgrNqbKEjp2ZgKurrPwMAK0rTaLn54MxfoAHVM55Sfvn4Fa2Z0h3jCyeRVOlrDJ2IIWbcyn7r5nkxkZ7/AWldyyV6DG2R7oRc0mEYIuSLsYZell6EjiLgK7/tADiOrDtVLaWkV661oGvakTvWSLDF0EeWWhxPVn0beL0XzsY5/BgTYGkjIO5FGd5F0ZwixS13BtGhsv3yAdAaz7XysJ9R9/EBzdYX9/NTski612qqWKx1uY//OvfOlZ4tDhDNCX76jD2cedkIgM0N9JQhIv0hW+sCeCRJK3tfzxL52kFU1NDrBWRFWhJ1+Zac0DqTNn/1FGIOC3WphXNXHFpJgiZGbyEokubh1htSc7aE88Tg/pFfBNaoT7LDy9naWSk/WZWibsqMiaAmhg//bgN8GPQIliJp3fW3N0FEZodB06kW6Jhp6DQ5wzSzVQ8b3PZRvXsY9/gvU00WsUjlMLpGq10Z1iMKe1jrvupNVvLP32XPirmPC3qMhEkcr+t/3E/+AF1ySMxY37IMyMoB9NrnnW4XslVU5NDT7zNAwkidO7hx/ekDdSFNhXQDyp4HWhx3NPzRp0MmFm9jv39ZZ4CgkCinCHxj1ZBQK3daZUwdo65pWM5YtmDqCshKlAX43BzJGrTo+eMAnfRHvGW7OgCIf8iUNckO4VlK5T8/DHDxvqOsWttARUcj3BMZT1qTFQMJDW/QYDUXEK7KdQytoNppbcDlmEn9gDdyyHYvMW3WLM+ukM6OL72cm42jRPL2xCQjBGeM5NKLQT+HCLYucn2YFf65+6ZQSFdbgp44CRxGENtFOfs2LNxV2r7TaJcMrup8BHRelDrksHO46trugM1rGXWtPZWOQUOD/WcgcbGxPTvyeshv45IrbIGT28P3gukynjwvl5hNohcMvyVU8Fg4OY0PWGRf+zrvLIBle2ZH71dUV7vqRJUzw8Jvm+Pd5CqW8m/AIOsw0mwjkBNFqQmVCluJBvUZGbzlFYMPkGIMKftTy5ej/20kByRg6gkYt2dBOkxXStSGhqMAJ6644d9cEHxTuvUIHZXfbOw3z79kVpCp3qsv8zUGoTQPKAMiZKHgRxE3+AdFrARilhhJBb+2NMOiA8I34pLXDFx4Sn2G4SbdqypTqx0In4KHhN36x7gTuT4ZuZuLK2EJdPr1Uy8/ZeWfME126VEvxT2jKVmHxoqcz89tsUWrl30KUMmRoWWBRWvMkKWkH0SwHLcPu+RsvtLYW7oF7KYXEgi6yOuG3tJbKQwEJiwU5qMeTn+fKmRvhir4uXF9LqVqytS9QnqgVIo0PeU6HpiK618E4agjPqP2nNce/oYalCx6IhVdwdaI2FkTaX8acOboLls/XaRQ/FeXp1/4VDejzoA+3NEZ6RxY3BvaSgDfNSSKg84rffCg3ph3Z4AF08EUJzpifud0jOxLToU43gr175LKmihDtwxUJ5iAwRYPs2S0woMSvIOi5PIHU5cI8fzi27c7enCNLqhJCEEcBqMfI6paO6Iv+U7NZfSToqNfefTnjIcXIJ+zacLKSlgNFsQV/hKicSnNEzru78IkFtAiEdSJeuSckBwIDr4cu/yggnIBYpVmtpwAaABHw==" type="hidden">
</div>

<div>

	<input name="__VIEWSTATEGENERATOR" id="__VIEWSTATEGENERATOR" value="10C1FD69" type="hidden">
</div>

					
					 
					<div class="header">
					    <a name="Main"></a>

					    
					    <a name="_articleTop" id="_articleTop"></a>
					    <div class="title">
					        
					        <h1 id="ctl00_ArticleTitle" itemprop="name">Applying Ant Colony Optimization Algorithms to Solve the Traveling Salesman Problem</h1> 
					    </div>

                        <div style="height:34px">
					        
					        <div class="entry float-left">
                                
                                <div class="float-left">

						            <span class="author"><a href="http://www.codeproject.com/script/Membership/View.aspx?mid=258141" rel="author"><span itemprop="author" itemscope="" itemtype="http://schema.org/Person"><span itemprop="name">geoyar</span></span></a></span>, 
						            <span class="date" itemprop="dateModified" content="2013-09-13 17:57:00">
							            13 Sep 2013</span>
			
                                    <a id="ctl00_LicenseLink" title="The Code Project Open License (CPOL)" class="license" href="http://www.codeproject.com/info/cpol10.aspx">CPOL</a><div id="ctl00_CurRat" class="tooltip anchorLink" style="cursor:pointer;margin-top: 5px" name="CurRat_644067">
				
							            

<table class="small-text" itemprop="aggregateRating" itemscope="" itemtype="http://schema.org/AggregateRating" cellpadding="0" cellspacing="0"> 
<tbody><tr>
	
	<td class="nowrap">

		
			<meta itemprop="bestRating" content="5"> 
			<meta itemprop="worstRating" content="1">
		

		<span id="ctl00_ArticleRating_VI">
		<div class="nowrap rating-stars-large" style="height:21px;width:119px;position:relative;">
	<div class="clipped align-left float-left" style="height:19px;width:118px;">
		<img src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/stars-fill-lg.png" style="border-width:0px;">
	</div><div class="clipped" style="height:19px;width:1px;position:relative;">
		<img src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/stars-empty-lg.png" style="border-width:0px;position:absolute;top:0;right:0;">
	</div>
</div>
		</span>

		
	</td>
	
	<td id="ctl00_ArticleRating_VR" class="nowrap">
		&nbsp;
		<span id="ctl00_ArticleRating_VotesR">&nbsp;<span itemprop="ratingValue" class="rating">4.98</span> (<span itemprop="ratingCount" class="count">33</span> votes)</span>
		
	</td>

</tr>

</tbody></table>


							            <div id="ctl00_RB" class="speech-bubble-container-up">
								            <div class="speech-bubble-up" style="width:150px !important">
									                        
<div>
<table class="feature" title="Voting Distribution. Recent data only" height="50px" width="100%" cellpadding="0" cellspacing="0"><tbody><tr class="chart-row"><td class="chart-column"><span title="0 votes">1</span></td>
<td class="chart-column"><span title="0 votes">2</span></td>
<td class="chart-column"><span title="0 votes">3</span></td>
<td class="chart-column"><div><img src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/pollcol.gif" alt="2 votes, 6.1%" title="2 votes, 6.1%" border="0px" height="3px" width="20pxpx"></div><span title="2 votes">4</span></td>
<td class="chart-column"><div><img src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/pollcol.gif" alt="31 votes, 93.9%" title="31 votes, 93.9%" border="0px" height="50px" width="20pxpx"></div><span title="31 votes">5</span></td>
</tr></tbody></table><div class="small-text align-center">4.98/5 - 33 votes</div><div class="small-text align-center subdue">μ 4.97, σ<sub>a</sub> 1.07 [<a href="http://www.codeproject.com/KB/FAQs/RatingReputationFAQ.aspx#noisefilter">?</a>]</div>
</div>
								            </div>
								            <div class="speech-bubble-pointer-up">
									            <div class="speech-bubble-pointer-up-inner"></div>
								            </div>
							            </div>
						            </div>
                                </div>
					        </div>

                            
						    <div id="ctl00_RateArticleRow" class="float-right align-right voting-bar">
						        <div id="ctl00_RateArticle_RateItemWrapper" class="small-text" name="RateItem_644067">

	<table class="small-text" width="100%" cellpadding="0" cellspacing="0">
	<tbody><tr>
		<td id="ctl00_RateArticle_VoteResultDiv" class="rating-result align-right">
			<span class="align-right"></span>
			<img class="loaderImg" alt="loading..." src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/animated_loading_blue.gif" style="display:none;" height="16px" width="16px"> 
		</td>

	
		<td class="voteTbl" style="white-space:nowrap" align="right">
			<table class="small-text">
			<tbody><tr>
				<td id="ctl00_RateArticle_RateText" class="rating-prompt">
					Rate this:
				</td>

				
				<td id="ctl00_RateArticle_VoteFormDiv" class="nowrap rating-stars-voter-large">
					

					<span id="ctl00_RateArticle_RB" class="tooltip ajaxHist radio voting">
						<span id="ctl00_RateArticle_VoteRBL"><input style="display: none;" id="ctl00_RateArticle_VoteRBL_0" name="ctl00$RateArticle$VoteRBL" value="1" type="radio"><input style="display: none;" id="ctl00_RateArticle_VoteRBL_1" name="ctl00$RateArticle$VoteRBL" value="2" type="radio"><input style="display: none;" id="ctl00_RateArticle_VoteRBL_2" name="ctl00$RateArticle$VoteRBL" value="3" type="radio"><input style="display: none;" id="ctl00_RateArticle_VoteRBL_3" name="ctl00$RateArticle$VoteRBL" value="4" type="radio"><input style="display: none;" id="ctl00_RateArticle_VoteRBL_4" name="ctl00$RateArticle$VoteRBL" value="5" type="radio"></span> 

						
					<div class="rating-star-block"><a title="vote 1" class="star outline" rating="1" href="#">vote 1</a><a title="vote 2" class="star outline" rating="2" href="#">vote 2</a><a title="vote 3" class="star outline" rating="3" href="#">vote 3</a><a title="vote 4" class="star outline" rating="4" href="#">vote 4</a><a title="vote 5" class="star outline" rating="5" href="#">vote 5</a></div></span>

				</td>

				
				<td style="padding-left:5px">	
					<input style="display: none;" name="ctl00$RateArticle$SubmitRateBtn" value="Vote!" id="ctl00_RateArticle_SubmitRateBtn" class="button" type="submit">
				</td>
			</tr>
			</tbody></table>
			
		</td>
	</tr>
	</tbody></table>
	<div class="hover-container">
		
        <div id="ctl00_RateArticle_RSU" class="rating-comment align-left float-right">
            <div class="padded">
            Please <a id="ctl00_RateArticle_SignUp" href="https://www.codeproject.com/script/Membership/LogOn.aspx?rp=%2fArticles%2f644067%2fApplying-Ant-Colony-Optimization-Algorithms-to-Sol">Sign up or sign in</a> to vote.
            </div>
        </div>
	</div>
</div>
						    </div>
						    	

						    	
                            <div class="float-right" style="margin: 4px 20px 0 0">
						        
                            </div>                    
						    	
                        </div>

   					    
                        <div id="ctl00_description" class="summary">Applying Ant Colony Optimization algorithms to solve the Traveling Salesman Problem.</div>			

                    </div>
                    
					
					

					

					
					
					

						
					

					

						
						<div id="contentdiv" class="text" itemprop="articleBody">
						



<div class="row"><ul class="download float-left">
<li><a href="http://www.codeproject.com/KB/recipes/644067/AntColSource.zip">Download source code - 3.61 MB</a></li>
<li><a href="http://www.codeproject.com/KB/recipes/644067/AntCol.zip">Download demo - 1.28 MB</a></li>
</ul><div class="float-left" style="margin-top:25px;margin-left:30px"><div data-format="1x11" data-type="ad" data-publisher="lqm.codeproject.site" data-zone="downloadlink" data-tags="c%2b%2b%2cmfc%2cgdi%2b%2cboost%2cvc%2b%2b%2cvs2012"></div></div></div>
<p><img style="width: 602px; height: 636px;" alt="644067/AppSnapShot.PNG" src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/AppSnapShot.PNG"></p>
<div class="Caption">Application main dialog</div>
<h2>Table of Contents</h2>
<ul>
	<li><a href="#_Toc364710424">Introduction</a></li>
	<li><a href="#_Toc364710425">Acknowledgements</a></li>
	<li><a href="#_Toc364710426">Preliminaries</a></li>
	<li><a href="#_Toc364710427">The
Traveling Salesman Problem</a></li>
	<li><a href="#_Toc364710428">Ant Colony
Optimization Algorithms</a></li>
<ul>
	<li><a href="#_Toc364710429">Ant System</a></li>
	<li><a href="#_Toc364710430">Construct
solutions</a></li>
	<li><a href="#_Toc364710431">Pheromone
Update</a></li>
	<li><a href="#_Toc364710432">Evaporation</a></li>
	<li><a href="#_Toc364710433">Elitist Ant
Algorithm</a></li>
	<li><a href="#_Toc364710434">Rank-Based
Ant System</a></li>
	<li><a href="#_Toc364710435">Best-Worst
Ant Algorithm</a></li>
	<li><a href="#_Toc364710436">Min-Max Ant
System</a></li>
	<li><a href="#_Toc364710437">Ant Colony System</a></li>
	<li><a href="#_Toc364710438">Solution
Construction</a></li>
	<li><a href="#_Toc364710439">Evaporation
and pheromone update</a></li>
</ul>
<li><a href="#_Toc364710440">Pheromone
Reset (Restart)</a></li>
	<li><a href="#_Toc364710441">Mutation</a></li>
	<li><a href="#_Toc364710442">Travel
Statistics</a></li>
<ul>
	<li><a href="#_Toc364710443">Travel Statistics:
Distance</a></li>
	<li><a href="#_Toc364710444">Travel
Statistics: Branch Factor</a></li>
	<li><a href="#_Toc364710445">Presentation
of statistics</a></li>
</ul>
	<li><a href="#_Toc364710446">User Manual
(Sort Of)</a></li>
<ul>
	<li><a href="#_Toc364710447">Select an
algorithm</a></li>
	<li><a href="#_Toc364710448">Set cities
extent, city number, max iteration number, α, β, and ρ</a></li>
	<li><a href="#_Toc364710449">Select the
method of city generation</a></li>
	<li><a href="#_Toc364710450">Manually
Setting Cities</a></li>
	<li><a href="#_Toc364710451">Setting
arbitrary cities configuration and distances (committing city map)</a></li>
	<li><a href="#_Toc364710452">Set Other
Algorithm Parameters</a></li>
	<li><a href="#_Toc364710453">Enable or
disable mutation and/or reset and set their parameters</a></li>
	<li><a href="#_Toc364710454">Set or Reset
a Symmetrical Option</a></li>
	<li><a href="#_Toc364710455">Select
Statistics to Gather</a></li>
	<li><a href="#_Toc364710457">Run the Test</a></li>
	<li><a href="#_Toc364710458">Monitoring
the test</a></li>
	<li><a href="#_Toc364710459">Saving results in XML files</a></li>
</ul>
	<li><a href="#_Toc364710460">What is
under the hood, or points of interest</a></li>
<ul>
<li><a href="#_Toc364710461">Model</a></li>
<li><a href="#_Toc364710462">Classes</a></li>
<li><a href="#_Toc364710463">How it works</a></li>
<li><a href="#_Toc364710464">The
algorithm classes</a></li>
<li><a href="#_Toc364710465">Algorithm factory</a></li>
<li><a href="#_Toc364710466">Using TypeLists for algorithm registration</a></li>
<li><a href="#_Toc364710467">Statistics</a></li>
<li><a href="#_Toc364710468">Lambda
expressions, STL algorithms, and this application</a></li>
<li><a href="#_Toc364710469">Bring your
own ant colony optimization algorithm</a></li>
<li><a href="#_Toc364710470">Bring your
own statistics</a></li>
<li><a href="#_Toc364710471">Running an
algorithm</a></li>
<li><a href="#_Toc364710472">Synchronization of the worker and the main threads</a></li>
<li><a href="#_Toc364710473">Drawing with GDI+</a></li>
	<li><a href="#_Toc364710474">Printing outside a document/view model</a></li>
<li><a href="#_Toc364710475">Creating a custom print dialog</a></li>
</ul>
<li><a href="#_Toc364710476">The source
code and demo project</a></li>
<li><a href="#_Toc364710477">History</a></li>
</ul>





<h2><a name="_Toc364710424"></a><a name="_Toc350624859"></a>Introduction</h2>



<p>I was always interested in Artificial Intelligence problems.
So when I saw the article <a href="http://www.codeproject.com/KB/recipes/GeneticandAntAlgorithms.aspx">"Genetic
and Ant Colony Optimization Algorithms"</a> by Peter Kohout, I immediately
downloaded it. The article was about solutions of a Traveling Salesman
Problem. While I was reading the article and its code, it occured to me that a math
graph might be a natural mathematical model for this problem. Out of pure
curiosity, I decided to rewrite the code using the Boost Graph Library. In the
process of writing code, I learned about other Artificial Ant
algorithms. I decided to add them to the code. I wanted to look deeper into the
algorithm's behavior, so I added several statistics to calculate. I added means
to present these statistics as graphic charts. I also added means to view and peruse
as many graph snapshots at runtime as the user needed. I added
serialization of configurations and trip results into XML files, and
possibilities to load and run external ant colony configurations and graph
snapshots of them. I added the routines to print graph snapshots as tables, and
reports for the best to-date solutions. In the end, I had an application with
a very different user interface and a very different code.</p>



<p>The application has an open-end architecture. You can very
easily add new algorithms and statistics to the application not changing most of the
application code.</p>



<p>The AI aficionados will find there possibilities to play with
algorithms of Artificial Ant Colony Optimization and their parameters. They
will be able to look at every step of the proceedings. </p>



<p>The algorithms implemented are:</p>

<ul type="disc">
 <li>Ant System</li>
 <li>Elitist Ant System</li>
 <li>Ranked Ant System</li>
 <li>Best-Worst Ant System</li>
 <li>Min-Max Ant System</li>
 <li>Ant Colony</li>
</ul>



<p>These algorithms are discussed below.</p>



<p>I hope that people not interested in AI at all will still
find something for themselves in the app code. It might be:</p>

<ul>
	<li>Use of the object factory design patterns</li>
	<li>Use of <code>TypeList</code> templates for registration of objects with
factories</li>
<li>C++ lambda expressions in STL algorithms</li>
	<li>Thread synchronization with events</li>
	<li>Customization of the MFC <code>CPrintDialog</code> class</li>
	<li>Implementation of a rather complicated user interface</li>
</ul>



<p>and other things.</p>



<p>Anyway, I wish you good reading.</p>

<h2><a name="_Toc364710425"></a><a name="_Toc350624860"></a>Acknowledgements</h2>



<p>Definitions
of Ant Colony Optimization algorithms can be found in the book <a href="http://mitpress.mit.edu/catalog/item/default.asp?ttype=2&amp;tid=10139">Ant
Colony Optimization </a>by Marco Dorigo and Thomas Stützle. Most of the content
of this book is accessible via Google Preview on the book's web page. Also very
useful was <a href="http://www.dbai.tuwien.ac.at/staff/musliu/ACO_online_final.pdf">Ant
Colony Optimization for Tree and Hypertree Decompositions</a>, Master Thesis by
Thomas Hammerl of Vienna.</p>

<p>I also used <a href="http://iridia.ulb.ac.be/%7Emdorigo/ACO/aco-code/public-software.html">ACOTSP
Software by Thomas Stützle</a>. This software
is written in C under Unix OS. I used it as a reference to Ant Colony
Optimization algorithms.</p>



<p>I want to thank Igor Tandetnik for his very useful
recommendations in reply to my inquires on MSDN Developers Forums.</p>



<h2><a name="_Toc364710426"></a><a name="_Toc350624861"></a>Preliminaries</h2>

<p>To compile and link the code I
used <em>MS Visual Studio 2012 Ultimate Update 3.</em> Because I used my ChartCtrlLib
library in the code the project requests an addition of the preprocessor
directive <code>_VARIADIC_MAX=10</code> to the project properties. The debug and release
versions of the library are in the <em>Debug</em> and <em>Release</em> folders of the
solution directory.</p>

<p>All code can be compiled
under <em>MS Visual Studio 2010, </em>but you will have to start a new solution
and manually import the project properties from the VS 2012 solution. The source
code should not be changed.<em> </em></p>

<p>In this application, I used the
static MFC library <em>ChartCtrlLib.lib</em>, and the proprietary slider control
<code>CSliderGdiCtrlT</code>. You can get detailed information on the library from my
article<a title="&quot;An MFC Chart Control with Enhanced User Interface&quot;" href="http://www.codeproject.com/Articles/317712/An-MFC-Chart-Control-with-Enhanced-User-Interface"> </a><a href="http://www.codeproject.com/Articles/317712/An-MFC-Chart-Control-with-Enhanced-User-Interface">An
MFC Chart Control with Enhanced User </a><a href="http://www.codeproject.com/Articles/317712/An-MFC-Chart-Control-with-Enhanced-User-Interface">Interface,
</a>and about the slider from <a href="http://www.codeproject.com/Articles/181882/SliderGdiCtrl-Yet-Another-Slider-Control-Accepts-A">SliderGdiCtrl:
Yet Another Slider Control - Accepts (Almost) All POD Types and Uses
GDI+. </a>Headers for both controls and the compiled library are included in 
the zip files for this project. The part of information about the use of <code>TypeList</code>s
is in my article <a href="http://www.codeproject.com/Articles/86717/Object-Factory-Design-Pattern-Register-Creator-Fun">Object
Factory Design Pattern: Register Creator Functions Using TypeLists and Template
Metaprogramming</a>. Code for the static library and for the slider seamlessly compile under Visual Studio 2012.</p>

<p>You will need the Boost Graph
Library. I used Boost v. 1_51.0. You can download it from <a title="Boost" href="http://www.boost.org/">Boost site</a> or use <a title="BoostPro 1.51.0 Installer" href="http://www.boostpro.com/download">BoostPro
1.51.0.0 Installer</a>. </p>

<p>All
custom controls are built with GDI+.</p>

<p>You will
need all this information if you are adding your own algorithms to this
application.</p>



<h2><a name="_Toc364710427"></a><a name="_Toc350624862"></a>The Traveling Salesman Problem</h2>



<p>The quote from the "Ant Colony Optimization": The
Traveling Salesman Problem is a problem of a salesman who, starting from his
hometown, wants to find the shortest tour that takes him through a given set of
customer cities and then back home, visiting each customer city exactly
once." Each city is accessible from all other cities.</p>



<h2><a name="_Toc364710428"></a><a name="_Toc350624863"></a>Ant Colony Optimization Algorithms</h2>



<p>In all Ant Colony Optimization algorithms, each ant gets
a start city. Beginning from this city, the ant chooses the next city according
to algorithm rules. After visiting all customer cities exactly once, the ant
returns to the start city. The ants might travel concurrently or in sequence.
Each ant deposits some amount of pheromone on his path. The amount of pheromone
depends on the quality of the ant's path: a shorter path usually results in a
greater amount of pheromone. The deposited pheromone suffer from evaporation.</p>

<p>The algorithms use different rules for selection of
the next city to move to, for evaporation, and for deposition of pheromone.</p>

<p>A nightmare of each optimization algorithm is to be stuck forever
in some locally optimal loop.</p>

<p>Different techniques to escape such loops were developed for
different Ant Colony Optimization algorithms.</p>



<p>This application implements six known algorithms so far:</p>

<ul type="disc">
 <li>Ant System</li>
 <li>Elitist Ant System</li>
 <li>Ranked Ant System</li>
 <li>Best-Worst Ant System</li>
 <li>Min-Max Ant System</li>
 <li>Ant Colony</li>
</ul>



<p>Each algorithm might be run with mutation and/or restart
options enabled or disabled.</p>



<p>I did not invent any of these algorithms. I used sources I
listed in the <strong>Acknowledgments </strong>section of this article with minor
modifications. Symbols in the algorithm equations below are the same as they are in
the sources listed in <strong>Acknowledgments.</strong> </p>



<h3><a name="_Toc364710429"></a><a name="_Toc350624864"></a>Ant System</h3>



<p>The Ant System Optimization algorithm is the first algorithm
proposed and analyzed by Marco Dorigo.</p>
<h3><a name="_Toc364710430"></a><a name="_Toc350624865"></a>Construct solutions</h3>



<p>Initially every path between cities
has some initial amount of pheromone. Each ant starts from a randomly
assigned city and goes from a city to the next city until all cities are
visited exactly once. From the last visited city the ant returns to the start
city.</p>

<p>The ant in city <strong>i</strong> selects
the next city to visit by calculating probabilities:</p>



<p><a href="http://www.codeproject.com/KB/recipes/644067/AntSysTrav.PNG"><img style="border: 0px solid currentColor; width: 458px; height: 89px;" alt="644067/AntSysTrav.PNG" src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/AntSysTrav.PNG"></a></p>

<p>Here</p>

<ul>
	<li><strong>s<sup>p</sup> - </strong>partial solution #p</li>
<li><strong>N </strong>- set of all paths from the city i<strong><em> </em></strong>to all
adjacent cities still not visited by the ant</li>
	<li><strong>c<sub>ij </sub></strong>- path from the city <strong>i</strong> to the city <strong>j</strong></li>
	<li><strong>p - </strong>probability</li>

	<li><strong>t<sub>ij</sub></strong> -
amount of pheromone on the path <strong>c<sub>ij</sub></strong></li><li><strong>h<sub>ij</sub></strong> -
some heuristic factor, usually <sub>
	<img style="border: 0px solid currentColor; width: 76px; height: 28px;" alt="644067/AntSysTrav_0.PNG" src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/AntSysTrav_0.PNG" align="top"></sub>,
where<strong> d<sub>ij</sub></strong><sub> </sub>is a distance between cities <strong>i</strong>
and <strong>j, Q </strong>is some constant</li>
<li><strong>α</strong> and <strong>β</strong> - algorithm parameters.</li>
</ul>



<p>The ant compares <sub><img style="border: 0px solid currentColor; width: 73px; height: 34px;" alt="644067/AntSysTrav_1.PNG" src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/AntSysTrav_1.PNG" align="middle"></sub>for
each <strong>j</strong> to be traveled to some random number<sub><img style="border: 0px solid currentColor; width: 69px; height: 22px;" alt="644067/AntSysTrav_2.PNG" src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/AntSysTrav_2.PNG" align="top"></sub>.
If <sub><img style="border: 0px solid currentColor; width: 111px; height: 38px;" alt="644067/AntSysTrav_3.PNG" src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/AntSysTrav_3.PNG" align="middle"></sub>&nbsp;,
the ant immediately moves to the city <strong>j</strong>. It means that the ant does not
always select the path with maximal pheromone, thus diminishing chances to get
caught into a local loop.</p>

<p>There always is a very, very tiny
probability of never satisfying the condition<sub><img style="border: 0px solid currentColor; width: 105px; height: 30px;" alt="644067/AntSysTrav_4.PNG" src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/AntSysTrav_4.PNG" align="top"></sub>.
So in this application I use a modification proposed in <a href="http://mitpress.mit.edu/catalog/item/default.asp?ttype=2&amp;tid=10139">Ant
Colony Optimization.</a> For the given city <strong>i </strong>I still generate a random
number <sub><img style="border: 0px solid currentColor; width: 70px; height: 30px;" alt="AntSysTrav_5" src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/AntSysTrav_5.PNG" align="middle"></sub>&nbsp;but
compare it to the moving sum<sub><img style="border: 0px solid currentColor; width: 107px; height: 45px;" alt="AntSysTrav_6" src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/AntSysTrav_6.PNG" align="middle"></sub>.
The sum is updated with each new calculated<sub><img style="border: 0px solid currentColor; width: 73px; height: 34px;" alt="644067/AntSysTrav_1.PNG" src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/AntSysTrav_1.PNG" align="middle"></sub>.
The first <strong>j</strong> that gives <sub><img style="border: 0px solid currentColor; width: 141px; height: 43px;" alt="644067/AntSysTrav_7.PNG" src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/AntSysTrav_7.PNG" align="middle"></sub> is
the index of the next city to move. Actually, this modification makes
a difference only in the very first trial's steps, when the pheromones deposited
on the travel paths are very close to each other. At the end of the test, the
ant usually takes the maximum p path.</p>



<p>The ants travel concurrently. It
means that there is no pheromone correction until all ants return to their
start cities.</p>

<h3><a name="_Toc364710431"></a><a name="_Toc350624867"></a>Pheromone Update</h3>



<p>The ants update pheromones on paths
connecting the cities according to the formula:</p>
<p align="center"><img alt="644067/AntSysTrav_5.PNG" src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/AntSysTrav_10.PNG" align="middle"></p>




<p>where</p>

<ul>
	<li><strong>m </strong>- number of ants,</li>
	<li><sub><img style="border: 0px solid currentColor; width: 83px; height: 39px;" alt="644067/AntSysTrav_11.PNG" src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/AntSysTrav_11.PNG" align="middle"></sub> if
	the ant <strong>k </strong>traveled the path <img style="width: 28px; height: 28px;" alt="644067/AntSysTrav_13.png" src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/AntSysTrav_13.png" align="middle">between cities i and j; <strong>Q </strong>is some constant, and <strong>L<sub>k</sub></strong> is the length of the <strong>k<sup>th</sup>
	</strong>ant's travel </li>
	<li><sub><img style="border: 0px solid currentColor; width: 75px; height: 40px;" alt="644067/AntSysTrav_12.PNG" src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/AntSysTrav_12.PNG" align="middle"></sub>0
otherwise.</li>
</ul>





<p>In this application, <strong>Q </strong>is a
city's extent, i.e. the side of the least square that contains all cities. 
Because <strong>Q</strong> appears only as a numerator in fractions where
denominators are distances, it keeps the results independent of the scale of
the city's coordinates.</p>



<p>There are very different recommendations
related to the values of <strong>α</strong>, <strong>β</strong>, <stromg>ρ, 
start values of pheromone, and the number of ants (ρ is an evaporation factor, see below). One article recommends <strong>α = 1, </strong><strong>β=2,&nbsp;
</strong><strong>ρ=0.5, </strong>and start pheromone<strong>
</strong><strong>t=1/m, </strong>where<strong> m </strong>is
the number of cities. Anyway, you can play with them in this application.</stromg></p>



<p>It seems that the number of ants is not
so important if there is enough number of trials, so set of the start cities for each ant could 
contain all customers' cities. In this application, we employ only ten ants.</p>



<h3><a name="_Toc364710432"></a><a name="_Toc350624866"></a>Evaporation</h3>



<p>After all ants complete their n<sup>th&nbsp;
</sup>trip, evaporation is applied to all paths between cities:</p>
<p align="center"><img style="width: 142px; height: 24px;" alt="644067/AntSysTrav_8.PNG" src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/AntSysTrav_8.PNG" align="middle">(3)</p>



<p>Here <strong><sub><img style="border: 0px solid currentColor; width: 64px; height: 20px;" alt="AntSysTrav_9" src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/AntSysTrav_9.PNG"></sub>&nbsp;</strong>is
the evaporation factor.</p>

<p>There is a question of when to apply 
global evaporation: immediately after all ants complete their trip, or after
all pheromones on graph edges (paths between cities) are updated? Evaporation
before updates is, essentially,&nbsp; increase of updating pheromones. </p>
<p>In literature, some authors apply a <strong>(1 - </strong><strong>ρ) </strong>multiplier to all
pheromones, some others do not. </p>

<p>I found that evaporation after
updates sometimes prevents the appearance of local non-optimal loops, so in this
application global evaporation is applied to graph edges last, after
pheromone updates. </p>

<h3><a name="_Toc364710433"></a><a name="_Toc350624868"></a>Elitist Ant Algorithm</h3>





<p>The solution construction and evaporation are as defined by
equations (1) and (2) in the Ant System Algorithm.</p>
<p>The pheromone update is a little bit different: on each iteration,
the best to date ant deposits an additional quantity of pheromone on paths it
traveled:</p>


<p align="center"><sub><img style="border: 0px solid currentColor; width: 406px; height: 47px;" alt="ElSysTrav_0" src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/ElSysTrav_0.PNG"></sub></p>

<div style="text-align: justify;">
<p>Here  <sub><img style="border: 0px solid currentColor; width: 80px; height: 54px;" alt="644067/ElSysTrav_1.PNG" src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/ElSysTrav_1.PNG" align="middle"></sub>&nbsp;&nbsp;if
the path <strong>ij </strong>is from<strong> T<sup>bs</sup>,
T<sup>bs </sup></strong>is the best to date round trip, <strong>e </strong>is an algorithm's
parameter. It was reported, that the best value for <strong>e </strong>is between four
and six.</p></div>

<p>Note that this algorithm keeps depositing an additional
pheromone on the same paths until the best to date solution is changed.
Probably, you might want to try mutations and/or resets with that algorithm.</p>



<h3><a name="_Toc364710434"></a><a name="_Toc350624869"></a>Rank-Based Ant System</h3>



<p>Again, the difference is in the pheromone update.</p>

<p>For each of iterations, the best to date ant and additionally
the <strong>w-1 </strong>best ants for this iteration are selected. The best to date and
each of the selected ranked ants deposit pheromone on paths they travel:</p>

<p align="center"><img style="border: 0px solid currentColor; width: 418px; height: 49px;" alt="644067/RankAntsTrav_0.PNG" src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/RankAntsTrav_0.PNG"></p>
<p><img style="border: 0px solid currentColor; width: 68px; height: 42px;" alt="644067/RankAntsTrav_1.PNG" src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/RankAntsTrav_1.PNG"></p>
<p><strong>Q </strong>is a constant, L<sup>r</sup> is the length of the <strong>r<sup>th</sup></strong>
ant trip, <strong>e </strong>is the additional multiplier. Again, the best results are at 
<strong><img style="width: 47px; height: 19px;" alt="644067/RankAntsTrav_3.PNG" src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/RankAntsTrav_3.PNG" align="middle"> </strong></p>

<p>The member <sub><img style="border: 0px solid currentColor; width: 63px; height: 29px;" alt="644067/RankAntsTrav_2.PNG" src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/RankAntsTrav_2.PNG" align="middle"></sub>&nbsp;is
similar to the Elitist Ant Algorithm parameter for the best to date ant.</p>

<h3><a name="_Toc364710435"></a><a name="_Toc350624870"></a>Best-Worst Ant Algorithm</h3>



<p>I used 
<a href="http://sci2s.ugr.es/publications/ficheros/LNCS-2463-228-234.pdf">Analysis
of Best-Worst Ant System..</a>&nbsp;by Oscar Cordon and others. The solution construction is defined by (1), and evaporation
rule is as in (3).</p>

<p>Only the best to date ant updates pheromones:</p>

<p><img style="width: 335px; height: 27px;" alt="644067/BWASTrav_0.PNG" src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/BWASTrav_0.PNG">
</p>

<p>Here <sub><img style="border: 0px solid currentColor; width: 79px; height: 44px;" alt="644067/BWASTrav_1.PNG" src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/BWASTrav_1.PNG" align="middle"></sub>&nbsp;&nbsp;if
the path&nbsp;<img style="width: 49px; height: 27px;" alt="644067/BWASTrav_5.PNG" src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/BWASTrav_5.PNG" align="top"> <strong>,
T<sup>bs </sup></strong>is the best to date round trip, <strong>C<sup>bs</sup></strong> -
length of the trip.<strong><sup> </sup></strong></p>

<p>In addition, the paths of the round trip of the worst ant
for the current iteration that are not in the best to date solution are subject
to additional evaporation:</p>



<p><img style="border: 0px solid currentColor; width: 336px; height: 41px;" alt="BWASTrav)4.png" src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/BWASTrav_4.PNG"></p>



<div style="text-align: justify;"><p>Here <strong>ρ<sub>w</sub></strong><sub>
</sub>is an additional evaporation factor for all <sub><img style="border: 0px solid currentColor; width: 64px; height: 29px;" alt="BWAS_Trav_6.png" src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/BWASTrav_6.PNG" align="middle"></sub>&nbsp;and <img style="border: 0px solid currentColor; width: 96px; height: 33px;" alt="644067/BWASTrav_7.PNG" src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/BWASTrav_7.PNG" align="middle">,
<strong>T<sub>w</sub> </strong>is the worst solution for the given iteration, and <strong>T<sub>bs</sub></strong>
is the best to date solution.</p></div>

<p>Usually this algorithm includes a mutation of the
pheromone on selected paths of the trail, and the algorithm we resets 
all pheromones to the initial value and restart search for the best 
solution when the process seems stuck.</p>

<p>In this application, mutation and restart are options. You
can add them to any algorithm.</p>

<h3><a name="_Toc364710436"></a><a name="_Toc350624871"></a>Min-Max Ant System</h3>



<p>The solution construction is according to the equation <strong>(1).</strong></p>

<p>There are variants in the selection of the ants allowed to
update pheromones: the best to date ant, or the best for current iteration, or the
best after latest reset ant, or the best to date ant for even iterations, and the
best for iteration for odd iterations.</p>



<p>There are min and max pheromone limits to the quantity of
pheromone on the paths between cities, <strong>τ<sub>min
</sub></strong>and <strong>τ<sub>max. </sub></strong>It
is believed that prevents local loops. So, evaporation is: </p>

<p><img style="border: 0px solid currentColor; width: 328px; height: 29px;" alt="644067/MMASTrav_0.PNG" src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/MMASTrav_0.PNG"></p>

<p>The update is:</p>

<p><img style="border: 0px solid currentColor; width: 327px; height: 35px;" alt="644067/MMASTrav_1.PNG" src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/MMASTrav_1.PNG" align="middle"></p>

<p>Here <sub><img style="border: 0px solid currentColor; width: 76px; height: 44px;" alt="644067/MMASTrav_2.PNG" src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/MMASTrav_2.PNG" align="middle"></sub>&nbsp;&nbsp;if
the path&nbsp;<img style="width: 55px; height: 26px;" alt="644067/MMASTrav_3.PNG" src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/MMASTrav_3.PNG" align="middle">&nbsp; <strong>T<sup>sel</sup>
</strong>is a selected ant's round trip, C<sup>sel</sup> - is the length of the trip.<strong><sup>
</sup></strong></p>

<p>Some authors initiate pheromones to <strong>τ<sub>max</sub></strong>, but in this application
I am using <strong>τ<sub>0 </sub>= 1/n<sub>cities</sub></strong>.
</p>

<h3><a name="_Toc364710437"></a><a name="_Toc350624872"></a>Ant Colony System</h3>



<p>In all previous algorithms pheromones were updated only
after all ants completed travel for a given iteration. Ant Colony System
is different. After an ant moves from one city to the next, the
pheromone on the traveled path is reduced by some value. The solution
construction is also different.</p>

<h4>
</h4><h3><a name="_Toc364710438"></a><a name="_Toc350624873"></a>Solution Construction</h3>
<p>The algorithm has a parameter<sub><img style="border: 0px solid currentColor; width: 65px; height: 33px;" alt="644067/ACSTrav_0.PNG" src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/ACSTrav_0.PNG" align="top"></sub>.
The parameter sets the boundary between two rules to select the next city. On
each step, the algorithm generates a random number<sub><img style="border: 0px solid currentColor; width: 60px; height: 21px;" alt="644067/ACSTrav_1.PNG" src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/ACSTrav_1.PNG"></sub>.
If<sub><img style="border: 0px solid currentColor; width: 48px; height: 21px;" alt="644067/ACSTrav_6.PNG" src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/ACSTrav_6.PNG"></sub>,
the next city to move is selected according to <strong>(1)</strong>; else index <strong>j</strong>
of the next city to move is:</p>
<p><img style="width: 343px; height: 40px;" alt="ACSTrav_2..png" src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/ACSTrav_2.PNG" align="middle"></p>
<p>where </p>

<ul>
	<li><strong>i</strong> is the index of the current city,</li>
	<li><strong>j</strong> is the index of the city to move next,</li>
	<li><sub><img style="border: 0px solid currentColor; width: 24px; height: 25px;" alt="644067/ACSTrav_3.PNG" src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/ACSTrav_3.PNG"></sub>&nbsp;is
a set of cities adjacent to the current city <strong>i </strong>at step <strong>k</strong>,</li>
	<li><strong>τ<sub>il</sub></strong> is
	the amount of pheromone on the path <strong>c<sub>il</sub></strong>,</li>
	<li><strong><sub><img style="width: 52px; height: 46px;" alt="644067/ACSTrav_7.PNG" src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/ACSTrav_7.PNG" align="middle">,
</sub>&nbsp;Q</strong> is a constant (in this app it is a city's extent), <strong>d<sub>il</sub></strong>
is a distance between&nbsp;the cities <strong>i</strong> and <strong>l</strong>,</li>
	<li><strong>β</strong> - algorithm
parameter </li>
</ul>

<p>After the ant moves from the city <strong>i</strong>
to city <strong>j</strong>, the pheromone on the path <strong>c<sub>ij</sub></strong> is evaporated and updated according to</p>


<p><img alt="644067/ACSTrav_5.PNG" src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/ACSTrav_5.PNG" align="middle"></p>
<p>where</p>

<ul>
	<li><strong>ξ</strong> -the local
evaporation factor,</li>
<li><strong>τ<sub>0</sub></strong> -
additional pheromone (an algorithm parameter).</li>
</ul>



<p>After the first ant has made the k<sup>th</sup> step and has modified a pheromone, it does not begin the next step. It waits until all other ants 
complete their k<sup>th</sup> steps and modify the pheromones on their traveled k<sup>th</sup> path. In this process, the n + 1 ant waits for the update by the ant n, ant and so on.</p>

<h4>
</h4><h3><a name="_Toc364710439"></a><a name="_Toc350624874"></a>Evaporation and pheromone update</h3>



<p>After all ants have completed iteration, pheromone update and global evaporation are
applied to paths.</p>



<p>In <a href="http://www.dbai.tuwien.ac.at/staff/musliu/ACO_online_final.pdf">Ant Colony
Optimization for Tree and Hypertree Decompositions</a> only the best to date
ant is allowed to update pheromone. Evaporation also is allowed only on paths
visited by this ant.</p>

<p>In this application, you have a
choice: the beast for iteration ant, the best to date ant, the best after reset
ant, or all ants.</p>

<p>The application uses equations <strong>(3)</strong>
for evaporation and <strong>(2) </strong>or <strong>(4)</strong> for the global pheromone update.</p>



<p>The equations are applied to paths
visited by the selected ant(s) only.</p>

<h2><a name="_Toc364710440"></a><a name="_Toc350624876"></a>Pheromone Reset (Restart)</h2>



<p>If ants are stuck in some local loop, there is an option to
reset all pheromones to the start values and continue run. This option might be
enabled or disabled for all implemented algorithms.</p>



<p>The selection threshold <sub><img style="border: 0px solid currentColor; width: 84px; height: 24px;" alt="644067/RST_0.PNG" src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/RST_0.PNG"></sub>&nbsp;is
a reset parameter. &nbsp;If </p>

<p><img style="border: 0px solid currentColor; width: 354px; height: 34px;" alt="644067/RST_1.PNG" src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/RST_1.PNG" align="middle"></p>

<p>all pheromones on paths between all cities are reset to <sub><img style="border: 0px solid currentColor; width: 18px; height: 20px;" alt="644067/RST_2.PNG" src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/RST_2.PNG"></sub>,
and search for the shortest path begins anew. Still, the previous history is
not destroyed. The new best to date trip updates the best after reset value; if
it is less than the global best to date trip, it also replaces the old best to
date value.</p>



<p>In <strong>(12)</strong></p>

<ul>
	<li><sub><img style="border: 0px solid currentColor; width: 40px; height: 27px;" alt="644067/RST_3.PNG" src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/RST_3.PNG" align="middle"></sub>&nbsp;is
a reset parameter,</li>
<li><strong>m </strong>is the number of paths in ant's round trip,</li>
	<li><sub><img style="border: 0px solid currentColor; width: 59px; height: 27px;" alt="644067/RST_4.PNG" src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/RST_4.PNG"></sub>&nbsp;-
number of different edges for a current iteration between the trajectories of
the best to date and the worst for iteration ants,</li>
<li><sub><img style="border: 0px solid currentColor; width: 50px; height: 26px;" alt="644067/RST_5.PNG" src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/RST_5.PNG"></sub>&nbsp;-
number of consecutive events when <sub>
<img style="border: 0px solid currentColor; width: 164px; height: 35px;" alt="644067/RST_6.PNG" src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/RST_6.PNG" align="middle"></sub>&nbsp;,</li>
	<li><sub><img style="border: 0px solid currentColor; width: 51px; height: 28px;" alt="644067/RST_7.PNG" src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/RST_7.PNG"></sub>&nbsp;is
a threshold, the reset parameter.</li>
</ul>



<p>Essentially, the reset occurs when the best to date and the
worst for iteration trajectories are very close. The user can select the action after reset: finish the run or
continue it.</p>

<p>If the run is to continue, the count of consecutive events <sub><img style="border: 0px solid currentColor; width: 132px; height: 43px;" alt="644067/RST_8.PNG" src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/RST_8.PNG" align="middle"></sub>&nbsp;resumes
from zero.</p>

<h2><a name="_Toc364710441"></a><a name="_Toc350624875"></a>Mutation</h2>



<p>A mutation of the pheromones on ant paths is used to prevent
the solution from getting stuck in some local loop. It is explained in <a href="http://sci2s.ugr.es/publications/ficheros/LNCS-2463-228-234.pdf">the
article "Analysis of Best-Worst Ant System.." by Oscar Cordon and
others.</a></p>



<p>It seems that it was proposed for the Best-Worst Ant
Algorithm only.</p>

<p>In this application, the global mutation option might be
enabled or disabled for each of the implemented algorithms.</p>

<p>The idea is simple: you select ant paths (graph edges) at
random and increase or decrease the amount of pheromone on each of them
according to some set of rules. The rule to evaporate or increase pheromones
is:</p>









<p><img style="width: 402px; height: 89px;" alt="644067/Mut_0.PNG" src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/Mut_0.PNG"></p>
<p>where</p>

<ul>
	<li><sub><img style="border: 0px solid currentColor; width: 21px; height: 29px;" alt="644067/Mut_7.png" src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/Mut_7.png" align="middle"></sub>is
pheromone on the edge <sub><img style="border: 0px solid currentColor; width: 53px; height: 31px;" alt="644067/Mut_1.PNG" src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/Mut_1.PNG" align="middle"></sub>,
    <sub><img style="border: 0px solid currentColor; width: 20px; height: 27px;" alt="644067/Mut_8.png" src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/Mut_8.png" align="middle"></sub>&nbsp;is
a subset of paths between cities selected at random,</li>
<li><sub><img style="border: 0px solid currentColor; width: 70px; height: 28px;" alt="644067/Mut_2.PNG" src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/Mut_2.PNG" align="middle"></sub>&nbsp;is
a random value generated for each path <sub>
<img style="border: 0px solid currentColor; width: 53px; height: 31px;" alt="Mut_1.png second use" src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/Mut_1.PNG"></sub>,</li>
	<li><sub><img style="border: 0px solid currentColor; width: 40px; height: 24px;" alt="644067/Mut_4.PNG" src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/Mut_4.PNG"></sub>&nbsp;-
add-subtract threshold, the parameter</li>
<li><sub><img style="border: 0px solid currentColor; width: 95px; height: 28px;" alt="644067/Mut_3.png" src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/Mut_3.png"></sub>&nbsp; -
min and max limits of pheromones on paths</li>
	<li><sub><img style="border: 0px solid currentColor; width: 517px; height: 52px;" alt="644067/Mut_9.PNG" src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/Mut_9.PNG" align="middle"></sub>&nbsp;
</li>
<li><sub><img style="border: 0px solid currentColor; width: 64px; height: 26px;" alt="644067/Mut_10.png" src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/Mut_10.png"></sub>&nbsp;-
mutation strength, the mutation parameter,</li>
	<li><sub><img style="border: 0px solid currentColor; width: 31px; height: 28px;" alt="644067/Mut_11.PNG" src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/Mut_11.PNG"></sub>&nbsp;-
average pheromone on path of the best to date round trip,</li>
<li><sub><img style="border: 0px solid currentColor; width: 23px; height: 26px;" alt="644067/Mut_12.png" src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/Mut_12.png"></sub>&nbsp;&nbsp;-
number of current iteration,</li>
	<li><sub><img style="border: 0px solid currentColor; width: 19px; height: 28px;" alt="644067/Mut_13.png" src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/Mut_13.png" align="middle"></sub>&nbsp;-
number of iteration from the last pheromone reset (see below),</li>
<li><sub><img style="border: 0px solid currentColor; width: 37px; height: 21px;" alt="644067/Mut_14.png" src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/Mut_14.png"></sub>&nbsp;-
max number of iterations (run parameter)</li>
</ul>



<p>The number of paths in <sub><img style="border: 0px solid currentColor; width: 20px; height: 23px;" alt="644067/Mut_16.png" src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/Mut_16.png"></sub>is
calculated as</p>



<p><img style="width: 374px; height: 33px;" alt="644067/Mut_15.png" src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/Mut_15.png"></p>
<p>where </p>

<ul>
	<li><strong><sub><img style="border: 0px solid currentColor; width: 61px; height: 22px;" alt="644067/Mut_6.PNG" src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/Mut_6.PNG"></sub>&nbsp;</strong>-
mutation rate, parameter,</li>
<li><strong>m</strong>- number of cities </li>
</ul>



<p>The user sets a period (interval) between mutations. In
addition, the user can set a number of resets to delay the start of the mutation
period. For example, if the number of resets is set to three and the period of
mutation is set to 30, then the application will wait for three resets to occur in
a row before it starts to count iterations for mutation.</p>

<p>After 30th iteration, it will execute the mutation. After
that, the application will wait for another three resets to repeat the count.
If the new reset occurs in the middle of the count, the iteration counter will be
reset. If the number of resets is set to zero, the mutations will be executed
every 30 iterations.</p>



<p>Pay attention to the fact that the degree of the pheromone
correction increases at the end of the test.</p>



<h2><a name="_Toc364710442"></a><a name="_Toc350624877"></a>Travel Statistics</h2>


<p>You can gather these statistics:</p>

<ul>
	<li>Best for iteration and best to date trip length values at each
iteration (always is ON)</li>
<li>Worst for iteration and worst to date trip length values at each
iteration</li>
	<li>Average over ants travel length and its standard deviation at
each iteration</li>
<li>Distance - average and standard deviation of number of paths
between cities in ants round trips different from paths in the best to date
solution at each iteration</li>
	<li>Average and standard deviation of the branch factor - number of
paths with the quantity of pheromone deposited on them greater than some
threshold value</li>
<li>Distribution of the ants start cities</li>
	<li>Best after reset value of round trip for each iteration</li>
</ul>



<p>The average and standard deviation of some random variable <strong>ν</strong> are calculated as:</p>

<p><img style="border: 0px solid currentColor; width: 321px; height: 84px;" alt="644067/Stat_0.PNG" src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/Stat_0.PNG" align="middle"></p>
<p><img style="width: 306px; height: 83px;" alt="644067/Stat_1.PNG" src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/Stat_1.PNG" align="middle"></p>

<p>where</p>

<ul>
	<li><sub><img style="border: 0px solid currentColor; width: 20px; height: 24px;" alt="644067/Stat_2.PNG" src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/Stat_2.PNG"></sub>&nbsp;is
an average of <strong>n</strong> variables,</li>
<li><sub><img style="border: 0px solid currentColor; width: 24px; height: 22px;" alt="644067/Stat_3.PNG" src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/Stat_3.PNG"></sub>&nbsp;is
their standard deviation.</li>
</ul>



<p>Distance and brunch factor need some additional explanation.</p>



<h3><a name="_Toc364710443"></a><a name="_Toc350624878"></a>Travel Statistics: Distance</h3>



<p>For each ant in the given
iteration, the ant's round trip is compared to the trip of the best to date
ant. Paths unique for the ant trip are counted. After that, average and
standard deviation of counts over number of ants are calculated. This
statistics is a measure of the quality of the trip: the low distance means that
either the solution is found, or we have a local loop. </p>



<p>But how will you count the unique
paths on a symmetrical graph? The symmetrical graph has path A-&gt;B equal to
path B-&gt;A. We decided that direction does not matter: if the best to
date ant has traveled clockwise, and the other ant traveled counterclockwise
the same trajectory, these ants traveled the same trajectory. Pay attention to
it.</p>



<h3><a name="_Toc364710444"></a><a name="_Toc350624879"></a>Travel Statistics: Branch Factor</h3>



<p>Let us assume we have <strong>n</strong>
cities our ants have to visit. Then each city has <strong>n-1</strong> adjacent cities to
choose from for a next step. Each of the paths to the cities has some quantity of
pheromone deposited on it.</p>

<p>For each city, Branch Factor
Statistics calculates the number of paths to adjacent cities where the quantity of
the deposited pheromone is greater than some threshold. The less the count, the more
deterministic is a choice, the better is a solution.</p>

<p>The branch threshold is calculated
for each city separately as</p>
<p><img style="width: 342px; height: 49px;" alt="644067/Stat_4.PNG" src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/Stat_4.PNG" align="middle"></p>







<p>where</p>

<ul>
	<li><sub><img style="border: 0px solid currentColor; width: 95px; height: 28px;" alt="644067/Stat_5.PNG" src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/Stat_5.PNG"></sub> -
max and min pheromones on outgoing paths for the city <strong>k</strong>,</li>
<li><sub><img style="border: 0px solid currentColor; width: 74px; height: 25px;" alt="644067/Stat_6.PNG" src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/Stat_6.PNG" align="middle"></sub>&nbsp;-
parameter set by the user</li>
</ul>
<p>Note that the branch factor takes into account all adjacent edges, no matter 
if they were visited or not. </p>
<h3><a name="_Toc350624880"></a><a name="_Toc364710445"></a>Presentation of statistics</h3>



<p>All statistics except the start
cities are presented as linear charts. The start cities are rendered as a bar
graph. </p>

<p>The first two charts, the best for
the iteration and the best to date, and start cities are shown in read-only
window in the app's main dialog. The user might invoke a separate window to
analyze, save, or print all linear charts. </p>





<h2><a name="_Toc364710446"></a><a name="_Toc350624881"></a>User Manual (Sort Of)</h2>



<p>It is a rather long chapter, but the user interface is not so
simple.</p>



<p>To run some algorithm this sequence of actions should be
performed:</p>

<ol start="1" type="1">
 <li>Select an algorithm by name</li>
 <li>Select the method of city generation</li>
 <li>Set the cities extent that defines the range of city
     coordinates</li>
 <li>Set the number of cities</li>
 <li>Set the max number of iterations</li>
 <li>Set parameters <strong>α</strong>,
     <strong>β</strong>, and <strong>ρ</strong> (equations <strong>(1) </strong>and <strong>(3)</strong>.)</li>
 <li>Set other algorithm's parameters if appropriate</li>
 <li>Enable or disable mutations and reset and set their
     parameters</li>
 <li>Set or reset symmetry options of ant paths if
     applicable</li>
 <li>Select statistics to gather</li>
 <li>Set up a trigger to get a travel graph snapshot if desired</li>
</ol>



<p>Steps 1 - 10 might be performed in any order and many
times: the selections will be committed only after you click the 'Apply' button.
Even if the selections are committed, you still might change them if you
did not start running the algorithm.</p>



<p>After 'Apply' is clicked, you can run the algorithm step
by step or continuously, stop and resume the run, or cancel the run at any 
moment. The algorithm parameters are locked after you start the run. </p>



<p>While the algorithm is running, it displays the state of the
ants' travel every 100<sup>th</sup> epoch,
at each stop and at the end of the run.</p>



<p>While the algorithm is running or at the stops, you can view
the charts of the gathered statistics and work with these charts in a separate
dialog box. Upon satisfaction of the trigger condition, the app will show a graph
snapshot in a separate window.</p>



<p>You can save a city configuration and/or a city graph structure
with its vertices and edges into XML files.</p>



<p>For the iteration(s) of your choice, you also can save ant
states and the underlying graphs of the solution, statistics charts, and the graph snapshot
as XML files. </p>



<p>At any time you can also print the report - best to date trip
data registered at that time.</p>



<p>All user actions and requests submitted while the algorithm
is running are performed at the end of the current iteration. After the request
is honored, the algorithm continues the run. </p>



<p>To change the algorithm or its parameters, you have to
cancel run (button <strong>'Cancel'</strong>) or wait to the end of the run. </p>



<p>Let us go to the details.</p>



<h3><a name="_Toc364710447"></a><a name="_Toc350624882"></a>Select an algorithm</h3>



<p>It is simple: just select an item in the <strong>'Algorithm'</strong>
combo box.</p>



<h3><a name="_Toc350624883"></a><a name="_Toc364710448"></a><a name="_Toc350624886"></a>Set cities extent, city number, max iteration number, α, β, and ρ</h3>



<p>Use appropriate sliders. To coarse
set values use mouse, for fine adjustment use Home, End, Page Up, Page Down, <img src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/A_LArrow.PNG"> and <img src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/A_RArrow.PNG">
keys.</p>



<h3><a name="_Toc364710449"></a>Select the method of city generation</h3>



<p>The application offers five methods of city
generation:</p>

<ul>
	<li><strong>'Automatic Placement'</strong>: the cities are placed on a circle.
The circle diameter is equal to a city's extent.</li>
<li><strong>'Random'</strong>: X and Y coordinates of cities are generated at 
random; special precautions are taken to prevent generation of two cities at the 
same coordinates. The distribution of the coordinate values is uniform on <img src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/A_EqX.PNG">, <img src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/A_ExY.PNG"> where <strong>Q </strong>is the cities' extent. </li>
<li><strong>'Manual Placement'</strong>: You generate automatic or random
placement, or use the existing placement and move the cities as you need. Coordinates
of the moving city are shown in the status bar.</li>
	<li><strong>'Load Cities from File'</strong>: Loads coordinates of the set
of the cities from an external XML file. You do not need to click 'Apply' to
start: go straight to 'Run'. </li>
<li><strong>'Load Configuration from File'</strong>: This option loads all
cities with their coordinates <strong><em>and</em></strong> distances between the cities as
a graph. The resulting graph acquires <strong>α</strong>,
<strong>β</strong>, evaporation factor <strong>ρ</strong>, the algorithm type, and algorithm
parameters from the user's selections in the application's main dialog window.
The initial value of pheromones is set as <strong>Q/cities</strong> number, where <strong>Q</strong> is a
city's extent. Again, you do not need to click 'Apply' to start: go straight to
'Run'.</li>
<li><strong>'Load Graph from File'</strong>: It imports the snapshot of the
algorithm's graph as it was saved at some previous epoch or many days ago: the cities,
distances between them, deposited pheromones, all things. If the graph was
saved with the charts and start city's bar graph (it is a default option at
saving graph in this app), the charts and bar graph are loaded too. You might
continue from the iteration (epoch) the graph was saved. To use only the
configuration, you have to select 'Use existing configuration' and reapply it.
Again, you do not need to click 'Apply'.</li>
	<li><strong>'Use existing map'</strong>: It uses what city's configuration was generated last or loaded. </li>
</ul>





<p>The options <strong>Load Configuration from File </strong>and <strong>Load Graph from File </strong>are using the distances between
cities as they were saved in the corresponding XML files. All other options
automatically calculate the distances between the generated or loaded cities as
Euclidean Distances.</p>

<p><img style="border: 0px solid currentColor; width: 216px; height: 56px;" alt="644067/Man_0.PNG" src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/Man_0.PNG"></p>


<h3><a name="_Toc364710450"></a><a name="_Toc350624884"></a>Manually Setting Cities</h3>



<p>As was mentioned above, you can manually
set any city configuration you want by using <strong>Manual Placement</strong>. The
only constraint is all <strong>X</strong>s<strong> </strong>and<strong> Y</strong>s must be non-negative. It
is recommended to set all other algorithm parameters before you start the
manual placement, because the configuration you would set will be committed
automatically. Of course, you can set any parameter after you have done with
placement with <strong>Use existing map</strong>.</p>
<p>To do manual placement:</p>

<ul>
	<li>Set the sliders <strong>'Cities Extent'</strong> and <strong>'Number Of Cities'</strong>
to values you need.</li>
<li>Select <strong>'Manual Placement'</strong> in 'Cities/Method of Generation'
combo box. The dialog box will be displayed to select the method of cities
generation. Select <strong>'Automatic'</strong>, or <strong>'Random'</strong>, or <strong>'Using Existing Map'</strong>, and click <strong>'OK'</strong>.</li>
<li>The generated cities configuration will be displayed in the main
app dialog box's picture control. Select the city with left mouse click 
and drag the city with mouse or using the arrow keys to the position you
 want.
The city's name and coordinates are displayed in the first pane (pane 0)
 of the
status bar of the dialog box. You also can invoke a city label by 
right-clicking
on the city.</li>
	<li>When you are done, double left click on the button <strong>OK</strong> in
the picture control. The configuration will be committed, and you can start
running.</li>
</ul>



<p>Remember that the distances between
the cities will be automatically calculated as Euclidean distances. If your
distances are supposed to be different, see next paragraph.</p>





<h3><a name="_Toc364710451"></a><a name="_Toc350624885"></a>Setting arbitrary cities configuration and distances (committing city map)</h3>



<p>Distances between cities are used
in calculations only, so you can set any distance value convenient to you. Be
realistic and remember that the shortest possible distance between cities is
the Euclidian distance. </p>



<p>Suppose you have a map of places
you have to visit, with one-way streets between them. It means that sometimes a
distance between places A and B is not equal to the distance between B and A.
Still, you can work with your map in this app using an XML configuration file to
set the map and load it into the application.</p>



<p>To set an arbitrary cities
configuration, you have to generate some start configuration, save it into an
XML file, change the file, and load it back.</p>



<p>First, you have to generate a city
configuration for your cities extent and number of cities. Any generation
method (<strong>"Regular', 'Random', or 'Manual')</strong> is good. Commit the
configuration by clicking on <strong>Apply</strong>. After that go to the <strong>
Options/Save/Save Configuration </strong>submenu item, click on it, and save the configuration as a
configuration graph XML file.</p>



<p>Now open the file in any XML editor
(I recommend <a href="http://www.microsoft.com/en-us/download/details.aspx?id=7973">Microsoft
XML Notepad 2007</a>, it is free and good, but you can use MS Visual Studio or
anything that works). You will see something like this:</p>
<div style="display:block" width="100%" id="premain0" class="pre-action-link"><img preid="0" style="cursor: pointer;" src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/minus.gif" id="preimg0" height="9" width="9"><span preid="0" style="cursor: pointer; margin-bottom: 0px;" id="precollapse0"> Collapse</span><span> | </span><a preid="0" href="#">Copy Code</a></div><pre style="margin-top: 0px;" id="pre0" lang="xml"><span class="code-keyword">&lt;</span><span class="code-leadattribute">Config_Graph</span><span class="code-keyword">&gt;</span>
<span class="code-keyword">&lt;</span><span class="code-leadattribute">Graph_Prop</span> <span class="code-attribute">CitiesNum</span><span class="code-keyword">="</span><span class="code-keyword">10"</span> <span class="code-attribute">SymMut</span><span class="code-keyword">="</span><span class="code-keyword">true"</span> <span class="code-attribute">SymDist</span><span class="code-keyword">="</span><span class="code-keyword">false"</span> <span class="code-attribute">StartPher</span><span class="code-keyword">="</span><span class="code-keyword">0.1"</span> <span class="code-attribute">CitiesExtent</span><span class="code-keyword">="</span><span class="code-keyword">25"</span><span class="code-keyword">/</span><span class="code-keyword">&gt;</span>
<span class="code-keyword">&lt;</span><span class="code-leadattribute">Vertex</span> <span class="code-attribute">ID</span><span class="code-keyword">="</span><span class="code-keyword">0"</span> <span class="code-attribute">Name</span><span class="code-keyword">="</span><span class="code-keyword">City_0"</span> <span class="code-attribute">X</span><span class="code-keyword">="</span><span class="code-keyword">8.536407"</span> <span class="code-attribute">Y</span><span class="code-keyword">="</span><span class="code-keyword">3.749408"</span><span class="code-keyword">&gt;</span>
<span class="code-keyword">&lt;</span><span class="code-leadattribute">Edges</span><span class="code-keyword">&gt;</span>
  <span class="code-keyword">&lt;</span><span class="code-leadattribute">Target</span> <span class="code-attribute">ID</span><span class="code-keyword">="</span><span class="code-keyword">1"</span> <span class="code-attribute">Name</span><span class="code-keyword">="</span><span class="code-keyword">City_1"</span> <span class="code-attribute">X</span><span class="code-keyword">="</span><span class="code-keyword">2.025207"</span> <span class="code-attribute">Y</span><span class="code-keyword">="</span><span class="code-keyword">9.906549"</span> <span class="code-attribute">Dist</span><span class="code-keyword">="</span><span class="code-keyword">8.9613676071167"</span><span class="code-keyword">/</span><span class="code-keyword">&gt;</span>
  <span class="code-keyword">&lt;</span><span class="code-leadattribute">Target</span> <span class="code-attribute">ID</span><span class="code-keyword">="</span><span class="code-keyword">2"</span> <span class="code-attribute">Name</span><span class="code-keyword">="</span><span class="code-keyword">City_2"</span> <span class="code-attribute">X</span><span class="code-keyword">="</span><span class="code-keyword">0.2259159"</span> <span class="code-attribute">Y</span><span class="code-keyword">="</span><span class="code-keyword">0.8545399"</span> <span class="code-attribute">Dist</span><span class="code-keyword">="</span><span class="code-keyword">8.80025672912598"</span><span class="code-keyword">/</span><span class="code-keyword">&gt;</span>
  <span class="code-keyword">&lt;</span><span class="code-leadattribute">Target</span> <span class="code-attribute">ID</span><span class="code-keyword">="</span><span class="code-keyword">3"</span> <span class="code-attribute">Name</span><span class="code-keyword">="</span><span class="code-keyword">City_3"</span> <span class="code-attribute">X</span><span class="code-keyword">="</span><span class="code-keyword">11.42984"</span> <span class="code-attribute">Y</span><span class="code-keyword">="</span><span class="code-keyword">5.034723"</span> <span class="code-attribute">Dist</span><span class="code-keyword">="</span><span class="code-keyword">3.16607141494751"</span><span class="code-keyword">/</span><span class="code-keyword">&gt;</span>
  <span class="code-keyword">&lt;</span><span class="code-leadattribute">Target</span> <span class="code-attribute">ID</span><span class="code-keyword">="</span><span class="code-keyword">4"</span> <span class="code-attribute">Name</span><span class="code-keyword">="</span><span class="code-keyword">City_4"</span> <span class="code-attribute">X</span><span class="code-keyword">="</span><span class="code-keyword">11.51926"</span> <span class="code-attribute">Y</span><span class="code-keyword">="</span><span class="code-keyword">7.236289"</span> <span class="code-attribute">Dist</span><span class="code-keyword">="</span><span class="code-keyword">4.58865690231323"</span><span class="code-keyword">/</span><span class="code-keyword">&gt;</span>
  <span class="code-keyword">&lt;</span><span class="code-leadattribute">Target</span> <span class="code-attribute">ID</span><span class="code-keyword">="</span><span class="code-keyword">5"</span> <span class="code-attribute">Name</span><span class="code-keyword">="</span><span class="code-keyword">City_5"</span> <span class="code-attribute">X</span><span class="code-keyword">="</span><span class="code-keyword">6.953999"</span> <span class="code-attribute">Y</span><span class="code-keyword">="</span><span class="code-keyword">7.392624"</span> <span class="code-attribute">Dist</span><span class="code-keyword">="</span><span class="code-keyword">3.97203135490417"</span><span class="code-keyword">/</span><span class="code-keyword">&gt;</span>
  ....................................................................................................
                                                 
<span class="code-keyword">&lt;</span><span class="code-keyword">/</span><span class="code-leadattribute">Edges</span><span class="code-keyword">&gt;</span>
<span class="code-keyword">&lt;</span><span class="code-keyword">/</span><span class="code-leadattribute">Vertex</span><span class="code-keyword">&gt;</span>
<span class="code-keyword">&lt;</span><span class="code-leadattribute">Vertex</span> <span class="code-attribute">ID</span><span class="code-keyword">="</span><span class="code-keyword">1"</span> <span class="code-attribute">Name</span><span class="code-keyword">="</span><span class="code-keyword">City_1"</span> <span class="code-attribute">X</span><span class="code-keyword">="</span><span class="code-keyword">2.025207"</span> <span class="code-attribute">Y</span><span class="code-keyword">="</span><span class="code-keyword">9.906549"</span><span class="code-keyword">&gt;</span>
<span class="code-keyword">&lt;</span><span class="code-leadattribute">Edges</span><span class="code-keyword">&gt;</span>
................................................................................................................
</pre>
<p>Change the city names,
coordinates, and distances between cities according to your map. If <strong>distance
(A, B) </strong>≠<strong> distance (B, A) </strong>for some pair of cities, change <code>SymMut</code> and 
<code>SymDist</code> to
false (I will explain it later.) &nbsp;<code>SymMut</code>
must be true for a symmetrical map, where <strong>distance (A, B) ≠ distance (B, A) </strong>for
all cities. Save the file, return to or start the app, and load the
configuration.</p>



<p>By default, cities have names like <em>'City_0'</em>,
<em>'City_1'</em>, etc. Apply the same procedure to the cities or configuration
XML files to change the city names. </p>



<h3><a name="_Toc364710452"></a><a name="_Toc350624887"></a>Set other algorithm 
parameters</h3>



<p>Click on 'Edit Ant Options'. The
appropriate dialog box will be displayed if there are additional algorithm
parameters. Select parameters and click OK. If you call this dialog box and
do not want to change previous settings, click Cancel. For example, this is a
dialog box to set the number of ranked ants and their evaporation factor for
Ranked Ants algorithm.</p>
<p align="center"><img style="width: 294px; height: 235px;" alt="644067/Manual_1.PNG" src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/Manual_1.PNG"></p>


<h3><a name="_Toc364710453"></a><a name="_Toc350624888"></a>Enable or disable mutation and/or reset and set their parameters</h3>



<p>Click the <strong>Options</strong> menu
button and click the <strong>Mutation</strong> or <strong>Reset</strong> menu item. Set parameters in
dialog boxes displayed and click <strong>OK</strong>. If the checkbox 'Allow' in the dialog
boxes is unchecked, all other controls of the box are disabled, do not try to
change their state then. This is the mutation parameters dialog box:</p>
<p align="center"><img style="width: 283px; height: 518px;" alt="644067/Manual_2.PNG" src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/Manual_2.PNG"></p>

<p>Some parameters need explanation (see equations (13)):</p>
<ul>
	<li><strong>'MUT PERIOD</strong>' - period of mutations, might be set between 1
and 100 epochs</li>
<li><strong>'SEL THRESHOLD'</strong> - the threshold between decreasing and
increasing mutations</li>
	<li><strong>'MUT RATE'</strong> - a fraction of the graph edges subject to
mutation</li>
<li><strong>'WAIT FOR RST' </strong>- number of resets before start of
mutations; could be zero; if the reset is not enabled, the slider is disabled</li>
	<li><strong>'MUT STRENGTH' - </strong>fraction of calculated full mutation to
apply to edges</li>
</ul>



<p>For <strong>Reset</strong>, there are only
two parameters: the fraction of graph edges unique for the worst ant for
the current iteration compared to the best to date trip to invoke the reset, and a number of successive repetitions of
this event to reset the travel. There also is a list box to select the actions upon
reset. The actions are:<strong> </strong></p>

<ul>
	<li><strong>No Pheromone Reset</strong>: This action is used together with mutations: 
	if mutations are enabled and <strong>Wait for Rst</strong> not zero,
instead of resetting all graph edges to the start pheromone, the application
will mutate pheromones after a set number of resets occur.</li>
<li><strong>Reset</strong>: Upon reset, all pheromones are reset to the start
value.</li>
	<li><strong>End Run</strong>: Pheromones are reset and test is finished. The
user might continue this test or start a new test.</li>
</ul>





<h3><a name="_Toc364710454"></a><a name="_Toc350624889"></a>Set or Reset a Symmetrical Option</h3>



<p>If the distance between cities A
and B is not equal to the distance between B and A, the cities graph is
asymmetrical. You have to calculate pheromones on each edge of the graph
separately.</p>

<p>If d<strong> (A, B) == d (B, A)</strong>, there
are two options. You may assume that the route between A and B has two separate
one-way lanes and calculate pheromones for each lane separately, or assume that
there is one two-way lane, and just set the pheromone on edge B, A equal to
pheromone on edge A, B. You have a choice for the symmetrical graph to set one
of these options: click the <strong>Options</strong> menu button and click on the <strong>Symmetrical
Paths</strong> menu item.</p>

<p>The only way to set different <sub><img style="border: 0px solid currentColor; width: 76px; height: 29px;" alt="644067/Manual_9.PNG" src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/Manual_9.PNG" align="top"></sub> distances
is via Configuration XML (see <strong>Setting arbitrary cities configurations</strong> above).</p>

<h3><a name="_Toc364710455"></a><a name="_Toc350624890"></a>Select Statistics to Gather</h3>



<p>There are statistics you can
gather: </p>

<ul>
	<li>Best for iteration and best to date travel values for each
iteration (always  ON)</li>
<li>Worst for iteration and worst to date travel values for each
iteration</li>
	<li>Average travel length and its standard deviation for each
iteration</li>
<li>Average and standard deviation of number of paths in ants round
trips different from path in the best to
date solution for each iteration</li>
	<li>Average and standard deviation of the branch factor: number of
paths for that quantity of pheromone
deposited is greater than some threshold value</li>
<li>Distribution of the ants' start cities</li>
	<li>Best after reset value of round trip for each iteration</li>
</ul>





<p>To enable or disable statistics,
click on the <strong>Options</strong> menu button, click the <strong>Set Statistics &amp;
Results</strong> menu item, and select the desired set of statistics. Use the slider to
set the <strong>Branch Factor</strong> threshold. </p>

<p>For every statistics ('Start
Cities' excluded) the collected data is represented as linear charts.</p>

<p align="center"><img style="border: 0px solid currentColor; width: 264px; height: 501px;" alt="644067/Manual_3.PNG" src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/Manual_3.PNG"></p>
<h3><a name="_Toc364710457"></a>Run the Test</h3>



<p>To commit all parameters, click on the <strong>Apply</strong>
button. The buttons <strong>Run </strong>and <strong>Step</strong> are enabled after that.</p>

<p>You can go step by step or run the
test continuously and stop the run at any moment. To switch from running to
step-by-step you have to stop the run first. To resume the run after stop, you
have to click on the <strong>Stop </strong>button again (capture is changed to <strong>'Resume')</strong>
after stop. </p>

<p>While the test is running, all
controls which allow changing the algorithm, algorithm's and test's parameters,
are disabled. You have to wait until completion of the test or interrupt it at
any moment with a click on the button <strong>Cancel Run</strong>. This action only cancels
the mode; all parameters are not changed or deleted. You can continue the test
with <strong>Run</strong> or <strong>Step</strong> from the point you have canceled the test or
change the algorithm and/or parameters and click <strong>Apply</strong> to clear old
parameters and data and start with a new set of parameters. Until the new
settings are committed, all previous test data are accessible. You can monitor
the test's progress all the time until a new algorithm and/or algorithm's
parameters are committed.</p>

<p align="center"><img style="width: 294px; height: 261px;" alt="644067/Manual_8.PNG" src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/Manual_8.PNG" hspace="12"></p>
<h3><a name="_Toc364710458"></a><a name="_Toc350624892"></a>Monitoring the test</h3>



<p>Every 100 iterations and on each stop the application updates its data and 
displays the trip's length and its trajectory for the current epoch. It also provides 
trip lengths for the best and worst ants for the current iteration, best trip 
after the last reset, and best and worst to date results. You select the ant 
from the combo box and see an epoch, an ant's ID, and trip length in the control 
to the left of the box. The trip trajectory is shown below the box.</p>

<p>The statistics are also updated on
100<sup>th</sup> iterations, on each stop, on completing or canceling the run. &nbsp;</p>

<p>Statistics charts for the best for
each iteration and the best to date trip length are shown in the main dialog. This
chart control is read-only; that means that no user input is enabled. To see
all charts and interact with them (e.g., hide, pan, zoom, save, etc.) you have
to select <strong>View Charts</strong> from <strong>Options</strong>. This action will
display the Chart control.</p>




<p align="center"><img style="border: 0px solid currentColor; width: 465px; height: 395px;" alt="644067/Manual_4.PNG" src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/Manual_4.PNG"></p>


<p>To get a full grasp of the chart
control features you better read my article
<a href="http://www.codeproject.com/Articles/317712/An-MFC-Chart-Control-with-Enhanced-User-Interface">An MFC Chart Control with Enhanced User Interface</a> but here is a short
version of its user's manual:</p>

<ul>
	<li>To see chart values, enable tracking by a mouse middle button
click (the cursor will change its shape to a cross). After that select the
X-coordinate and left click on the chart to see the data legend for the
selected X.</li>
<li>To zoom horizontally, select the zoom boundaries with SHIFT + left
click.</li>
	<li>To zoom vertically, select the first zoom boundary with the SHIFT
+ left double click and the second boundary with SHIFT + left click.</li>
<li>To pan horizontally use left and right arrow keys or SHIFT + mouse
wheel. </li>
	<li>To pan vertically use UP and DOWN arrow keys.</li>
<li>To change the Y scale for a selected chart, first select is with
CTRL + left click, after that use CTRL + mouse wheel or up/down keys to change
the Y-scale</li>
	<li>All other actions on charts, like hide/show, save, print, are
allowed from the popup menu that is displayed on the right mouse click on the
chart control.</li>
</ul>



<p>The size of this chart control
window might be changed by the user.</p>

<p>The algorithm continues to run
if it was not stopped by the user. To update the charts in this control you
have to click <strong>View Charts </strong>again.</p>



<p>At any moment, you can print the
data for the best to date travel for this epoch by selecting the <strong>'Print
Report'</strong> item from the menu button <strong>'Options'</strong>. You will present with
MFC Print Dialog to select printer, printer setting, and print options. The
report consists of several pages. The first page shows the best to date trip
data (travel length, epoch, etc.), the algorithm info, and the picture of the trip
trajectory like shown above. Other pages show the best to date trajectory as a
table. One page of the table shows approximately 40 rows.</p>

<p>If you select 'Selection' in the
print dialog, only the first page is printed. Otherwise the full report is
printed. To get more flexibility you can install some converter to print the
report to a pdf file (like doPdf, it is free and very good) or print to MS XPS
file.</p>



<p>The last and, might be, the most
important feature of this app (I did not see it in other Ant Colony apps) is a
possibility to set a trigger point and get a system snapshot at this point. The
trigger might be set at any time after the algorithm is committed. From the <strong>'Options',
</strong>select <strong>'Graph Snapshot Settings'. </strong>You will see the <strong>'Triggers for
Graph Snapshots' </strong>dialog box.</p>
<p align="center"><img style="border: 0px solid currentColor; width: 466px; height: 529px;" alt="644067/Manual_5.PNG" src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/Manual_5.PNG"></p>
<p>It is self-explaining; only two
check boxes need additional mention. The first is <strong>Continue Run</strong>. By
default, the trigger interrupts the test run, and the user must click <strong>'Resume'
</strong>button to continue the test. If this box is checked, the run will continue.</p>

<p>The second is <strong>'Renew...'</strong>
Again, by default, the trigger is cleared after a triggering event occurs. When
the box is checked, the trigger will reset. For example, if the trigger is set
for <strong>'Best to Date Change'</strong>, you will continuously receive snapshots each
time the best to date travel distance is changed. The triggers must be set only
after the test parameters are committed, because a click on the button 'Apply'
resets them to no trigger mode.</p>

<p>Upon the trigger event, the edges
dialog box is displayed. It shows the graph edges
originating from some source vertex (a city.) You can change the source city by
selecting the new city with left mouse button click on it. You can choose the
target vertex for this source city (the target city) with CTRL + left click. A
right click on a city will invoke the tool tip window with the city's name. The
second right click on the same city will hide the name. The right click on the
white space will hide all tooltips.</p>





<p>Text boxes to the right of the edge
picture control show main algorithm parameters, data on the selected ant, and
data on the source and the target cities and an edge connecting them. The
legend for the edge colors is below the edge picture control.</p>
<p align="center"><img style="border: 0px solid currentColor; width: 766px; height: 623px;" alt="644067/Manual_6.PNG" src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/Manual_6.PNG"></p>
<p>A click on the <strong>'View Ant Graph'</strong>
will show an edge view of the snapshot. It has
many pages. The first page is a selected (in the previous dialog) ant's travel
trajectory. The other page show edges for all source cities; each source city
has a separate page. The table shows the target, the distance from the source, the
edge pheromone before the ant choose a next edge to travel, probability of choice,
and the pheromone after update at the end of the trip. </p>

<p>To navigate between pages, use the
buttons at the bottom of page. You also can select the source city by left
click on the city on the first page. You also can follow the ant's trip by
selecting the start city on the first page, and clicking on the target city
circle on the next pages.</p>

<p>&nbsp;If a page cannot display all edges
for the given source city, you may scroll the page with UP/DOWN keys if the
page has focus (click on page to set it.)</p>



<p>You can save all tables for all
source cities into an XML file. You can also print the all tables, the table
for the selected source city, or any number of source cities. Keep in mind that
the printing of all ten-city sources will take 11 paper pages; for 100 cities it
will take 301 paper pages.</p>



<p align="center"><img style="border: 0px solid currentColor; width: 656px; height: 846px;" alt="644067/Manual_7.PNG" src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/Manual_7.PNG"></p>
<h3><a name="_Toc364710459"></a><a name="_Toc350624893"></a>Saving results in XML files</h3>



<p>There are five options to
save data in XML files:</p>

<ul>
	<li><strong>Save Cities</strong>: Saves ID, names, and coordinates of generated
cities. </li>
	<li><strong>Save Configuration</strong>: In addition, saves distances between cities</li>
	<li><strong>Save (Colony) Graph</strong>: Saves entire system graph with cities ID, names,
coordinates; distances between the cities and volume of pheromone on edges for
the epoch the data are taken. The algorithm parameters, mutation and reset
parameters, type of gathered statistics are also saved. Also saved are ants'
trip trajectories for the given epoch. In addition, the epochs, edge
pheromones, and traveled state are saved for the best for last iteration, best
to date, best after reset, worst for last iteration, and worst to date ants.
Charts and start cities distribution are automatically saved in separate files</li>
	<li><strong>Save Colony Ants</strong>: Saves trip trajectories for all ants</li>
	<li><strong>Save Charts</strong>: Saves statistics' charts</li>
</ul>



<p>All options are accessible
from <strong>'Options/Save'.</strong></p>

<p>In addition, you can save the
selected ant's graph from the Edge View dialog, and save charts from a chart
control's popup menu.</p>



<p>The cities and configuration
might be loaded back to the application via the combo box <strong>'Method of
Generation' </strong>to run with any registered algorithm. The cities XML file
allows modifying cities coordinates and names of the cities before loading the
file back. Distances between the cities the application will calculate as
Euclidian distances. </p>



<p>The configuration file allows
changing the distances between its cities in addition to the cities coordinates
and names.</p>



<p>The colony graph XML file
encapsulates a full system snapshot at the epoch the saving operation was
requested. Actually, it might be three XML files: the graph itself, with
algorithm, its parameters, and statistics requested, a charts XML file if the
charts have data (if the epoch at saving the graph was greater than zero), and a cities
bar graph if the start cities statistics was requested and gathered. This is
why I recommend organizing some common folder to keep all three files. You set
the name of the graph file only; the chart and cities files are named
automatically. For example, if the graph file is named '<em>TestB.xml</em>, the chart
file will have name '<em>TestB_Charts.xml</em>', and the cities file is
'<em>TestB_CitiesChart.xml</em>'.</p>

<p>If you choose to load the colony
graph XML file, the files for charts and cities will be loaded automatically if
they exist. After the file(s) are loaded, you can run the test from the epoch
the colony graph was saved. If you have lost the chart file the application
will gather and calculate statistics beginning from the loaded epoch. The same
is true for the start cities distribution.</p>



<p>Upon receiving a request to
save into an XML file, the application displays MFC <code>CFileDialog</code> dialog box. You
are free to select any place to save the file. To introduce some order in this
process, I set default subfolders for each type of data in the AntCol working
directory to keep the files, so the <code>CFileDialog</code> opens at the default subfolders
for each type of the data to save if you set these subfolders. The subfolders
are:</p>

<ul>
	<li>Cities</li>
	<li>ConfigGraphs</li>
	<li>Graphs</li>
	<li>Ants</li>
	<li>Charts</li>
	<li>AntGraphs</li>
</ul>



<p>It works as follows:</p>

<ul>
	<li>The application gets the full module name of <em>AntCol.exe</em> like "<em>C:\...\AntCol.exe</em>".</li>
	<li>It strips the module name of the
file name (<em>AntCol.exe</em>).</li>
	<li>It searches the module path for a
subdirectory "<em>AntCol</em>".</li>
	<li>It erases all characters after "AntCol", adds the back slash after "Col", and adds the
folder name from the list, depending on what the user wants to save.</li>
	<li>It passes the resulting path to <code>CFileDialog</code> as a default path, so the dialog starts in this path.</li>
	<li>If the folder <em>AntCol</em> is not found, <code>CFileDialog</code> will 
	start in the <em>MyDocument</em>
directory.</li>
</ul>



<p>You have to set your working
directory as "<em>.....\AntCol</em>" and copy the executable file <em>AntCol.exe</em> 
into it. After that, you have to create these subfolders in the working 
directory <em>AntCol</em>.</p>

<p>Of course, you can live
without all this stuff and keep saving the XML files in any place on your
computer or your network.</p>



<h2><a name="_Toc364710460"></a><a name="_Toc350624894"></a>What is under the hood, or points of interest</h2>



<p>This application is a dialog-based MFC application with
heavy use of Boost Graph Library and GDI+.</p>

<p>Its main class, <code>CAntColApp</code> is derived from MFC extension
class <code>CWinAppEx</code>. </p>

<p>If you do want to peruse the app code, there are four
functions to start with:</p>



<ul class="method">
	<li><code>void CAntColDlg::OnBnClickedBtnapply()</code> processes and commits user inputs to
prepare algorithm for running </li>
	<li><code>void CAntColDlg::OnBnClickedBtnrun()</code> starts a worker thread to execute the
algorithm</li>
	<li><code>static unsigned _stdcall CAntColDlg::RunASTravel(void*
colDataPtr)</code> - the worker function</li>
<li><code>LRESULT CAntColDlg::OnTravelOnce(WPARAM wParam, LPARAM lParam)</code> - a handler of the messages the worker thread is sending to the
application main thread</li>
</ul>



<p>All these functions are in the files <em>AntColDlg.h</em>, <em>AntColDlg.cpp</em>.</p>

<p>From there you can travel to other functions called from inside, and the 
functions these secondary functions called, and so on and so forth.</p>

<h3><a name="_Toc364710461"></a><a name="_Toc350624895"></a>Model</h3>



<p>The natural math model of the Traveling Salesman Problem is
a graph: vertices are cities, and edges are routes between the cities. Each
vertex is connected to all other cities. In the Boost Graph Library, this model is
best described by a directed adjacency list graph. To connect algorithm
parameters, cities, and routes between cities to the graph, I have provided bundled
properties for the graph itself, its vertices, and edges. The properties are
defined in the file <em>Colony.h</em>.</p>



<p>The Graph property is:</p>
<div style="display:block" width="100%" id="premain1" class="pre-action-link"><img preid="1" style="cursor: pointer;" src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/minus.gif" id="preimg1" height="9" width="9"><span preid="1" style="cursor: pointer; margin-bottom: 0px;" id="precollapse1"> Collapse</span><span> | </span><a preid="1" href="#">Copy Code</a></div><pre style="margin-top: 0px;" id="pre1" lang="C++"><span class="code-keyword">struct</span> AntColProp
{
    ..............................................................
    <span class="code-keyword">bool</span> m_bSymMut;       <span class="code-comment">//</span><span class="code-comment"> Enabled or disabled ability to change m_bSym
</span>    <span class="code-keyword">bool</span> m_bSym;          <span class="code-comment">//</span><span class="code-comment"> If true for edges ij and ji have equal  //distances
</span>    <span class="code-keyword">int</span> m_grID;           <span class="code-comment">//</span><span class="code-comment"> Actually index of the associated ant
</span>    <span class="code-keyword">int</span> m_startIdx;       <span class="code-comment">//</span><span class="code-comment"> Start point; idx is embedded in vertex  //property
</span>    <span class="code-keyword">double</span> m_startPher;   <span class="code-comment">//</span><span class="code-comment"> Start pheromone; used for reinitialization //only
</span>    <span class="code-keyword">double</span> m_alpha;       <span class="code-comment">//</span><span class="code-comment"> Power of the pheromone
</span>    <span class="code-keyword">double</span> m_beta;        <span class="code-comment">//</span><span class="code-comment"> Power of the distance (edge weight)
</span>    <span class="code-keyword">double</span> m_evap;        <span class="code-comment">//</span><span class="code-comment"> Global Evaporation factor; pheromone // attenuation is 1 - m_evap
</span>    <span class="code-keyword">float</span> m_citiesExtent; <span class="code-comment">//</span><span class="code-comment"> Cities placement dimension
</span>    string_t m_szAlgName; <span class="code-comment">//</span><span class="code-comment"> Name of the algorithm
</span>};</pre>


<p>Here <code>string_t</code> stays for <code>std::basic_string&lt;TCHAR&gt;</code>.</p>

<p>In the directed adjacency list the edge connecting vertices <strong>i</strong> and <strong>j</strong> is not equal to the edge connecting 
<strong>j</strong> and <strong>i</strong>. However, more
often than not, a route connecting any two cities is bidirectional. The property
members <code>m_bSymMut</code> and <code>m_bSym</code> are the flags signaling that additional care
should be taken of the symmetrical edges <strong>ij</strong> and <strong>ji</strong> to make edge
length and pheromone equal. For an asymmetrical graph, <code>m_bSymMut</code>
is always <code>false</code> and value of <code>m_bSym</code> does not matter. For 
a symmetrical graph, 
<code>m_bSymMut = true</code>, and
for bidirectional routes <code>m_bSym</code> must be true. You can try to process edges in the symmetrical
graph as asymmetrical by setting <code>m_bSym</code> = <code>false</code>.</p>

<p>The structure also includes a constructor and a function <code>string_t GetAntColPropStr(int citiesNum)</code> to translate member values into string.</p>

<p>A problem with access to the
adjacency graph bundled property was reported earlier. The solution is to call 
<code>boost::get_property(graph&amp;, graph name)</code> which is different from dealing with other bundled
properties.</p>



<p>The vertex property is:</p>
<div style="display:block" width="100%" id="premain2" class="pre-action-link"><img preid="2" style="cursor: pointer;" src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/minus.gif" id="preimg2" height="9" width="9"><span preid="2" style="cursor: pointer; margin-bottom: 0px;" id="precollapse2"> Collapse</span><span> | </span><a preid="2" href="#">Copy Code</a></div><pre style="margin-top: 0px;" id="pre2" lang="C++"><span class="code-keyword">struct</span> City 
{
  ......................
  <span class="code-keyword">int</span> m_idx;
  <span class="code-comment">//</span><span class="code-comment"> City index
</span>  string_t m_szName;
  <span class="code-keyword">bool</span> m_bVisited;
  Gdiplus::PointF m_pntLocationF;
};</pre>
<p>By default, upon placement of cities, the cities get names
like "City_0", "City_1", etc. Cities names can be changed
outside the application and the entire configuration loaded back. The user can set
the extent of the square that contain the cities from 1.0 to 100.0.</p>



<p>The edge property is:</p>
<div style="display:block" width="100%" id="premain3" class="pre-action-link"><img preid="3" style="cursor: pointer;" src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/minus.gif" id="preimg3" height="9" width="9"><span preid="3" style="cursor: pointer; margin-bottom: 0px;" id="precollapse3"> Collapse</span><span> | </span><a preid="3" href="#">Copy Code</a></div><pre style="margin-top: 0px;" id="pre3" lang="C++"><span class="code-keyword">struct</span> Path
{
  ..............................
  <span class="code-keyword">bool</span> m_bTraveled;
  <span class="code-keyword">double</span> m_dist;
  <span class="code-keyword">double</span> m_pher;
};</pre>


<p>By default the edge length (the distance between two cities),
<code>m_dist</code>, is calculated as:</p>
<p><img style="width: 248px; height: 35px;" alt="644067/Model_0.png" src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/Model_0.png"></p>




<p>Again, there is an option to change the edge length out of
the application. Because <code>m_dist</code> is used for calculation only, it might have any value.</p>



<p>Here is the definition of the Traveling Salesman's graph:</p>



<div style="display:block" width="100%" id="premain4" class="pre-action-link"><img preid="4" style="cursor: pointer;" src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/minus.gif" id="preimg4" height="9" width="9"><span preid="4" style="cursor: pointer; margin-bottom: 0px;" id="precollapse4"> Collapse</span><span> | </span><a preid="4" href="#">Copy Code</a></div><pre style="margin-top: 0px;" id="pre4" lang="C++"><span class="code-keyword">typedef</span> adjacency_list&lt;vecS, vecS, directedS, City, Path,
           <span class="code-keyword">property</span>&lt;graph_name_t, AntColProp&gt; &gt; GRAPH;</pre>
<p>Information about this class can be got from the <a href="http://www.boost.org/doc/libs/1_42_0/libs/graph/doc/adjacency_list.html"><code>Boost::adjacency_list</code></a> web page.</p>
<p>I am aware that the STL lists are not the best structure for search, 
but in the Release configuration and one hundred cities, the app 
performance is not so bad.</p>
<h3><a name="_Toc364710462"></a><a name="_Toc350624896"></a>Classes</h3>



<p>There are three main players in this application: the
classes <code>CAnt</code>,
<code>CColony</code>,
and the hierarchy of algorithm classes.</p>

<p><code>CAnt</code> (<em>Colony.h</em>) is just storage to keep all things the ant needs for graph navigation:</p>
<div style="display:block" width="100%" id="premain5" class="pre-action-link"><img preid="5" style="cursor: pointer;" src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/minus.gif" id="preimg5" height="9" width="9"><span preid="5" style="cursor: pointer; margin-bottom: 0px;" id="precollapse5"> Collapse</span><span> | </span><a preid="5" href="#">Copy Code</a></div><pre style="margin-top: 0px;" id="pre5" lang="C++"><span class="code-keyword">class</span> CAnt
{
  ..............................................
  <span class="code-keyword">public</span>:
    <span class="code-keyword">int</span> m_antID;
    GRAPH m_antCitiesGraph;
    std::list&lt;City&gt; m_lstAntPath;
    <span class="code-keyword">double</span> m_travelLength;
    vertex_descriptor m_currVertex;
    vertex_descriptor m_startVertex;
    <span class="code-keyword">int</span> m_epoch;
};</pre>

<p><code>CColony</code> (<em>Colony.h</em>) is charged with some tasks to process
and keep results of ant trips and some tasks on a set of ants. </p>
<div style="display:block" width="100%" id="premain6" class="pre-action-link"><img preid="6" style="cursor: pointer;" src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/minus.gif" id="preimg6" height="9" width="9"><span preid="6" style="cursor: pointer; margin-bottom: 0px;" id="precollapse6"> Collapse</span><span> | </span><a preid="6" href="#">Copy Code</a></div><pre style="margin-top: 0px;" id="pre6" lang="C++"><span class="code-keyword">class</span> CColony
{
................................................................
<span class="code-keyword">public</span>:
  <span class="code-keyword">static</span> std::mt19937 m_rndGenAnts; <span class="code-comment">//</span><span class="code-comment"> Mercer generator for cities
</span>  <span class="code-keyword">static</span> std::mt19937 m_rndColony;  <span class="code-comment">//</span><span class="code-comment"> To select start cities
</span>  
  <span class="code-keyword">static</span> <span class="code-keyword">const</span> <span class="code-keyword">int</span> m_antNmb; <span class="code-comment">//</span><span class="code-comment"> Ten ants for now
</span>  MAP_ANTS m_mapAnts; 
                             <span class="code-comment">//</span><span class="code-comment"> We keep ants in map antIdx/ant 
</span>  GRAPH m_colGraph;          <span class="code-comment">//</span><span class="code-comment"> Colony Graph; passed to the 
</span>                             <span class="code-comment">//</span><span class="code-comment"> every ant before tripitEpoch;
</span>                             <span class="code-comment">//</span><span class="code-comment"> Initial epoch; zero or loaded from graph
</span>  <span class="code-keyword">int</span> m_startRstEpoch;  <span class="code-comment">//</span><span class="code-comment"> Epoch of last reset
</span>  <span class="code-keyword">int</span> m_rstNmb;         <span class="code-comment">//</span><span class="code-comment"> Number of resets so far
</span>  <span class="code-keyword">int</span> m_maxRun;
};</pre>
<p>The main dialog has a member <code>m_antColony</code>. Before each trip, the colony passes the colony graph to its ants. The ant trajectories are saved in 
<code>m_lstAntPath</code> for each ant, and the colony graph is updated 
according to the trip trajectories. All ants are kept in a map 
<code>m_mapAnts</code>.</p>
<p>We will discuss algorithm classes later.</p>
<h3><a name="_Toc364710463"></a><a name="_Toc350624897"></a>How it works</h3>
<p>The user chooses an algorithm, its parameters, number of cities and 
number of trips, and a method of city generation. He/she also selects 
the statistics to gather. After that, 
the user commits the selections by clicking on the button <strong>Apply</strong>.</p>
<p>The application calls the
algorithm factory to instantiate the chosen algorithm and the statistics
factory to compile the map of statistics. It also enables/disables the appropriate
UI controls.</p>

<p>After that, the user clicks <strong>Ran </strong>or <strong>Step</strong>, and the application starts the worker thread to run the algorithm. </p>



<p>The application controls interaction between the main thread
and the worker with four event handles (files <em>AntColDlg.h</em> and <em>AntColDlg.cpp</em>):</p>
<div style="display:block" width="100%" id="premain7" class="pre-action-link"><img preid="7" style="cursor: pointer;" src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/minus.gif" id="preimg7" height="9" width="9"><span preid="7" style="cursor: pointer; margin-bottom: 0px;" id="precollapse7"> Collapse</span><span> | </span><a preid="7" href="#">Copy Code</a></div><pre style="margin-top: 0px;" id="pre7" lang="C++">HANDLE m_hEvAbortRun;
HANDLE m_hEvStopReq;
HANDLE m_hEvInfoReq;
HANDLE m_hEvContRun;</pre>
<p>The handle names are self-explaining (more details follow). The 
events control the wait function in the worker thread. After the worker 
thread exits or is interrupted by these
events, the user might resume the run or change an algorithm and/or 
algorithm
and test's parameters.</p>

<h3><a name="_Toc364710464"></a><a name="_Toc350624898"></a>The algorithm classes</h3>



<p>All algorithm classes (files <em>TravelAlg.h</em> and <em>TravelAlg.cpp</em>) are 
derived from the base class <code>CASTravelBase</code>. All new algorithm classes must
be derived from this base class. The class defines the algorithm interface:</p>
<div style="display:block" width="100%" id="premain8" class="pre-action-link"><img preid="8" style="cursor: pointer;" src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/minus.gif" id="preimg8" height="9" width="9"><span preid="8" style="cursor: pointer; margin-bottom: 0px;" id="precollapse8"> Collapse</span><span> | </span><a preid="8" href="#">Copy Code</a></div><pre style="margin-top: 0px;" id="pre8" lang="C++"><span class="code-keyword">class</span> CASTravelBase
{
<span class="code-keyword">public</span>:
  CASTravelBase(); 
  <span class="code-keyword">virtual</span> ~CASTravelBase();
  <span class="code-keyword">virtual</span> <span class="code-keyword">unsigned</span> <span class="code-keyword">int</span> TravelGraphOnce(CColony&amp; antColony) = <span class="code-digit">0</span>;
  <span class="code-keyword">virtual</span> <span class="code-keyword">void</span> UpdateASGraphOnce(CColony&amp; antColony) = <span class="code-digit">0</span>;
  <span class="code-keyword">virtual</span> string_t GetAlgName(<span class="code-keyword">void</span>)<span class="code-keyword">const</span>  = <span class="code-digit">0</span>;
  <span class="code-keyword">virtual</span> <span class="code-keyword">void</span> GetAlgParams(V_ALGPARAMS&amp; vAlgParams) = <span class="code-digit">0</span>;
  <span class="code-keyword">virtual</span> string_t GetAlgParamStrT(<span class="code-keyword">void</span>) = <span class="code-digit">0</span>;
  <span class="code-keyword">virtual</span> <span class="code-keyword">void</span> SetAlgParams(V_ALGPARAMS&amp; vAlgParams) = <span class="code-digit">0</span>;
  <span class="code-keyword">static</span> <span class="code-keyword">void</span> GetMutParams(V_ALGPARAMS&amp; vAlgParams);
  <span class="code-keyword">static</span> string_t GetMutParamStrT(<span class="code-keyword">bool</span> bShort = <span class="code-keyword">true</span>);
  <span class="code-keyword">static</span> <span class="code-keyword">void</span> GetRstParams(V_ALGPARAMS&amp; vAlgParams);
  <span class="code-keyword">static</span> string_t GetRstParamStrT(<span class="code-keyword">bool</span> bShort = <span class="code-keyword">true</span>);
  <span class="code-keyword">static</span> <span class="code-keyword">void</span> SetMutParams(V_ALGPARAMS&amp; vAlgParams);
  <span class="code-keyword">static</span> <span class="code-keyword">void</span> SetRstParams(V_ALGPARAMS&amp; vAlgParams);
<span class="code-comment">//</span><span class="code-comment"> From WrapBase
</span>  <span class="code-keyword">virtual</span> string_t GetParamString(<span class="code-keyword">void</span>) {<span class="code-keyword">return</span> string_t(_T(<span class="code-string">"</span><span class="code-string">"</span>));}
<span class="code-comment">//</span><span class="code-comment"> Reinitialize the edges' pheromones to the start pheromone
</span>  RST_ACTIONS RestartAlgorithm(CColony&amp; antColony);
  <span class="code-keyword">void</span> MutatePheromones(CColony&amp; antColony);
<span class="code-keyword">protected</span>:
<span class="code-comment">//</span><span class="code-comment"> Evaporate pheromones on all edges
</span>  <span class="code-keyword">void</span> EvaporateEgdePheromones(CColony&amp; antColony, <span class="code-keyword">double</span> evapFactor);
    <span class="code-keyword">void</span> TravelGraphOnce(CAnt&amp; ant);
  <span class="code-keyword">void</span> UpdateAntPathPher(GRAPH&amp; colGraph, CAnt&amp; ant);
  <span class="code-keyword">void</span> UpdateAntPathPher(GRAPH&amp; colGraph, CAnt&amp; ant, <span class="code-keyword">double</span> multiplier);
<span class="code-keyword">public</span>:
  <span class="code-keyword">static</span> CDlgMut* GetMutDlg(<span class="code-keyword">bool</span> bDelete = <span class="code-keyword">false</span>);
  <span class="code-keyword">static</span> CDlgRst* GetRstDlg(<span class="code-keyword">bool</span> bDelete = <span class="code-keyword">false</span>);
  <span class="code-keyword">virtual</span> INT_PTR RunDlg(<span class="code-keyword">void</span>) 
  {  
    AfxMessageBox(_T(<span class="code-string">"</span><span class="code-string">There are no additional alg params"</span>));
    <span class="code-keyword">return</span> IDCANCEL;
  }
  <span class="code-keyword">static</span> <span class="code-keyword">void</span> DeleteParamsDlgs(<span class="code-keyword">void</span>);
<span class="code-keyword">public</span>:
  <span class="code-keyword">static</span> <span class="code-keyword">double</span> m_mutMinPher;         <span class="code-comment">//</span><span class="code-comment"> for mutation, to prevent -INV and 
</span>  <span class="code-keyword">static</span> <span class="code-keyword">double</span> m_mutMaxPher;         <span class="code-comment">//</span><span class="code-comment"> For MMAS and just in case
</span>  <span class="code-keyword">static</span> <span class="code-keyword">bool</span> m_bMutAllowed;
  <span class="code-keyword">static</span> <span class="code-keyword">bool</span> m_bRstAllowed;
  <span class="code-keyword">static</span> <span class="code-keyword">int</span> m_mutPeriod;
  <span class="code-keyword">static</span> <span class="code-keyword">double</span> m_mutRndTrsh;
  <span class="code-keyword">static</span> <span class="code-keyword">double</span> m_mutRate;
  <span class="code-keyword">static</span> <span class="code-keyword">double</span> m_mutStrength;
  <span class="code-keyword">static</span> <span class="code-keyword">int</span> m_mutRstTrsh;  <span class="code-comment">//</span><span class="code-comment"> Nmb of resets before mut period starts
</span>  <span class="code-keyword">static</span> <span class="code-keyword">int</span> m_mutRstCnt;   <span class="code-comment">//</span><span class="code-comment"> Count of resets
</span>  <span class="code-keyword">static</span> <span class="code-keyword">int</span> m_rstTrsh;
  <span class="code-keyword">static</span> <span class="code-keyword">int</span> m_rstCntTrsh; <span class="code-comment">//</span><span class="code-comment"> Repetition of the distance between worst and    
</span>                           <span class="code-comment">//</span><span class="code-comment"> best to date below threshold
</span>  <span class="code-keyword">static</span> RST_ACTIONS m_rstAction;    <span class="code-comment">//</span><span class="code-comment"> What to do after that: restart or 
</span>                                     <span class="code-comment">//</span><span class="code-comment"> finish
</span><span class="code-comment">//</span><span class="code-comment"> Names of parameters
</span>  <span class="code-keyword">static</span> string_t m_strMutAllowed;
  <span class="code-keyword">static</span> string_t m_strMutMinPher;
  <span class="code-keyword">static</span> string_t m_strMutMaxPher;
  <span class="code-keyword">static</span> string_t m_strRstAllowed;
  <span class="code-keyword">static</span> string_t m_strMutPeriod;
  <span class="code-keyword">static</span> string_t m_strMutRndTrsh;
  <span class="code-keyword">static</span> string_t m_strMutRate;
  <span class="code-keyword">static</span> string_t m_strMutStrength;
  <span class="code-keyword">static</span> string_t m_strMutRstTrsh;
  <span class="code-keyword">static</span> string_t m_strMutRstCnt;
  <span class="code-keyword">static</span> string_t m_strRstTrsh;
  <span class="code-keyword">static</span> string_t m_strRstCntTrsh;
  <span class="code-keyword">static</span> string_t m_strRstAction;
  <span class="code-keyword">static</span> string_t m_strActions[];
};</pre>


<p>Strictly speaking, only <code>TravelGraphOnce</code> and <code>UpdateASGraphOnce</code> implement an algorithm itself. All other
virtual functions define interactions between the application, the user, and
the algorithm.</p>



<p>Generally, all the algorithm must know is its parameters <strong>α</strong>, <strong>β</strong>, and evaporation
factor <strong>ρ</strong> (see eq. 1 and 3). It needs them to calculate probabilities
of transition to the next city and evaporate pheromones. The algorithm receives
these parameters from the colony instance, as the colony graph's properties. </p>



<p>Other parameters, if there are any (e.g., number of ranked
ants for Ranked Ants Algorithm, or local evaporation factor for Ant Colony) the
algorithm should get from outside. In this application, the user sets these
additional parameters from the appropriate dialog boxes. The dialog boxes are separate
classes, but the algorithms (the user) might invoke them using the virtual function 
<code>INT_PTR RunDlg(void)</code>.
This function just calls <code>DoModal</code> on the appropriate dialog class. </p>



<p>The dialogs do not have their own data members; they use data
members of the corresponding algorithms. All algorithms' additional parameters are
declared static, so they are accessible any time. On OK,
the dialog box reads the state of its controls and sets the appropriate algorithm's
static data members.</p>



<p>Each additional algorithm's parameter has a counterpart, its
name, a static string. We need the names to facilitate exchanges between
XML files and algorithm parameters. We have introduced the virtual functions 
<code>GetAlgParams(V_ALGPARAMS &amp; vAlgParams)</code> and <code>SetAlgParams(V_ALGPARAMS&amp; vAlgParams)</code>. The vector
<code>V_ALGPARAMS</code> is a vector of pairs <code>std::pair(bstr_t (parameter
name) ,variant_t (parameter value))</code>. Using <code>bstr_t</code>&nbsp;and <code>variant_t</code> allows to have
the same type of vector elements for different types of values (e.g., <code>float</code>,
<code>int</code>, <code>bool</code>, etc.) </p>



<p>Finally, to render the algorithm state in a legible form,
there are the virtual functions <code>GetAlgName</code>, <code>GetAlgParamStrT</code>,
<code>GetParamString</code>. The last
function is used to set text in the static control of the main application
dialog. </p>

<p>The class <code>CASTravelBase</code> also includes
static functions to set and get parameters of mutation and reset modes. We have
mentioned before that mutation and reset modes might be set by the user for any
algorithm, therefore the functions <code>RST_ACTIONS
RestartAlgorithm(CColony&amp; antColony)</code> and <code>void MutatePheromones(CColony&amp; antColony)</code> are made members of the base class.</p>



<p>To show how the algorithm interface is defined for some
concrete algorithm, I will show the class for the Elitist Ant Algorithm:</p>



<p>There is a class for the Elitist Ant Colony Algorithm
derived from <code>CASTravelBase</code>:</p>
<div style="display:block" width="100%" id="premain9" class="pre-action-link"><img preid="9" style="cursor: pointer;" src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/minus.gif" id="preimg9" height="9" width="9"><span preid="9" style="cursor: pointer; margin-bottom: 0px;" id="precollapse9"> Collapse</span><span> | </span><a preid="9" href="#">Copy Code</a></div><pre style="margin-top: 0px;" id="pre9" lang="C++"><span class="code-keyword">class</span> CASETravel:<span class="code-keyword">public</span> CASTravelBase
{
<span class="code-keyword">public</span>:
  CASETravel(<span class="code-keyword">void</span>);
  <span class="code-keyword">virtual</span> ~CASETravel(<span class="code-keyword">void</span>);
  <span class="code-keyword">static</span> CASTravelBase* CreateASETravelAlg() { <span class="code-keyword">return</span> <span class="code-keyword">new</span> CASETravel;}
  <span class="code-keyword">virtual</span> <span class="code-keyword">unsigned</span> <span class="code-keyword">int</span> TravelGraphOnce(CColony&amp; antColony);
  <span class="code-keyword">virtual</span> <span class="code-keyword">void</span> UpdateASGraphOnce(CColony&amp; antColony);
  <span class="code-keyword">virtual</span> string_t GetAlgName(<span class="code-keyword">void</span>) <span class="code-keyword">const</span> {<span class="code-keyword">return</span> AlgName();}
  <span class="code-keyword">virtual</span> <span class="code-keyword">void</span> GetAlgParams(V_ALGPARAMS&amp; vAlgParams);
  <span class="code-keyword">virtual</span> string_t GetAlgParamStrT(<span class="code-keyword">void</span>);
  <span class="code-keyword">virtual</span> <span class="code-keyword">void</span> SetAlgParams(V_ALGPARAMS&amp; vAlgParams);
  <span class="code-keyword">static</span> <span class="code-keyword">bool</span> RegisterWithFactory(<span class="code-keyword">void</span>);
<span class="code-keyword">public</span>:
  <span class="code-keyword">virtual</span> CString GetParamString(<span class="code-keyword">void</span>);
<span class="code-keyword">private</span>:
  <span class="code-keyword">unsigned</span> <span class="code-keyword">int</span> TravelASEGraphOnce(CColony&amp; antColony);
  <span class="code-keyword">void</span> UpdateASEPheromone(CColony&amp; antColony);
  string_t AlgName(<span class="code-keyword">void</span>) <span class="code-keyword">const</span> {<span class="code-keyword">return</span> m_szAlgName;}
<span class="code-keyword">public</span>:
  <span class="code-keyword">static</span> CDlgEAS* GetMnDlg(<span class="code-keyword">bool</span> bDelete = <span class="code-keyword">false</span>);
  <span class="code-keyword">virtual</span> INT_PTR RunDlg(<span class="code-keyword">void</span>) {<span class="code-keyword">return</span> GetMnDlg()-&gt;DoModal();}
  <span class="code-keyword">static</span> <span class="code-keyword">void</span> DeleteParamsDlgs(<span class="code-keyword">void</span>);
<span class="code-comment">//</span><span class="code-comment"> Members
</span><span class="code-keyword">public</span>:
  <span class="code-keyword">static</span> <span class="code-keyword">double</span> m_easFactor;
  <span class="code-keyword">static</span> string_t m_strEasFactor;
<span class="code-keyword">public</span>:
  <span class="code-keyword">static</span> <span class="code-keyword">const</span> string_t m_szAlgName;
...................................................................
};</pre>


<p>You can see an implementation of this class in <em>TravelAlg.cpp.</em></p>



<h3><a name="_Toc364710465"></a><a name="_Toc350624899"></a>Algorithm factory</h3>



<p>To get instances of algorithms I am using the algorithm
factory. It is implemented as a Scott Meyers Singleton:</p>

<div style="display:block" width="100%" id="premain10" class="pre-action-link"><img preid="10" style="cursor: pointer;" src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/minus.gif" id="preimg10" height="9" width="9"><span preid="10" style="cursor: pointer; margin-bottom: 0px;" id="precollapse10"> Collapse</span><span> | </span><a preid="10" href="#">Copy Code</a></div><pre style="margin-top: 0px;" id="pre10" lang="C++">CTravelAlgFactory&amp; CTravelAlgFactory::Instance()
{
  <span class="code-keyword">static</span> CTravelAlgFactory factory;
  <span class="code-keyword">return</span> factory;
}</pre>

<p>I know about problems with Singleton in multithreading
applications. In this application, the worker thread never ever tries to
instantiate an algorithm. Instead, it receives the pointer to the algorithm
instance from the main thread.</p>



<p>To register the algorithms with the factory I am using a <code>std::map</code> with algorithm names as keys and algorithm creator functions as
values. It means that the algorithm must have a unique name for this application.</p>



<p>Each algorithm has a static creator member function, for
example:</p>



<div style="display:block" width="100%" id="premain11" class="pre-action-link"><img preid="11" style="cursor: pointer;" src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/minus.gif" id="preimg11" height="9" width="9"><span preid="11" style="cursor: pointer; margin-bottom: 0px;" id="precollapse11"> Collapse</span><span> | </span><a preid="11" href="#">Copy Code</a></div><pre style="margin-top: 0px;" id="pre11" lang="C++"><span class="code-keyword">static</span> CASTravelBase* CreateACSTravelAlg() { <span class="code-keyword">return</span> <span class="code-keyword">new</span> CACSTravel;}</pre>
<p>To register an algorithm, the algorithm factory has the function:</p>
<div style="display:block" width="100%" id="premain12" class="pre-action-link"><img preid="12" style="cursor: pointer;" src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/minus.gif" id="preimg12" height="9" width="9"><span preid="12" style="cursor: pointer; margin-bottom: 0px;" id="precollapse12"> Collapse</span><span> | </span><a preid="12" href="#">Copy Code</a></div><pre style="margin-top: 0px;" id="pre12" lang="C++"><span class="code-keyword">bool</span> RegisterCreatorAlgFn(<span class="code-keyword">const</span> string_t&amp; algName, TravelAlgCreator creatorFn)
{
    <span class="code-keyword">bool</span> bResAlg  = m_algMap.insert(MAP_TRAVELALG::value_type(algName, creatorFn)).second;
    <span class="code-keyword">if</span> (bResAlg)
      m_vAlgNames.push_back(algName);
    <span class="code-keyword">return</span> bResAlg;
}</pre>
<p>The vector <code>m_vAlgNames</code> is used to initiate a combo box of algorithm names (we will discuss it later).</p>
<p>Each algorithm calls this function to register itself. For example:</p>

<div style="display:block" width="100%" id="premain13" class="pre-action-link"><img preid="13" style="cursor: pointer;" src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/minus.gif" id="preimg13" height="9" width="9"><span preid="13" style="cursor: pointer; margin-bottom: 0px;" id="precollapse13"> Collapse</span><span> | </span><a preid="13" href="#">Copy Code</a></div><pre style="margin-top: 0px;" id="pre13" lang="C++"><span class="code-keyword">bool</span> CACSTravel::RegisterWithFactory(<span class="code-keyword">void</span>)
{
  <span class="code-keyword">return</span> travelAlgFactory.RegisterCreatorAlgFn(m_szAlgName, CreateACSTravelAlg);
}</pre>
<p>If some other algorithm was registered under the same name,
the insert function will fail, and the register function will return false. </p>



<p>To register all algorithms in a given application and to have the possibility 
of easy addition of new algorithms to the application I use <code>TypeList</code>s to enumerate and register all algorithm classes with the factory.</p>



<h3><a name="_Toc364710466"></a><a name="_Toc350624900"></a>Using TypeLists for algorithm registration</h3>



<p>The code for TypeList templates is in the file <em>TypeLists.h</em>.</p>



<p>Andrei Alexandrescu in his book "Modern C++ Design"
has defined <code>TypeList</code> as a template.</p>
<div style="display:block" width="100%" id="premain14" class="pre-action-link"><img preid="14" style="cursor: pointer;" src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/minus.gif" id="preimg14" height="9" width="9"><span preid="14" style="cursor: pointer; margin-bottom: 0px;" id="precollapse14"> Collapse</span><span> | </span><a preid="14" href="#">Copy Code</a></div><pre style="margin-top: 0px;" id="pre14" lang="C++"><span class="code-keyword">template</span> &lt;<span class="code-keyword">class</span> T, <span class="code-keyword">class</span> U&gt;
<span class="code-keyword">struct</span> TypeList
{
  <span class="code-keyword">typedef</span> T Head;
  <span class="code-keyword">typedef</span> U Tail;
};</pre>

<p>It is a very simple template, but it is amazing what you can accomplish with it.</p>



<p>In the book and in the Loki library (<em>Loki\MSVC\1300\Typelist.h</em>)
there are macros to define <code>TypeList</code>s for sets of classes:</p>
<div style="display:block" width="100%" id="premain15" class="pre-action-link"><img preid="15" style="cursor: pointer;" src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/minus.gif" id="preimg15" height="9" width="9"><span preid="15" style="cursor: pointer; margin-bottom: 0px;" id="precollapse15"> Collapse</span><span> | </span><a preid="15" href="#">Copy Code</a></div><pre style="margin-top: 0px;" id="pre15" lang="C++"><span class="code-preprocessor">#define</span> TYPELIST_1(T1) TypeList&lt;T1, NullType&gt;
<span class="code-preprocessor">#define</span> TYPELIST_2(T1, T2) TypeList&lt;T1, TYPELIST_1(T2)&gt;
<span class="code-preprocessor">#define</span> TYPELIST_3(T1, T2, T3) TypeList&lt;T1, TYPELIST_2(T2, T3)&gt;
<span class="code-preprocessor">#define</span> TYPELIST_4(T1, T2, T3, T4) TypeList&lt;T1, TYPELIST_3(T2, T3, T4)&gt;
<span class="code-preprocessor">#define</span> TYPELIST_5(T1, T2, T3, T4, T5) TypeList&lt;T1, TYPELIST_4(T2, T3, T4, T5)&gt;
<span class="code-preprocessor">#define</span> TYPELIST_6(T1, T2, T3, T4, T5, T6) TypeList&lt;T1, TYPELIST_5(T2, T3, T4, T5, T6)&gt;
..........................................................................................</pre>

<p>Loki library defines macros up to 50 classes, but you can
get an idea from these defines. In the Loki library there is a template
<code>MakeTypeList</code> that automatically generates <code>TypeList</code> up to 18 data types.</p>
<p>To automate the registration of algorithms, we are using a
template <code>RegFactoryClasses</code> (file <em>TypeLists.h</em>): </p>
<div style="display:block" width="100%" id="premain16" class="pre-action-link"><img preid="16" style="cursor: pointer;" src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/minus.gif" id="preimg16" height="9" width="9"><span preid="16" style="cursor: pointer; margin-bottom: 0px;" id="precollapse16"> Collapse</span><span> | </span><a preid="16" href="#">Copy Code</a></div><pre style="margin-top: 0px;" id="pre16" lang="C++"><span class="code-keyword">template</span> &lt;<span class="code-keyword">class</span> TList, <span class="code-keyword">int</span> idx&gt;
<span class="code-keyword">struct</span> RegFactoryClasses;
<span class="code-keyword">template</span> &lt;<span class="code-keyword">class</span> Head, <span class="code-keyword">class</span> Tail&gt;
<span class="code-keyword">struct</span> RegFactoryClasses&lt;TypeList&lt;Head, Tail&gt;, <span class="code-digit">0</span>&gt;
{
        <span class="code-keyword">typedef</span> Head Result;
  <span class="code-keyword">static</span> <span class="code-keyword">inline</span> <span class="code-keyword">void</span> Fn(<span class="code-keyword">void</span>)
  {
    Result::RegisterWithFactory();
  }
};
<span class="code-keyword">template</span> &lt;<span class="code-keyword">class</span> Head, <span class="code-keyword">class</span> Tail, <span class="code-keyword">int</span> idx&gt;
<span class="code-keyword">struct</span> RegFactoryClasses&lt;TypeList&lt;Head, Tail&gt;, idx&gt;
{
  <span class="code-keyword">typedef</span> <span class="code-keyword">typename</span> RegFactoryClasses&lt;Tail, idx - <span class="code-digit">1</span>&gt;::Result Result;
  <span class="code-keyword">static</span> <span class="code-keyword">inline</span> <span class="code-keyword">void</span> Fn(<span class="code-keyword">void</span>)
  {
    Result::RegisterWithFactory();
    RegFactoryClasses&lt;TypeList&lt;Head, Tail&gt;, idx - <span class="code-digit">1</span>&gt;::Fn();
  }
};</pre>

<p>The compiler at compile time begins unwinding the
template, each time calling the static function <code>Head::RegisterWithFactory()</code>,
where <code>Head</code> is some class from the <code>TypeList</code>.&nbsp;The compiler stops at index
zero.</p>



<p>So we need to define our <code>TypeList</code> for six algorithms now
in the application:</p>



<div style="display:block" width="100%" id="premain17" class="pre-action-link"><img preid="17" style="cursor: pointer;" src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/minus.gif" id="preimg17" height="9" width="9"><span preid="17" style="cursor: pointer; margin-bottom: 0px;" id="precollapse17"> Collapse</span><span> | </span><a preid="17" href="#">Copy Code</a></div><pre style="margin-top: 0px;" id="pre17" lang="C++"><span class="code-keyword">typedef</span> TYPELIST_6(CASTravel, CASETravel, CRASTravel, CBWASTravel, CMMASTravel, CACSTravel) AlgTypeList;</pre>
<p>Also we typedef our structure <code>RegFactoryClasses</code>:</p>
<div style="display:block" width="100%" id="premain18" class="pre-action-link"><img preid="18" style="cursor: pointer;" src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/minus.gif" id="preimg18" height="9" width="9"><span preid="18" style="cursor: pointer; margin-bottom: 0px;" id="precollapse18"> Collapse</span><span> | </span><a preid="18" href="#">Copy Code</a></div><pre style="margin-top: 0px;" id="pre18" lang="C++"><span class="code-keyword">typedef</span> RegFactoryClasses&lt;AlgTypeList, TypeListLength&lt;AlgTypeList&gt;::<span class="code-keyword">value</span> - <span class="code-digit">1</span> &gt; RegAlgStruct;</pre>
<p>Here <code>TypeListLength</code> is a meta-function also defined in Andrei's book:</p>
<div style="display:block" width="100%" id="premain19" class="pre-action-link"><img preid="19" style="cursor: pointer;" src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/minus.gif" id="preimg19" height="9" width="9"><span preid="19" style="cursor: pointer; margin-bottom: 0px;" id="precollapse19"> Collapse</span><span> | </span><a preid="19" href="#">Copy Code</a></div><pre style="margin-top: 0px;" id="pre19" lang="C++"><span class="code-keyword">template</span> &lt;<span class="code-keyword">class</span> TList&gt; 
<span class="code-keyword">struct</span> TypeListLength;
<span class="code-keyword">template</span> &lt;&gt;
<span class="code-keyword">struct</span> TypeListLength&lt;NullType&gt;
{
  <span class="code-keyword">enum</span> {<span class="code-keyword">value</span> = <span class="code-digit">0</span>};
};
<span class="code-keyword">template</span> &lt; <span class="code-keyword">class</span> T, <span class="code-keyword">class</span> U &gt;
<span class="code-keyword">struct</span> TypeListLength&lt;TypeList&lt;T, U&gt; &gt;
{
  <span class="code-keyword">enum</span> { <span class="code-keyword">value</span> = <span class="code-digit">1</span> + TypeListLength&lt;U&gt;::<span class="code-keyword">value</span>};
};</pre>


<p>Now it is elementary: in <code>OnInitDialog()</code> of the main dialog,
you call:</p>



<div style="display:block" width="100%" id="premain20" class="pre-action-link"><img preid="20" style="cursor: pointer;" src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/minus.gif" id="preimg20" height="9" width="9"><span preid="20" style="cursor: pointer; margin-bottom: 0px;" id="precollapse20"> Collapse</span><span> | </span><a preid="20" href="#">Copy Code</a></div><pre style="margin-top: 0px;" id="pre20" lang="C++">RegAlgStruct::Fn();</pre>
<p>It starts calling the algorithms' <code>RegisterWithFactory</code> functions beginning from the last type in
the <code>TypeList</code>, <code>CACSTravel</code>. In the process of registration, the creation functions of
the algorithms are being added to the map of the registered algorithms with
algorithm names as keys. Because the map is a sorted container, the order of
keys in the map is not immediately clear.</p>



<p>We are presenting algorithm types for the user selection in a
combo box of the main dialog, and we want the box to show them in the same
order they appear in the <code>TypeList</code> at the time of 
registration. Therefore,
at the time of registration, we add the algorithm name to the vector of 
strings. The vector is a data member of the algorithm factory. Later, we
initialize the combo box using this vector, not worrying about the 
number
and names of algorithms. Because the first class in the <code>TypeList</code> is registered
last, we start from the end of the vector:</p>

<div style="display:block" width="100%" id="premain21" class="pre-action-link"><img preid="21" style="cursor: pointer;" src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/minus.gif" id="preimg21" height="9" width="9"><span preid="21" style="cursor: pointer; margin-bottom: 0px;" id="precollapse21"> Collapse</span><span> | </span><a preid="21" href="#">Copy Code</a></div><pre style="margin-top: 0px;" id="pre21" lang="C++">V_ALGNAMES::reverse_iterator rIt =  CTravelAlgFactory::m_vAlgNames.rbegin();
V_ALGNAMES::reverse_iterator rItE = CTravelAlgFactory::m_vAlgNames.rend();
<span class="code-keyword">for</span> (<span class="code-keyword">int</span> idx = <span class="code-digit">0</span>; rIt != rItE; ++rIt, ++idx)
{
  m_comboAlg.InsertString(idx, rIt-&gt;c_str());
}</pre>

<p>I have mentioned earlier that additional algorithm parameters
are being set via dialogs. The dialogs are created on heap. To free the memory upon
destruction of algorithm, we are using the <code>TypeList</code> again. It is the template
(file <em>TypeLists.h</em>): </p>



<div style="display:block" width="100%" id="premain22" class="pre-action-link"><img preid="22" style="cursor: pointer;" src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/minus.gif" id="preimg22" height="9" width="9"><span preid="22" style="cursor: pointer; margin-bottom: 0px;" id="precollapse22"> Collapse</span><span> | </span><a preid="22" href="#">Copy Code</a></div><pre style="margin-top: 0px;" id="pre22" lang="C++"><span class="code-keyword">template</span> &lt;<span class="code-keyword">class</span> Head, <span class="code-keyword">class</span> Tail, <span class="code-keyword">int</span> idx&gt;
<span class="code-keyword">struct</span> DestroyParamsDlgs&lt;TypeList&lt;Head, Tail&gt;, idx&gt;</pre>



<h3><a name="_Toc364710467"></a>Statistics</h3>
<p>Again, there is a hierarchy of statistics, all derived from a base class (file <em>TStat.h</em>):</p>

<div style="display:block" width="100%" id="premain23" class="pre-action-link"><img preid="23" style="cursor: pointer;" src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/minus.gif" id="preimg23" height="9" width="9"><span preid="23" style="cursor: pointer; margin-bottom: 0px;" id="precollapse23"> Collapse</span><span> | </span><a preid="23" href="#">Copy Code</a></div><pre style="margin-top: 0px;" id="pre23" lang="C++"><span class="code-keyword">class</span> CTStatBase
{
<span class="code-keyword">public</span>:
  CTStatBase(<span class="code-keyword">void</span>);
  <span class="code-keyword">virtual</span> ~CTStatBase(<span class="code-keyword">void</span>);
<span class="code-keyword">public</span>:
  <span class="code-keyword">void</span> UpdateDataCapacity(<span class="code-sdkkeyword">size_t</span> maxRun);
  <span class="code-keyword">virtual</span> <span class="code-keyword">int</span> TravelStatID(<span class="code-keyword">void</span>) <span class="code-keyword">const</span> = <span class="code-digit">0</span>;
  <span class="code-keyword">virtual</span> V_CHARTNAMES* ChartNames(<span class="code-keyword">void</span>) = <span class="code-digit">0</span>;
  <span class="code-keyword">virtual</span> <span class="code-keyword">void</span> InitStatParams(<span class="code-keyword">void</span>) {};
  <span class="code-keyword">virtual</span> <span class="code-keyword">void</span> CalculateDataSample(<span class="code-keyword">const</span> CColony&amp; antColony) = <span class="code-digit">0</span>;
  <span class="code-keyword">virtual</span> <span class="code-sdkkeyword">size_t</span> ExportData(CChartContainer&amp; chartContainer, <span class="code-keyword">int</span> initEpoch) = <span class="code-digit">0</span>;
<span class="code-keyword">public</span>:
  V_STATDATA m_vData1;   <span class="code-comment">//</span><span class="code-comment"> Data time series
</span>  V_STATDATA m_vData2;
};</pre>

<p>All statistics data are stored in two
<code>std::vector&lt;double&gt;</code> data members, <code>m_vData1</code> and 
<code>m_vData2</code>. What exactly is stored depends on the type of
statistics. For example, for Best to date and Best per
iteration statistics are
length of travel for the best to date and best for iteration ants.</p>



<p>To optimize the use of memory, we use the function <code>UpdateDataCapacity(size_t maxRun)</code>. It reserves the memory for the vector exactly to
<code>maxRum</code>
elements.</p>



<p>The key function here is <code>CalculateDataSample</code>. It is called upon completion of one
trip.</p>



<p><a name="TmpStop"></a>The statistics data are presented to the
user as numbers and charts. The number of charts per statistics varies. For
example, the Distance statistics has three charts: an average distance, and average
± standard deviation charts. The names of
the charts are stored in the vector of chart names that is a data member of the
concrete statistics.</p>



<p>Upon the user or application's request, the function <code>ExportData</code>
takes the accumulated chunk
of data, calculates data for the charts, and appends charts. It happens
every 100 trips, or on each stop, and on completion of the test.</p>



<p>The statistics classes are:</p>

<ul>
	<li><code>CTStatBest</code>: gathers travel lengths for best to date and best for iteration ants</li>
<li><code>CTStatWorst</code>:
travel lengths for worst to date and worst for iteration ants</li>
	<li><code>CTStatLength</code>: average and standard deviation of lengths
of ant trips for current iteration</li>
<li><code>CTStatDist</code>: average and standard deviation for distances for current iteration (see
Travel Statistics above)</li>
	<li><code>CTStatBranch</code>: the same for branching (see Travel Statistics)</li>
<li><code>CTStatCities</code>: distribution of start cities</li>
<li><code>CTStatRst</code>: intervals between consecutive resets, if the resets are enabled</li>
</ul>



<p>This is an example of a concrete statistics class:</p>
<div style="display:block" width="100%" id="premain24" class="pre-action-link"><img preid="24" style="cursor: pointer;" src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/minus.gif" id="preimg24" height="9" width="9"><span preid="24" style="cursor: pointer; margin-bottom: 0px;" id="precollapse24"> Collapse</span><span> | </span><a preid="24" href="#">Copy Code</a></div><pre style="margin-top: 0px;" id="pre24" lang="C++"><span class="code-keyword">class</span> CTStatBest : <span class="code-keyword">public</span> CTStatBase
{
<span class="code-keyword">public</span>:
  CTStatBest(<span class="code-keyword">void</span>);
  <span class="code-keyword">virtual</span> ~CTStatBest(<span class="code-keyword">void</span>);
<span class="code-keyword">public</span>:
  <span class="code-keyword">static</span> CTStatBase* CreateTStatBest() { <span class="code-keyword">return</span> <span class="code-keyword">new</span> CTStatBest;}
  <span class="code-keyword">virtual</span> <span class="code-keyword">int</span> TravelStatID() <span class="code-keyword">const</span> {<span class="code-keyword">return</span> m_statID;}
  <span class="code-keyword">virtual</span> V_CHARTNAMES* ChartNames() {<span class="code-keyword">return</span> &amp;m_vChartNames;}
  <span class="code-keyword">virtual</span> <span class="code-keyword">void</span> CalculateDataSample(<span class="code-keyword">const</span> CColony&amp; antColony);
  <span class="code-keyword">virtual</span> <span class="code-sdkkeyword">size_t</span> ExportData(CChartContainer&amp; chartContainer, 
                                                 <span class="code-keyword">int</span> initEpoch);
  <span class="code-keyword">static</span> <span class="code-keyword">bool</span> RegisterWithFactory(<span class="code-keyword">void</span>);
<span class="code-keyword">public</span>:
  <span class="code-keyword">static</span> <span class="code-keyword">const</span> <span class="code-keyword">int</span> m_statID;
  V_CHARTNAMES m_vChartNames;
};</pre>


<p>You can see the implementation in the file <em>TStat.cpp.</em></p>



<p>Again, we are using the class factory and <code>TypeList</code> to
register the statistics with the factory:</p>

<div style="display:block" width="100%" id="premain25" class="pre-action-link"><img preid="25" style="cursor: pointer;" src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/minus.gif" id="preimg25" height="9" width="9"><span preid="25" style="cursor: pointer; margin-bottom: 0px;" id="precollapse25"> Collapse</span><span> | </span><a preid="25" href="#">Copy Code</a></div><pre style="margin-top: 0px;" id="pre25" lang="C++"><span class="code-keyword">typedef</span> TYPELIST_7(CTStatBest, CTStatWorst, CTStatLength, CTStatDist,
                 CTStatBranch, CTStatCities, CTStatRst) TStatList;
<span class="code-keyword">typedef</span> RegFactoryClasses&lt;TStatList, 
                 TypeListLength&lt;TStatList&gt;::<span class="code-keyword">value</span> -<span class="code-digit">1</span>&gt; RegTStatStruct;</pre>
<p>As you can see, there are seven statistics, and <code>RegFactoryClasses</code> uses 
<code>TStatList</code>, not <code>AlgTypeList</code>.</p>



<p>The trick is, the statistics classes also have static
functions named <code>RegisterWithFactory</code>, so there is no need to overwrite the definition of 
<code>RegFactoryClasses</code>.</p>



<p>Besides, we are using <code>TypeList</code> to
initialize a static data member <code>m_statID</code> of a Statistics class. For example:</p>

<div style="display:block" width="100%" id="premain26" class="pre-action-link"><img preid="26" style="cursor: pointer;" src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/minus.gif" id="preimg26" height="9" width="9"><span preid="26" style="cursor: pointer; margin-bottom: 0px;" id="precollapse26"> Collapse</span><span> | </span><a preid="26" href="#">Copy Code</a></div><pre style="margin-top: 0px;" id="pre26" lang="C++"><span class="code-keyword">const</span> <span class="code-keyword">int</span> CTStatBest::m_statID = IndexOf&lt;TStatList, CTStatBest&gt;::<span class="code-keyword">value</span>;</pre>
<p><code>IndexOf</code> is the structure defined by Andrei Alexandrescu:</p>
<div style="display:block" width="100%" id="premain27" class="pre-action-link"><img preid="27" style="cursor: pointer;" src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/minus.gif" id="preimg27" height="9" width="9"><span preid="27" style="cursor: pointer; margin-bottom: 0px;" id="precollapse27"> Collapse</span><span> | </span><a preid="27" href="#">Copy Code</a></div><pre style="margin-top: 0px;" id="pre27" lang="C++"><span class="code-keyword">template</span> &lt;<span class="code-keyword">typename</span> T&gt; 
<span class="code-keyword">struct</span> IndexOf&lt;NullType, T&gt;
{
  <span class="code-keyword">enum</span> { <span class="code-keyword">value</span> = -<span class="code-digit">1</span>};
};
<span class="code-keyword">template</span> &lt;<span class="code-keyword">class</span> Tail, <span class="code-keyword">typename</span> T&gt;
<span class="code-keyword">struct</span> IndexOf&lt;TypeList&lt;T, Tail&gt;, T&gt;
{
  <span class="code-keyword">enum</span> {<span class="code-keyword">value</span> = <span class="code-digit">0</span>};
};
<span class="code-keyword">template</span> &lt;<span class="code-keyword">class</span> Head, <span class="code-keyword">class</span> Tail, <span class="code-keyword">typename</span> T&gt;
<span class="code-keyword">struct</span> IndexOf&lt;TypeList&lt;Head, Tail&gt;, T&gt;
{
<span class="code-keyword">private</span>:
  <span class="code-keyword">enum</span> {temp = IndexOf&lt;Tail, T&gt;::<span class="code-keyword">value</span>};
<span class="code-keyword">public</span>:
  <span class="code-keyword">enum</span> {<span class="code-keyword">value</span> = temp == -<span class="code-digit">1</span> ? -<span class="code-digit">1</span> : <span class="code-digit">1</span> +temp};
};
</pre>


<p><code>TypeList</code> and <code>IndexOf</code> together replace enum values.</p>

<h3><a name="_Toc364710468"></a>Lambda expressions, STL algorithms, and this application</h3>

<p>In this application, we often use STL algorithms like <code>std::transform</code>,
<code>std::minmax_element</code>, <code>std::for_each</code>, etc. Often we are applying these
algorithms to containers that keep some structures. To process the data, the STL
algorithms need some predicates or functions to be supplied because operations
like less_than or greater_than are often not
defined for these structures. C++ lambda expressions come to rescue here.</p>

<p>For
example, a code snippet below calculates the maximum value of cities
coordinates to get cities' extent, the square that envelops all cities (file <em>AntColDlg.cpp</em>):</p>
<div style="display:block" width="100%" id="premain28" class="pre-action-link"><img preid="28" style="cursor: pointer;" src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/minus.gif" id="preimg28" height="9" width="9"><span preid="28" style="cursor: pointer; margin-bottom: 0px;" id="precollapse28"> Collapse</span><span> | </span><a preid="28" href="#">Copy Code</a></div><pre style="margin-top: 0px;" id="pre28" lang="C++"><span class="code-keyword">float</span> CAntColDlg::GetCitiesExtent(<span class="code-keyword">const</span> MAP_CITIES&amp; mapCities)
{
  <span class="code-keyword">float</span> maxCoord = <span class="code-digit">0</span>.0f;
  for_each(mapCities.begin(), mapCities.end(), 
     [&amp;maxCoord](<span class="code-keyword">const</span> PAIR_CITY&amp; pair_city) -&gt;<span class="code-keyword">void</span>
     {PointF pntF = pair_city.second.m_pntLocationF; 
      <span class="code-keyword">float</span> locM = max(pntF.X, pntF.Y); 
      <span class="code-keyword">if</span> (maxCoord &lt; locM) maxCoord = locM;});
....................................................
}</pre>


<p>It is an example of a lambda expression with the capture
clause.</p>

<p>First, we define the range of iterators to operate on (it
is the entire map of the cities).</p>

<p>Second, we define a local variable <code>maxCoord = 0.0f</code>.</p>

<p>Next, we call the algorithm for_each on iterators range. The
lambda expression defines the calculations we are going to do.</p>



<p>The variables in the square
brackets are captured variables. VS 2012 Help says: "The lambda expression
can access any variable that has automatic storage duration and that can
be accessed in the enclosing scope." It is a
very powerful feature of lambda expressions. </p>

<p>If the lambda expression is going
to change a value of the captured local variable, you have to pass it by
reference.</p>



<p>Next is a parameter list. As it is
usual for STL algorithms, it dereferences the container iterator.</p>

<p><code>-&gt;void</code> is an expression's return type. That method of declaring
the function return type is introduced in C++ 11 standard. </p>



<p>And finally, there is a body of
the expression.</p>

<p>We access the member of the <code>City</code>, <code>m_pntLocationF</code>, select the maximum of its coordinates X or Y, and update the
captured local variable <code>maxCoord</code> if needed.</p>



<p>In the code,
you find the lambda expressions used with <code>std::transform</code> and other STL
algorithms. <a name="_Toc350624901"></a></p>

<h3><a name="_Toc364710469"></a>Bring your own ant colony optimization algorithm</h3>



<p>You can see that including your own algorithm in this
application is simple.</p>

<ul>
	<li>First, write your algorithm class derived from <code>CASTravelBase</code>. Append
files <em>TravelAlg.h</em> and <em>TravelAlg.cpp</em> to do that. It will save you
from headaches of finding and including the appropriate headers if you would use
separate algorithm files.</li>
<li>If your algorithm has parameters, declare them as static data
members of your class. Provide a dialog box or another means to set these
parameters. Remember that you have to provide a <strong>pair</strong> of static date
members, the value, and the value name string for each parameter to ensure
saving/loading the parameters to/from XML files by the application.</li>
<li>Add your class type to the <code>TypeList</code> definition of <code>AlgTypeList</code>. Do not forget 
to change the number in the <code>TypeList</code> macro; for
example, if you are adding a class, change <code>TYPELIST_6</code> to <code>TYPELIST_7</code>, etc.</li>
	<li>Compile, build, and run.</li>
</ul>



<h3><a name="_Toc364710470"></a>Bring your own statistics</h3>



<p>It is similar, but more complicated. In addition to your own
statistics class and the correction of the statistics type list you will have to
add a button to the statistics selection dialog box, and your charts (if any)
to the function <code>CAntColDlg::ResetStChartData</code>
in <em>AntColDlg.cpp</em>.</p>

<h3><a name="_Toc364710471"></a><a name="_Toc350624902"></a>Running an algorithm</h3>



<p>Select an algorithm, its parameters, and the appropriate
statistics. After selection, the algorithm and its parameters and the selected
statistics are committed by clicking on the button <strong>Apply </strong>(function <code>CAntColDlg::OnBnClickedBtnapply()</code>). It enables the buttons
<strong>Run </strong>or <strong>Step</strong>. Clicking on one of these buttons<strong> </strong>will start a worker thread. The thread receives
the function: </p>



<div style="display:block" width="100%" id="premain29" class="pre-action-link"><img preid="29" style="cursor: pointer;" src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/minus.gif" id="preimg29" height="9" width="9"><span preid="29" style="cursor: pointer; margin-bottom: 0px;" id="precollapse29"> Collapse</span><span> | </span><a preid="29" href="#">Copy Code</a></div><pre style="margin-top: 0px;" id="pre29" lang="C++"><span class="code-keyword">unsigned</span> _stdcall CAntColDlg::RunASTravel(<span class="code-keyword">void</span>* colDataPtr) </pre>
<p>with the pointer to <code>CAntColDlg</code> as a parameter:</p>
<div style="display:block" width="100%" id="premain30" class="pre-action-link"><img preid="30" style="cursor: pointer;" src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/minus.gif" id="preimg30" height="9" width="9"><span preid="30" style="cursor: pointer; margin-bottom: 0px;" id="precollapse30"> Collapse</span><span> | </span><a preid="30" href="#">Copy Code</a></div><pre style="margin-top: 0px;" id="pre30" lang="C++">m_hWorkThread = (HANDLE)_beginthreadex(NULL, <span class="code-digit">0</span>, CAntColDlg::RunASTravel, <span class="code-keyword">this</span>, CREATE_SUSPENDED , NULL);</pre>
<p>The execution of the algorithm is controlled by this function and the function: </p>
<div style="display:block" width="100%" id="premain31" class="pre-action-link"><img preid="31" style="cursor: pointer;" src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/minus.gif" id="preimg31" height="9" width="9"><span preid="31" style="cursor: pointer; margin-bottom: 0px;" id="precollapse31"> Collapse</span><span> | </span><a preid="31" href="#">Copy Code</a></div><pre style="margin-top: 0px;" id="pre31" lang="C++">CAntColDlg::OnTravelOnce(WPARAM wParam, LPARAM lParam)</pre>
<p>In C++ 11 there is a new class <code>std::thread</code> that accepts worker functions with many
parameters. I did not use it because this class is included in VS 2012 only.</p>



<p>Here is the pseudo code for the worker function <code>CAntColDlg::RunASTravel</code>:</p>

<ul>
	<li>Prepare an array of event
objects to synchronize the worker and the main threads</li>
	<li>Get the max trials
number and enter the loop to execute the trips</li>
	<li>Reset the ant colony</li>
	<li>Travel the colony
graph for all colony's ants for the selected algorithm</li>
	<li>Upon the end of each
trip analyze the requests for graph snapshots and set the snapshot flag if the
snapshot trigger is signaled</li>
	<li>Calculate and save
statistics for the trip</li>
	<li>Check for reset and
mutation conditions and do reset or mutation if needed</li>
	<li>Update the ant colony
graph pheromones</li>
	<li>Check whether it is time to send data to the main thread for periodic display of the travel state
(every 100 trips) or to allow a snapshot to be taken and set the appropriate
control events</li>
	<li>Enter the wait
function and wait on events </li>
	<li>Exit the wait function
if appropriate and return to the beginning of the trip loop </li>
</ul>



<p>Let us discuss the synchronization of the worker and main
threads.</p>



<h3><a name="_Toc364710472"></a><a name="_Toc350624903"></a>Synchronization of the worker and the main threads</h3>



<p>We are using four Windows event
objects to synchronize the worker and main threads.</p>

<p>The event handles are members of <code>CAntColDlg</code> and are created in <code>CAntColDlg::OnInitDialog</code>:</p>
<div style="display:block" width="100%" id="premain32" class="pre-action-link"><img preid="32" style="cursor: pointer;" src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/minus.gif" id="preimg32" height="9" width="9"><span preid="32" style="cursor: pointer; margin-bottom: 0px;" id="precollapse32"> Collapse</span><span> | </span><a preid="32" href="#">Copy Code</a></div><pre style="margin-top: 0px;" id="pre32" lang="C++">m_hEvAbortRun = CreateEvent(NULL, FALSE, FALSE, NULL);<span class="code-comment">//</span><span class="code-comment"> Auto reset,  // nonsignaled
</span>m_hEvStopReq  = CreateEvent(NULL, FALSE, FALSE, NULL);<span class="code-comment">//</span><span class="code-comment"> The same 
</span>m_hEvInfoReq  = CreateEvent(NULL, FALSE, FALSE, NULL);<span class="code-comment">//</span><span class="code-comment"> The same
</span>m_hEvContRun  = CreateEvent(NULL, TRUE,  TRUE, NULL); <span class="code-comment">//</span><span class="code-comment"> Manual Reset,    // signaled</span></pre>
<p>The events are ordered at the start of the worker thread in two arrays:</p>
<div style="display:block" width="100%" id="premain33" class="pre-action-link"><img preid="33" style="cursor: pointer;" src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/minus.gif" id="preimg33" height="9" width="9"><span preid="33" style="cursor: pointer; margin-bottom: 0px;" id="precollapse33"> Collapse</span><span> | </span><a preid="33" href="#">Copy Code</a></div><pre style="margin-top: 0px;" id="pre33" lang="C++">HANDLE syncEvArr[] = 
{ 
  antColDlgPtr-&gt;m_hEvAbortRun, antColDlgPtr-&gt;m_hEvStopReq, 
    antColDlgPtr-&gt;m_hEvInfoReq,  antColDlgPtr-&gt;m_hEvContRun 
};
HANDLE waitEvArr[] = 
{ 
  antColDlgPtr-&gt;m_hEvAbortRun, 
  antColDlgPtr-m_hEvContRun
};</pre>


<p>The events are initialized:</p>

<div style="display:block" width="100%" id="premain34" class="pre-action-link"><img preid="34" style="cursor: pointer;" src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/minus.gif" id="preimg34" height="9" width="9"><span preid="34" style="cursor: pointer; margin-bottom: 0px;" id="precollapse34"> Collapse</span><span> | </span><a preid="34" href="#">Copy Code</a></div><pre style="margin-top: 0px;" id="pre34" lang="C++">ResetEvent(syncEvArr[<span class="code-digit">0</span>]);
ResetEvent(syncEvArr[<span class="code-digit">1</span>]);
ResetEvent(syncEvArr[<span class="code-digit">2</span>]);
SetEvent(syncEvArr[<span class="code-digit">3</span>]);</pre>

<p>The event to continue the run
is last in both arrays. At the start, only the event to continue run is signaled.</p>



<p>After the worker thread
finishes processing of the trip, it enters the wait function:</p>
<div style="display:block" width="100%" id="premain35" class="pre-action-link"><img preid="35" style="cursor: pointer;" src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/minus.gif" id="preimg35" height="9" width="9"><span preid="35" style="cursor: pointer; margin-bottom: 0px;" id="precollapse35"> Collapse</span><span> | </span><a preid="35" href="#">Copy Code</a></div><pre style="margin-top: 0px;" id="pre35" lang="C++">DWORD dwWait = WaitForMultipleObjects(<span class="code-digit">4</span>, syncEvArr, FALSE, INFINITE);
<span class="code-keyword">switch</span> (dwWait)
{
<span class="code-keyword">case</span> WAIT_OBJECT_0:       <span class="code-comment">//</span><span class="code-comment"> Terminated by user
</span>  antColDlgPtr-&gt;PostMessage(UWM_ONCETRAVELED, MODE_FAIL, runCnt);
  <span class="code-keyword">return</span> MODE_FAIL;;
<span class="code-keyword">case</span> WAIT_OBJECT_0 + <span class="code-digit">1</span>:   <span class="code-comment">//</span><span class="code-comment"> Stop initiated
</span>  <span class="code-keyword">if</span> (antColDlgPtr-&gt;m_citiesMode == MODE_STEP)
    antColDlgPtr-&gt;PostMessage(UWM_ONCETRAVELED, MODE_STEP, runCnt);
    <span class="code-keyword">else</span>
    antColDlgPtr-&gt;PostMessage(UWM_ONCETRAVELED, MODE_STOP, runCnt);
  dwWait = WaitForMultipleObjects(<span class="code-digit">2</span>, waitEvArr, FALSE, INFINITE);
  <span class="code-keyword">switch</span> (dwWait)
  {
  <span class="code-keyword">case</span> WAIT_OBJECT_0:     <span class="code-comment">//</span><span class="code-comment"> Terminated by user
</span>    antColDlgPtr-&gt;PostMessage(UWM_ONCETRAVELED, MODE_FAIL, runCnt);
    <span class="code-keyword">return</span> MODE_FAIL;
  <span class="code-keyword">case</span> WAIT_OBJECT_0 + <span class="code-digit">1</span>: <span class="code-comment">//</span><span class="code-comment"> Continue; mode is to set by caller
</span>    <span class="code-keyword">break</span>;
  }
  <span class="code-keyword">break</span>;
<span class="code-keyword">case</span> WAIT_OBJECT_0 + <span class="code-digit">2</span>:   <span class="code-comment">//</span><span class="code-comment"> Interrupted to display the state; needs to
</span>                                                    <span class="code-comment">//</span><span class="code-comment"> set cont. event
</span>  antColDlgPtr-&gt;PostMessage(UWM_ONCETRAVELED, MODE_RUN, runCnt);
  dwWait = WaitForMultipleObjects(<span class="code-digit">2</span>, waitEvArr, FALSE, INFINITE);
  <span class="code-keyword">switch</span> (dwWait)
  {
  <span class="code-keyword">case</span> WAIT_OBJECT_0:     <span class="code-comment">//</span><span class="code-comment"> Terminated by user
</span>    antColDlgPtr-&gt;PostMessage(UWM_ONCETRAVELED, MODE_FAIL, runCnt);
    <span class="code-keyword">return</span> MODE_FAIL;
  <span class="code-keyword">case</span> WAIT_OBJECT_0 + <span class="code-digit">1</span>: <span class="code-comment">//</span><span class="code-comment"> Continue; mode is to be set by caller
</span>    <span class="code-keyword">break</span>;
  }
  <span class="code-keyword">break</span>;
<span class="code-keyword">case</span> WAIT_OBJECT_0 + <span class="code-digit">3</span>:   <span class="code-comment">//</span><span class="code-comment"> Normal continuation
</span>  <span class="code-keyword">break</span>;
}</pre>

<p>If the main thread (the user) wants to stop or interrupt test
execution, it should reset the <em>continue</em> event and set one of the
other events, like this:</p>

<div style="display:block" width="100%" id="premain36" class="pre-action-link"><img preid="36" style="cursor: pointer;" src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/minus.gif" id="preimg36" height="9" width="9"><span preid="36" style="cursor: pointer; margin-bottom: 0px;" id="precollapse36"> Collapse</span><span> | </span><a preid="36" href="#">Copy Code</a></div><pre style="margin-top: 0px;" id="pre36" lang="C++"><span class="code-keyword">if</span> (m_citiesMode == MODE_RUN)
{
  ResetEvent(m_hEvContRun);
  SetEvent(m_hEvInfoReq);
}</pre>

<p>The first action is to reset <code>m_hEvContRun</code>. Because all other events are normally
non-signaled, the worker thread will go into the wait state. It waits until the
user will set any other event to the signaled state. That will release the
worker thread, and the worker function will go to the <code>switch</code> statement to
process the return from the first wait function.</p>

<p>First, the worker thread posts a message to the main thread: &nbsp;</p>



<div style="display:block" width="100%" id="premain37" class="pre-action-link"><img preid="37" style="cursor: pointer;" src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/minus.gif" id="preimg37" height="9" width="9"><span preid="37" style="cursor: pointer; margin-bottom: 0px;" id="precollapse37"> Collapse</span><span> | </span><a preid="37" href="#">Copy Code</a></div><pre style="margin-top: 0px;" id="pre37" lang="C++">antColDlgPtr-&gt;PostMessage(UWM_ONCETRAVELED, MODE_RUN, runCnt);</pre>
<p>The worker thread passes the appropriate values to <code>WPARAM</code> and <code>LPARAM</code> of the message.</p>
<p>If the user requested an interruption of the test (had set event <code>m_hEvStopReq</code> or <code>m_hEvInfoReq</code>),
 to initiate one step or stop 
of execution, or the application requested the information on the state 
of the travel, the worker thread enters the second wait functions, to 
wait for the 
user choice to continue or to abort the run. This time the worker thread
 is waiting for two events only.</p>

<p>The messages the worker thread sends to the main thread are
handled in the function <code>CAntColDlg::OnTravelOnce(WPARAM wParam, LPARAM lParam)</code> (file <em>AntColDlg.cpp</em>).</p>



<p>This function, after completing all processing, sets the
event <code>m_hEvContRun</code> if the user wants to continue the run. That releases the
worker thread if it was waiting. </p>



<p>After completing the run, the worker thread sends to the main
thread the message:</p>



<div style="display:block" width="100%" id="premain38" class="pre-action-link"><img preid="38" style="cursor: pointer;" src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/minus.gif" id="preimg38" height="9" width="9"><span preid="38" style="cursor: pointer; margin-bottom: 0px;" id="precollapse38"> Collapse</span><span> | </span><a preid="38" href="#">Copy Code</a></div><pre style="margin-top: 0px;" id="pre38" lang="C++">antColDlgPtr-&gt;PostMessage(UWM_ONCETRAVELED, MODE_APPLY, runCnt);</pre>
<p>and exits.</p>
<h3><a name="_Toc364710473"></a><a name="_Toc350624904"></a>Drawing with GDI+</h3>



<p>All drawing is rendered in GDI+. To get flicker free
rendering, I am drawing onto a memory bitmap and only at the end of the drawing transfer the bitmap
onto the screen surface (this is well known as double buffering). Here is an
example:</p>
<div style="display:block" width="100%" id="premain39" class="pre-action-link"><img preid="39" style="cursor: pointer;" src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/minus.gif" id="preimg39" height="9" width="9"><span preid="39" style="cursor: pointer; margin-bottom: 0px;" id="precollapse39"> Collapse</span><span> | </span><a preid="39" href="#">Copy Code</a></div><pre style="margin-top: 0px;" id="pre39" lang="C++"><span class="code-keyword">void</span> CStCities::OnPaint()
{
  CPaintDC dc(<span class="code-keyword">this</span>);                 <span class="code-comment">//</span><span class="code-comment"> Device context for painting
</span>  Graphics gr(dc.m_hDC);             <span class="code-comment">//</span><span class="code-comment"> Graphics to paint
</span>  Rect rGdi;
  gr.GetVisibleClipBounds(&amp;rGdi);   <span class="code-comment">//</span><span class="code-comment"> The same as the clip rect
</span>  rGdi.Width -= <span class="code-digit">1</span>;                  <span class="code-comment">//</span><span class="code-comment"> Important: right and bottom
</span>  rGdi.Height -= <span class="code-digit">1</span>;                 <span class="code-comment">//</span><span class="code-comment"> borders are outside the rectangle          
</span>  Bitmap clBmp(rGdi.Width, rGdi.Height);          <span class="code-comment">//</span><span class="code-comment"> Memory bitmap
</span>  Graphics* grPtr = Graphics::FromImage(&amp;clBmp);  <span class="code-comment">//</span><span class="code-comment"> As memDC
</span>  .................................................
        <span class="code-comment">//</span><span class="code-comment"> Drawing routines
</span>  .................................................
 
  gr.DrawImage(&amp;clBmp, rGdi);
  <span class="code-keyword">delete</span> grPtr;
}</pre>


<p>Second, to display the start cities as a bar graph, I used a <strong>transparent</strong>
picture control <code>CCitiesChart</code>.</p>



<p>I overlapped it over the main dialog chart control. The code
is in <code>CAntColDlg::OnInitDialog()</code>:</p>



<div style="display:block" width="100%" id="premain40" class="pre-action-link"><img preid="40" style="cursor: pointer;" src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/minus.gif" id="preimg40" height="9" width="9"><span preid="40" style="cursor: pointer; margin-bottom: 0px;" id="precollapse40"> Collapse</span><span> | </span><a preid="40" href="#">Copy Code</a></div><pre style="margin-top: 0px;" id="pre40" lang="C++">WINDOWPLACEMENT contPlacement;
m_chartContainer.GetWindowPlacement(&amp;contPlacement);
m_stCitiesChart.SetWindowPlacement(&amp;contPlacement);</pre>
<h3><a name="_Toc364710474"></a>Printing outside a document/view model</h3>

<p>In the
article <a href="http://support.microsoft.com/kb/133275">KB133275</a>, Microsoft
explains how to print from a class other than an MFC <code>CView</code>. In addition,
there is a tutorial on <a href="http://www.ucancode.net/faq/MFC-Tutorials-GDI-Print-Articles.htm">GDI Printing,
GDI+ Printing</a> on Internet. The tutorial is overcomplicated; Microsoft does
not mention GDI+.</p>

<p>Still,
I followed the framework of the Microsoft sample code.</p>

<p>For
example, this is how I am printing a report of the results of the test.</p>

<p>First,
you start with <code>CPrintDialog</code> to select the printer and get the printer DC (<em>AntColDlg.cpp</em>):</p>
<div style="display:block" width="100%" id="premain41" class="pre-action-link"><img preid="41" style="cursor: pointer;" src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/minus.gif" id="preimg41" height="9" width="9"><span preid="41" style="cursor: pointer; margin-bottom: 0px;" id="precollapse41"> Collapse</span><span> | </span><a preid="41" href="#">Copy Code</a></div><pre style="margin-top: 0px;" id="pre41" lang="C++"><span class="code-keyword">void</span> CAntColDlg::PrintReport(<span class="code-keyword">void</span>)
{
  CPrintDialog printDlg(FALSE,PD_USEDEVMODECOPIES|PD_HIDEPRINTTOFILE|PD_NOPAGENUMS|
                   PD_NOSELECTION|PD_RETURNDC);
  printDlg.m_pd.Flags &amp;= ~PD_SHOWHELP;
  printDlg.m_pd.Flags &amp;= ~PD_NOSELECTION;
  <span class="code-keyword">if</span> (IDOK == printDlg.DoModal())
  {
<span class="code-comment">//</span><span class="code-comment"> Get screen dpi to scale all literals like pen width, offsets, etc. e  
</span>    CPaintDC containerDC(<span class="code-keyword">this</span>);
    <span class="code-keyword">int</span> scrDpiX = containerDC.GetDeviceCaps(LOGPIXELSX);
<span class="code-comment">//</span><span class="code-comment"> Init and run prn report
</span>    CPrnReport prnReport;     <span class="code-comment">//</span><span class="code-comment"> Instantiate the print report class     
</span>    prnReport.InitRepData(<span class="code-keyword">this</span>);
<span class="code-comment">//</span><span class="code-comment"> If true, print the first page only
</span>    <span class="code-keyword">bool</span> bPrintSel = printDlg.PrintSelection() == TRUE ? <span class="code-keyword">true</span> : <span class="code-keyword">false</span>;
    prnReport.PrintReport(scrDpiX, bPrintSel, printDlg.GetPrinterDC());
  }
}</pre>
<p>All work is done in the function (file <em>PrnReport.cpp</em>):</p>
<div style="display:block" width="100%" id="premain42" class="pre-action-link"><img preid="42" style="cursor: pointer;" src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/minus.gif" id="preimg42" height="9" width="9"><span preid="42" style="cursor: pointer; margin-bottom: 0px;" id="precollapse42"> Collapse</span><span> | </span><a preid="42" href="#">Copy Code</a></div><pre style="margin-top: 0px;" id="pre42" lang="C++"><span class="code-keyword">void</span> CPrnReport::PrintReport(<span class="code-keyword">int</span> scrDpiX, <span class="code-keyword">bool</span> bPrintSel, HDC printDC)
{
  <span class="code-keyword">if</span> (printDC != NULL)
  {
    CDC* pDC = <span class="code-keyword">new</span> CDC;
    pDC-&gt;Attach(printDC); 
    Graphics* grPtr = Graphics::FromHDC(printDC);  <span class="code-comment">//</span><span class="code-comment"> Graphics to paint
</span>    grPtr-&gt;SetPageUnit(UnitDocument);
    grPtr-&gt;SetSmoothingMode(SmoothingModeAntiAlias);
<span class="code-comment">//</span><span class="code-comment"> Get dpiRatio
</span>    <span class="code-keyword">float</span> dpiRatioX = <span class="code-digit">300</span>.0f/scrDpiX;
    RectF rGdiF;
        grPtr-&gt;GetVisibleClipBounds(&amp;rGdiF);     <span class="code-comment">//</span><span class="code-comment"> The same as the clip rect
</span><span class="code-comment">//</span><span class="code-comment"> Begin Printing
</span>    pDC-&gt;StartDoc(m_algName.c_str());       <span class="code-comment">//</span><span class="code-comment"> MFC functions
</span>    pDC-&gt;StartPage();
..........................................  <span class="code-comment">//</span><span class="code-comment"> Drawing functions 
</span>    pDC-&gt;EndPage();
<span class="code-comment">//</span><span class="code-comment"> Now print the best to date ant's path as a table
</span>    <span class="code-keyword">if</span> (!bPrintSel)
    {
      ...........................................
      <span class="code-keyword">while</span> (<span class="code-keyword">true</span>)
      {
        pDC-&gt;StartPage();
        ................................. <span class="code-comment">//</span><span class="code-comment"> Drawing functions 
</span>        pDC-&gt;EndPage();
        <span class="code-keyword">if</span> (firstRow == rowsTotal)
          <span class="code-keyword">break</span>;
      }
    }
    pDC-&gt;EndDoc();
    <span class="code-keyword">delete</span>(pDC);
  }
}</pre>
<p>Pay attention to the use of MFC functions <code>StartDoc</code>, <code>StartPage</code>, 
<code>EndPage</code>, and <code>EndDoc</code>.</p>
<h3><a name="_Toc364710475"></a>Creating a custom print dialog</h3>



<p>The recipe is known: find the
<code>CPrintDialog</code> resource template in MFC, copy it, extend it, and write your own
class derived from <code>CPrintDialog</code> with all the bells and whistles you like. </p>



<p>I spent a lot of time trying to
find the appropriate resource, and I have found it eventually. You can copy
<code>IDD_DLGEDGEPRINT</code> from this application to save some time.</p>



<p>You have to initialize the
members of the <code>m_pd</code> structure of <code>CFileDialog</code>
like this (file <em>DlgEdgePrint.cpp</em>):</p>
<div style="display:block" width="100%" id="premain43" class="pre-action-link"><img preid="43" style="cursor: pointer;" src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/minus.gif" id="preimg43" height="9" width="9"><span preid="43" style="cursor: pointer; margin-bottom: 0px;" id="precollapse43"> Collapse</span><span> | </span><a preid="43" href="#">Copy Code</a></div><pre style="margin-top: 0px;" id="pre43" lang="C++">CDlgEdgePrint::
  CDlgEdgePrint(BOOL bPrintSetupOnly, DWORD dwFlags, CWnd* pParentWnd)
               : CPrintDialog(bPrintSetupOnly, dwFlags, pParentWnd)
{
  m_pd.lpPrintTemplateName = (LPTSTR) MAKEINTRESOURCE(IDD_DLGEDGEPRINT); 
      m_pd.Flags |= PD_ENABLEPRINTTEMPLATE;  
  m_pd.Flags &amp;= ~PD_SHOWHELP;
      m_pd.hInstance = AfxGetInstanceHandle(); 
}</pre>
<p>You also have to write handlers for controls you added to the dialog template.</p>
<p>In my custom print dialog, I have added only a <code>CStatic</code> control to display a warning that was known before the print dialog 
was instantiated:</p>
<div style="display:block" width="100%" id="premain44" class="pre-action-link"><img preid="44" style="cursor: pointer;" src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/minus.gif" id="preimg44" height="9" width="9"><span preid="44" style="cursor: pointer; margin-bottom: 0px;" id="precollapse44"> Collapse</span><span> | </span><a preid="44" href="#">Copy Code</a></div><pre style="margin-top: 0px;" id="pre44" lang="C++">sstream_t stream_t;
stream_t &lt;&lt; _T(<span class="code-string">"</span><span class="code-string">Selected screen page takes "</span>) &lt;&lt; paperPagesPerScrPage 
   &lt;&lt; _T(<span class="code-string">"</span><span class="code-string"> paper pages,\n"</span>) &lt;&lt; _T(<span class="code-string">"</span><span class="code-string">All pages need "</span>) 
         &lt;&lt; totalPaperPages &lt;&lt; _T(<span class="code-string">"</span><span class="code-string"> paper pages.\n"</span>) 
   &lt;&lt; _T(<span class="code-string">"</span><span class="code-string">Screen page #1 shows ant's path,\nfor other pages"</span>) 
   &lt;&lt; _T(<span class="code-string">"</span><span class="code-string"> source vertex's ID = page nmb -2"</span>) &lt;&lt; endl;
string_t str = stream_t.str();
<span class="code-keyword">const</span> _TCHAR* buf = str.data();</pre>
<p>I have initialized the <code>m_pd</code> members as follows:</p>
<div style="display:block" width="100%" id="premain45" class="pre-action-link"><img preid="45" style="cursor: pointer;" src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/minus.gif" id="preimg45" height="9" width="9"><span preid="45" style="cursor: pointer; margin-bottom: 0px;" id="precollapse45"> Collapse</span><span> | </span><a preid="45" href="#">Copy Code</a></div><pre style="margin-top: 0px;" id="pre45" lang="C++">CDlgEdgePrint printDlg(FALSE, PD_SELECTION|PD_USEDEVMODECOPIES|PD_HIDEPRINTTOFILE||PD_RETURNDC);
printDlg.m_pd.Flags    &amp;= ~PD_SHOWHELP;
printDlg.m_pd.Flags    |= PD_ENABLEPRINTHOOK;
printDlg.m_pd.lpfnPrintHook = PrintHookProc;
printDlg.m_pd.nFromPage = WORD(selPage + <span class="code-digit">2</span>);
printDlg.m_pd.nToPage   = WORD(selPage + <span class="code-digit">2</span>);
printDlg.m_pd.nMinPage  = <span class="code-digit">1</span>; 
printDlg.m_pd.nMaxPage  = WORD(pagesNum);
printDlg.m_pd.lCustData = (LPARAM)buf;</pre>
<p>I wrote this text in the static control on initialization of the dialog calling the callback function <code>PrintHookProc</code>:</p>
<div style="display:block" width="100%" id="premain46" class="pre-action-link"><img preid="46" style="cursor: pointer;" src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/minus.gif" id="preimg46" height="9" width="9"><span preid="46" style="cursor: pointer; margin-bottom: 0px;" id="precollapse46"> Collapse</span><span> | </span><a preid="46" href="#">Copy Code</a></div><pre style="margin-top: 0px;" id="pre46" lang="C++">UINT_PTR CALLBACK PrintHookProc(HWND hdlg, UINT uiMsg, WPARAM wParam, LPARAM lParam)
{
  UNREFERENCED_PARAMETER(wParam);
  <span class="code-keyword">switch</span>(uiMsg)
  {
  <span class="code-keyword">case</span> WM_INITDIALOG:
    {
      PRINTDLG* pd = (PRINTDLG*)lParam;
      <span class="code-keyword">const</span> _TCHAR* buf = (_TCHAR*)pd-&gt;lCustData;
      HWND tbHWND = (HWND)GetDlgItem(hdlg, IDC_EDGEPRN_STWARN);
      SetWindowText(tbHWND, buf);
    }    <span class="code-keyword">break</span>;
  }
  <span class="code-keyword">return</span> FALSE;
}</pre>


<h2><a name="_Toc364710476"></a><a name="_Toc350624905"></a>The source code and demo project</h2>



<p>With this article, I have
included the application source code and the <em>AntCol.exe</em> file.</p>

<p>With the source code are
included the libraries it uses: <em>ChartCtrlLibD.lib</em> (Debug version 1.2.1) and
<em>ChartCtrlLib.lib</em> (Release version 1.2.1.) You will be able to recompile and
rebuild <em>AntCol.exe</em> with your own algorithms. </p>

<p>The code was built under MS
Visual Studio 2012 (VC++ 11) and Windows &amp; Pro. </p>



<p>If you do not have VS
2012, you still can work with the source code in MS VS 2010. I included the
solution and project files in the folder <em>2010Project</em> in the source zip file.&nbsp;
The source files are the same, the only difference is that for VC++ 11, the
project properties include a preprocessor directive <code>_VARIADIC_MAX=10</code>, because
in VC++ 11 Microsoft uses variadic templates for templates with many arguments,
and default max number of elements is five. In VC++ 10, they are using
recurrent definitions like we used for <code>TypeList</code>.</p>



<p>To work in VS 2010, you will
need VC++ 10 versions of the static library <em>ChartCtrlLib.lib</em>. You can download
them from my article:<a title="&quot;An MFC Chart Control with Enhanced User Interface&quot;" href="http://www.codeproject.com/Articles/317712/An-MFC-Chart-Control-with-Enhanced-User-Interface"> </a><a href="http://www.codeproject.com/Articles/317712/An-MFC-Chart-Control-with-Enhanced-User-Interface">An
MFC Chart Control with Enhanced User </a><a href="http://www.codeproject.com/Articles/317712/An-MFC-Chart-Control-with-Enhanced-User-Interface">
Interface</a>.</p>





<h2><a name="_Toc364710477"></a><a name="_Toc350624906"></a>History</h2>



<ul>
	<li>08/22/2013: Initial version,
1.0.0.</li>
</ul>


						</div>
						

						<div class="float-right" style="margin:20px 0 0 10px;border:1px solid #ccc">
						<div class="msg-300x250" data-format="300x250" data-type="ad" data-publisher="lqm.codeproject.site" data-zone="General-Programming/Algorithms-Recipes/Algorithms" data-loadonview="true" data-tags="C++, MFC, GDI+, Boost, VC++, VS2012,rating4.5"><noscript><a href="http://ad.doubleclick.net/N6839/jump/lqm.codeproject.site/General-Programming/Algorithms-Recipes/Algorithms;sz=300x250;ord=635591320319258209?"><img src="http://ad.doubleclick.net/N6839/ad/lqm.codeproject.site/General-Programming/Algorithms-Recipes/Algorithms;sz=300x250;ord=635591320319258209?"  width="300px" height="250px" /></a></noscript></div>
						</div>
                        
                        
						
						<h2>License</h2>
						<div id="LicenseTerms"><p>This article, along with any associated source code and files, is licensed under <a href="http://www.codeproject.com/info/cpol10.aspx" rel="license">The Code Project Open License (CPOL)</a></p></div>
						

                        
						<h2>Share</h2>
				        <div style="margin-bottom:40px;width:385px">
					        



<!-- Buttons start here. Copy this ul to your document. -->
<ul class="rrssb-buttons clearfix rrssb-1">
    <li data-size="34" data-initwidth="14.285714285714286" style="width: calc(100% - 252px);" class="email">

        <!-- Replace subject with your message using URL Endocding: http://meyerweb.com/eric/tools/dencoder/ -->
        <a href="mailto:?subject=Applying+Ant+Colony+Optimization+Algorithms+to+Solve+the+Traveling+Salesman+Problem+-+CodeProject&amp;body=http%3a%2f%2fwww.codeproject.com%2fArticles%2f644067%2fApplying-Ant-Colony-Optimization-Algorithms-to-Sol">
            <span class="icon">
                <svg xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" width="28px" height="28px" viewBox="0 0 28 28" enable-background="new 0 0 28 28" xml:space="preserve"><g><path d="M20.111 26.147c-2.336 1.051-4.361 1.401-7.125 1.401c-6.462 0-12.146-4.633-12.146-12.265 c0-7.94 5.762-14.833 14.561-14.833c6.853 0 11.8 4.7 11.8 11.252c0 5.684-3.194 9.265-7.399 9.3 c-1.829 0-3.153-0.934-3.347-2.997h-0.077c-1.208 1.986-2.96 2.997-5.023 2.997c-2.532 0-4.361-1.868-4.361-5.062 c0-4.749 3.504-9.071 9.111-9.071c1.713 0 3.7 0.4 4.6 0.973l-1.169 7.203c-0.388 2.298-0.116 3.3 1 3.4 c1.673 0 3.773-2.102 3.773-6.58c0-5.061-3.27-8.994-9.303-8.994c-5.957 0-11.175 4.673-11.175 12.1 c0 6.5 4.2 10.2 10 10.201c1.986 0 4.089-0.43 5.646-1.245L20.111 26.147z M16.646 10.1 c-0.311-0.078-0.701-0.155-1.207-0.155c-2.571 0-4.595 2.53-4.595 5.529c0 1.5 0.7 2.4 1.9 2.4 c1.441 0 2.959-1.828 3.311-4.087L16.646 10.068z"></path></g></svg>
            </span>
            <span class="text">email</span>
        </a>
    </li>
    <li data-size="45" data-initwidth="14.285714285714286" style="width: 42px;" class="twitter small">
        <!-- Replace href with your Meta and URL information  -->
        <a href="http://twitter.com/home?status=Applying+Ant+Colony+Optimization+Algorithms+to+Solve+the+Traveling+Salesman+Problem+-+CodeProject%20http%3a%2f%2fwww.codeproject.com%2fArticles%2f644067%2fApplying-Ant-Colony-Optimization-Algorithms-to-Sol" class="popup">
            <span class="icon">
                <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="28px" height="28px" viewBox="0 0 28 28" enable-background="new 0 0 28 28" xml:space="preserve">
                <path d="M24.253,8.756C24.689,17.08,18.297,24.182,9.97,24.62c-3.122,0.162-6.219-0.646-8.861-2.32
                    c2.703,0.179,5.376-0.648,7.508-2.321c-2.072-0.247-3.818-1.661-4.489-3.638c0.801,0.128,1.62,0.076,2.399-0.155
                    C4.045,15.72,2.215,13.6,2.115,11.077c0.688,0.275,1.426,0.407,2.168,0.386c-2.135-1.65-2.729-4.621-1.394-6.965
                    C5.575,7.816,9.54,9.84,13.803,10.071c-0.842-2.739,0.694-5.64,3.434-6.482c2.018-0.623,4.212,0.044,5.546,1.683
                    c1.186-0.213,2.318-0.662,3.329-1.317c-0.385,1.256-1.247,2.312-2.399,2.942c1.048-0.106,2.069-0.394,3.019-0.851
                    C26.275,7.229,25.39,8.196,24.253,8.756z"></path>
                </svg>
            </span>
            <span class="text">twitter</span>
        </a>
    </li>

    <li data-size="57" data-initwidth="14.285714285714286" style="width: 42px;" class="facebook small">
        <!-- Replace with your URL. For best results, make sure you page has the proper FB Open Graph tags in header: 
        https://developers.facebook.com/docs/opengraph/howtos/maximizing-distribution-media-content/ -->
        <a href="https://www.facebook.com/sharer/sharer.php?u=http%3a%2f%2fwww.codeproject.com%2fArticles%2f644067%2fApplying-Ant-Colony-Optimization-Algorithms-to-Sol" class="popup">
            <span class="icon">
                <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="28px" height="28px" viewBox="0 0 28 28" enable-background="new 0 0 28 28" xml:space="preserve">
                    <path d="M27.825,4.783c0-2.427-2.182-4.608-4.608-4.608H4.783c-2.422,0-4.608,2.182-4.608,4.608v18.434
                        c0,2.427,2.181,4.608,4.608,4.608H14V17.379h-3.379v-4.608H14v-1.795c0-3.089,2.335-5.885,5.192-5.885h3.718v4.608h-3.726
                        c-0.408,0-0.884,0.492-0.884,1.236v1.836h4.609v4.608h-4.609v10.446h4.916c2.422,0,4.608-2.188,4.608-4.608V4.783z"></path>
                </svg>
            </span>
            <span class="text">facebook</span>
        </a>
    </li>
    
    <li data-size="51" data-initwidth="14.285714285714286" style="width: 42px;" class="linkedin small">
        <!-- Replace href with your meta and URL information -->
        <a href="http://www.linkedin.com/shareArticle?mini=true&amp;url=http%3a%2f%2fwww.codeproject.com%2fArticles%2f644067%2fApplying-Ant-Colony-Optimization-Algorithms-to-Sol&amp;title=Applying+Ant+Colony+Optimization+Algorithms+to+Solve+the+Traveling+Salesman+Problem+-+CodeProject" class="popup">
            <span class="icon">
                <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="28px" height="28px" viewBox="0 0 28 28" enable-background="new 0 0 28 28" xml:space="preserve">
                    <path d="M25.424,15.887v8.447h-4.896v-7.882c0-1.979-0.709-3.331-2.48-3.331c-1.354,0-2.158,0.911-2.514,1.803
                        c-0.129,0.315-0.162,0.753-0.162,1.194v8.216h-4.899c0,0,0.066-13.349,0-14.731h4.899v2.088c-0.01,0.016-0.023,0.032-0.033,0.048
                        h0.033V11.69c0.65-1.002,1.812-2.435,4.414-2.435C23.008,9.254,25.424,11.361,25.424,15.887z M5.348,2.501
                        c-1.676,0-2.772,1.092-2.772,2.539c0,1.421,1.066,2.538,2.717,2.546h0.032c1.709,0,2.771-1.132,2.771-2.546
                        C8.054,3.593,7.019,2.501,5.343,2.501H5.348z M2.867,24.334h4.897V9.603H2.867V24.334z"></path>
                </svg>
            </span>
            <span class="text">linkedin</span>
        </a>
    </li>
    <li data-size="38" data-initwidth="14.285714285714286" style="width: 42px;" class="reddit small">
        <a href="http://www.reddit.com/submit?url=http%3a%2f%2fwww.codeproject.com%2fArticles%2f644067%2fApplying-Ant-Colony-Optimization-Algorithms-to-Sol">
            <span class="icon">
                <svg xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" width="28px" height="28px" viewBox="0 0 28 28" enable-background="new 0 0 28 28" xml:space="preserve"><g>
                <path d="M11.794 15.316c0-1.029-0.835-1.895-1.866-1.895c-1.03 0-1.893 0.865-1.893 1.895s0.863 1.9 1.9 1.9 C10.958 17.2 11.8 16.3 11.8 15.316z"></path>
                <path d="M18.1 13.422c-1.029 0-1.895 0.864-1.895 1.895c0 1 0.9 1.9 1.9 1.865c1.031 0 1.869-0.836 1.869-1.865 C19.969 14.3 19.1 13.4 18.1 13.422z"></path>
                <path d="M17.527 19.791c-0.678 0.678-1.826 1.006-3.514 1.006c-0.004 0-0.009 0-0.014 0c-0.004 0-0.01 0-0.015 0 
                c-1.686 0-2.834-0.328-3.51-1.005c-0.264-0.265-0.693-0.265-0.958 0c-0.264 0.265-0.264 0.7 0 1 c0.943 0.9 2.4 1.4 
                4.5 1.402c0.005 0 0 0 0 0c0.005 0 0 0 0 0c2.066 0 3.527-0.459 4.47-1.402 c0.265-0.264 0.265-0.693 0.002-0.958C18.221 
                19.5 17.8 19.5 17.5 19.791z"></path><path d="M27.707 13.267c0-1.785-1.453-3.237-3.236-3.237c-0.793 0-1.518 0.287-2.082 
                0.761c-2.039-1.295-4.646-2.069-7.438-2.219 l1.483-4.691l4.062 0.956c0.071 1.4 1.3 2.6 2.7 2.555c1.488 0 2.695-1.208 
                2.695-2.695C25.881 3.2 24.7 2 23.2 2 c-1.059 0-1.979 0.616-2.42 1.508l-4.633-1.091c-0.344-0.081-0.693 0.118-0.803 
                0.455l-1.793 5.7 C10.548 8.6 7.7 9.4 5.6 10.75C5.006 10.3 4.3 10 3.5 10.029c-1.785 0-3.237 1.452-3.237 3.2 c0 1.1 0.6 
                2.1 1.4 2.69c-0.04 0.272-0.061 0.551-0.061 0.831c0 2.3 1.3 4.4 3.7 5.9 c2.299 1.5 5.3 2.3 8.6 2.325c3.228 0 6.271-0.825 
                8.571-2.325c2.387-1.56 3.7-3.66 3.7-5.917 c0-0.26-0.016-0.514-0.051-0.768C27.088 15.5 27.7 14.4 27.7 13.267z M23.186 
                3.355c0.74 0 1.3 0.6 1.3 1.3 c0 0.738-0.6 1.34-1.34 1.34s-1.342-0.602-1.342-1.34C21.844 4 22.4 3.4 23.2 3.355z M1.648 
                13.3 c0-1.038 0.844-1.882 1.882-1.882c0.31 0 0.6 0.1 0.9 0.209c-1.049 0.868-1.813 1.861-2.26 2.9 C1.832 14.2 1.6 13.8 1.6 
                13.267z M21.773 21.57c-2.082 1.357-4.863 2.105-7.831 2.105c-2.967 0-5.747-0.748-7.828-2.105 
                c-1.991-1.301-3.088-3-3.088-4.782c0-1.784 1.097-3.484 3.088-4.784c2.081-1.358 4.861-2.106 7.828-2.106 c2.967 0 5.7 
                0.7 7.8 2.106c1.99 1.3 3.1 3 3.1 4.784C24.859 18.6 23.8 20.3 21.8 21.57z M25.787 14.6 
                c-0.432-1.084-1.191-2.095-2.244-2.977c0.273-0.156 0.59-0.245 0.928-0.245c1.035 0 1.9 0.8 1.9 1.9 
                C26.354 13.8 26.1 14.3 25.8 14.605z"></path></g></svg>
            </span>
            <span class="text">reddit</span>
        </a>
    </li>
    <li data-size="52" data-initwidth="14.285714285714286" style="width: 42px;" class="googleplus small">
        <!-- Replace href with your meta and URL information.  -->
        <a href="https://plus.google.com/share?url=Check%20out%20Applying+Ant+Colony+Optimization+Algorithms+to+Solve+the+Traveling+Salesman+Problem+-+CodeProject%20http%3a%2f%2fwww.codeproject.com%2fArticles%2f644067%2fApplying-Ant-Colony-Optimization-Algorithms-to-Sol" class="popup">
            <span class="icon">
                <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="28px" height="28px" viewBox="0 0 28 28" enable-background="new 0 0 28 28" xml:space="preserve">
                    <g>
                        <g>
                            <path d="M14.703,15.854l-1.219-0.948c-0.372-0.308-0.88-0.715-0.88-1.459c0-0.748,0.508-1.223,0.95-1.663
                                c1.42-1.119,2.839-2.309,2.839-4.817c0-2.58-1.621-3.937-2.399-4.581h2.097l2.202-1.383h-6.67c-1.83,0-4.467,0.433-6.398,2.027
                                C3.768,4.287,3.059,6.018,3.059,7.576c0,2.634,2.022,5.328,5.604,5.328c0.339,0,0.71-0.033,1.083-0.068
                                c-0.167,0.408-0.336,0.748-0.336,1.324c0,1.04,0.551,1.685,1.011,2.297c-1.524,0.104-4.37,0.273-6.467,1.562
                                c-1.998,1.188-2.605,2.916-2.605,4.137c0,2.512,2.358,4.84,7.289,4.84c5.822,0,8.904-3.223,8.904-6.41
                                c0.008-2.327-1.359-3.489-2.829-4.731H14.703z M10.269,11.951c-2.912,0-4.231-3.765-4.231-6.037c0-0.884,0.168-1.797,0.744-2.511
                                c0.543-0.679,1.489-1.12,2.372-1.12c2.807,0,4.256,3.798,4.256,6.242c0,0.612-0.067,1.694-0.845,2.478
                                c-0.537,0.55-1.438,0.948-2.295,0.951V11.951z M10.302,25.609c-3.621,0-5.957-1.732-5.957-4.142c0-2.408,2.165-3.223,2.911-3.492
                                c1.421-0.479,3.25-0.545,3.555-0.545c0.338,0,0.52,0,0.766,0.034c2.574,1.838,3.706,2.757,3.706,4.479
                                c-0.002,2.073-1.736,3.665-4.982,3.649L10.302,25.609z"></path>
                            <polygon points="23.254,11.89 23.254,8.521 21.569,8.521 21.569,11.89 18.202,11.89 18.202,13.604 21.569,13.604 21.569,17.004
                                23.254,17.004 23.254,13.604 26.653,13.604 26.653,11.89      "></polygon>
                        </g>
                    </g>
                </svg>
            </span>
            <span class="text">google+</span>
        </a>
    </li>
    
    <li data-size="56" data-initwidth="14.285714285714286" style="width: 42px;" class="pinterest small">
        <!-- Replace href with your meta and URL information.  -->
        <a href="http://pinterest.com/pin/create/button/?url=http%3a%2f%2fwww.codeproject.com%2fArticles%2f644067%2fApplying-Ant-Colony-Optimization-Algorithms-to-Sol&amp;media=http://kurtnoble.com/labs/rrssb/media/facebook-share.jpg&amp;description=Applying+Ant+Colony+Optimization+Algorithms+to+Solve+the+Traveling+Salesman+Problem+-+CodeProject">
            <span class="icon">
                <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="28px" height="28px" viewBox="0 0 28 28" enable-background="new 0 0 28 28" xml:space="preserve">
                <path d="M14.021,1.57C6.96,1.57,1.236,7.293,1.236,14.355c0,7.062,5.724,12.785,12.785,12.785c7.061,0,12.785-5.725,12.785-12.785
                    C26.807,7.294,21.082,1.57,14.021,1.57z M15.261,18.655c-1.161-0.09-1.649-0.666-2.559-1.219c-0.501,2.626-1.113,5.145-2.925,6.458
                    c-0.559-3.971,0.822-6.951,1.462-10.116c-1.093-1.84,0.132-5.545,2.438-4.632c2.837,1.123-2.458,6.842,1.099,7.557
                    c3.711,0.744,5.227-6.439,2.925-8.775c-3.325-3.374-9.678-0.077-8.897,4.754c0.19,1.178,1.408,1.538,0.489,3.168
                    C7.165,15.378,6.53,13.7,6.611,11.462c0.131-3.662,3.291-6.227,6.46-6.582c4.007-0.448,7.771,1.474,8.29,5.239
                    c0.579,4.255-1.816,8.865-6.102,8.533L15.261,18.655z"></path>
                </svg>
            </span>
            <span class="text">pinterest</span>
        </a>
    </li>
</ul>
<!-- Buttons end here -->

				        </div> 
    			        


						
						<h2 id="ctl00_AboutHeading">About the Author</h2>
						

<div class="container">
<div style="width:210px;overflow:hidden;float:left;text-align:center">
	<img id="ctl00_AboutAuthorRptr_ctl00_AboutAuthor_memberPhoto" class="profile-pic" src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/member_unknown.gif" style="border-width:0px;transform:rotate(-4deg);">
</div>
<div class="container-member float-left" style="margin:35px 15px 0 0;">
	<b><a id="ctl00_AboutAuthorRptr_ctl00_AboutAuthor_memberProfileLink" class="author" href="http://www.codeproject.com/Members/geoyar">geoyar</a></b>
	<div class="company">
		<span id="ctl00_AboutAuthorRptr_ctl00_AboutAuthor_memberJobTitle">Software Developer</span>
		<span id="ctl00_AboutAuthorRptr_ctl00_AboutAuthor_memberCompany"></span> 
		<br><span id="ctl00_AboutAuthorRptr_ctl00_AboutAuthor_memberLocation">United States <img src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/US.gif" alt="United States" height="11px" width="16px"></span>
	</div>
</div>
	
<div class="padded-top float-left clearfix">
	No Biography provided

	

	
</div>
</div><br>
						
						

						<div class="clearfix"></div>

						<div style="padding-top:8px">
							
						</div>

						
						<div style="margin:auto;height:90px;margin-top:10px;Widt:730px"> 
							<div class="msg-728x90" data-format="728x90" data-type="ad" data-publisher="lqm.codeproject.site" data-zone="General-Programming/Algorithms-Recipes/Algorithms" data-loadonview="true" data-tags="C++, MFC, GDI+, Boost, VC++, VS2012,rating4.5,pos_bottom"><noscript><a href="http://ad.doubleclick.net/N6839/jump/lqm.codeproject.site/General-Programming/Algorithms-Recipes/Algorithms;sz=728x90;ord=635591320319258209?"><img src="http://ad.doubleclick.net/N6839/ad/lqm.codeproject.site/General-Programming/Algorithms-Recipes/Algorithms;sz=728x90;ord=635591320319258209?"  width="728px" height="90px" /></a></noscript></div>
						</div>
						
					

				    
					</form>

				</div>

				
				

					<h2>Comments and Discussions</h2>
					<a class="float-left" name="_comments" id="_comments">&nbsp;</a><div id="_MessageBoardctl00_MessageBoard" onclick="return SwitchMessage(event, null)">
<table id="ForumTable" class="forum relaxed" cellpadding="0" cellspacing="0">
<tbody><tr>
<td class="header1 callout"><b>You must <a href="https://www.codeproject.com/script/Membership/LogOn.aspx?rp=%2fArticles%2f644067%2fApplying-Ant-Colony-Optimization-Algorithms-to-Sol%3ffid%3d1840805">Sign In</a> to use this message board.</b></td>
</tr><tr>
<td><table border="0" width="100%" cellpadding="3px" cellspacing="0">
<tbody><tr class="header1">
<td colspan="2" style="white-space:nowrap;"><div class="container">
<div class="float-right">
<form action="/Search.aspx?sbo=fm" method="get" class="searchbar">
<input name="fid" value="1840805" type="hidden"><input name="sbo" value="fm" type="hidden"><b>Search Comments </b><input class="search" name="qf" type="search">&nbsp;<input value="Go" class="button" type="submit">
</form>
</div>
</div></td>
</tr><tr class="header2">
<td></td><td style="width:100%;"><div style="text-align:right;">
<form action="/script/Forums/SetOptions.aspx?floc=%2fArticles%2f644067%2fApplying-Ant-Colony-Optimization-Algorithms-to-Sol&amp;fid=1840805" method="get" style="margin:0;padding:0;">
<input name="fid" value="1840805" type="hidden"><input name="currentQS" value="?floc=%2fArticles%2f644067%2fApplying-Ant-Colony-Optimization-Algorithms-to-Sol&amp;fid=1840805" type="hidden"><input name="floc" value="/Articles/644067/Applying-Ant-Colony-Optimization-Algorithms-to-Sol" type="hidden"><input checked="checked" name="prof" id="prof" style="vertical-align:middle;" type="checkbox"><label for="prof">Profile popups</label>&nbsp;&nbsp;&nbsp;&nbsp;Spacing<select size="1" class="dropdown" name="spc">
<option selected="selected" value="Relaxed">Relaxed</option><option value="Compact">Compact</option><option value="Tight">Tight</option>
</select>&nbsp;&nbsp;Noise<select size="1" class="dropdown" name="noise">
<option selected="selected" value="1">Very High</option><option value="2">High</option><option value="3">Medium</option><option value="4">Low</option><option value="5">Very Low</option>
</select>&nbsp;&nbsp;Layout<select size="1" class="dropdown" name="view">
<option value="Normal">Normal</option><option value="Topic">Open Topics</option><option selected="selected" value="Expanded">Open All</option><option value="Thread">Thread View</option>
</select>&nbsp;&nbsp;Per page<select size="1" class="dropdown" name="mpp">
<option value="10">10</option><option value="25">25</option><option selected="selected" value="50">50</option>
</select>&nbsp;&nbsp;&nbsp;<input value="Update" name="SetOpt" class="button" type="submit">
</form>
</div></td>
</tr>
</tbody></table></td>
</tr><tr>
<td><a name="xx0xx"></a><table border="0" width="100%" cellpadding="2px" cellspacing="0">
<tbody><tr class="navbar">
<td></td><td style="text-align:right;width:50%;"></td><td style="text-align:right;white-space:nowrap;"><span class="nav-link disabled">First</span> <span class="nav-link disabled">Prev</span> <span class="nav-link disabled">Next</span></td>
</tr>
</tbody></table></td>
</tr><tr>
<td><table class="fixed-layout blank-background" border="0" width="100%" cellpadding="0" cellspacing="0">
<tbody><tr>
<td><img src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/t.gif" alt="" border="0" height="5px" width="1px"></td>
</tr><tr id="F4907273_h0" class="header hover-row root">
<td class="subject-line expanded " width="100%"><table border="0" width="100%" cellpadding="0" cellspacing="0">
<tbody><tr>
<td class="indent" width="20px"><a name="xx4907273xx"></a><img src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/msg_general.gif" alt="General" align="top" height="16px" width="16px"></td><td class="subject hover-container">My vote of 5</td><td class="icon"><img src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/icn-member-16.gif" title="member" alt="member" border="0" height="16px"></td><td class="author"><a href="http://www.codeproject.com/script/Membership/View.aspx?mid=28299">KarstenK</a></td><td class="date">19-Sep-14  7:49&nbsp;</td>
</tr>
</tbody></table></td>
</tr><tr class="content root">
<td class="expanded" width="100%"><table border="0" width="100%" cellpadding="0" cellspacing="0">
<tbody><tr valign="top">
<td class="indent align-right" style="width:20px;"><div class="voteform vertical" ownerid="28299" msgid="4907273" votingtype="GoodOrBad">

</div><img src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/t.gif" alt="" height="1px" width="20px"></td><td class="text"><table border="0" width="100%" cellpadding="0" cellspacing="5px">
<tbody><tr>
<td><table border="0" width="100%" cellpadding="0" cellspacing="0">
<tbody><tr>
<td colspan="2">I miss some conclusions of your great work. Was it for school?<br></td>
</tr><tr class="footer" style="vertical-align:top;">
<td><a href="http://www.codeproject.com/script/Membership/LogOn.aspx?rp=%2fArticles%2f644067%2fApplying-Ant-Colony-Optimization-Algorithms-to-Sol">Sign In</a>·<wbr><a href="http://www.codeproject.com/Articles/644067/Applying-Ant-Colony-Optimization-Algorithms-to-Sol?fid=1840805&amp;tid=4907273" title="View&nbsp;Thread">View&nbsp;Thread</a>·<wbr><a href="http://www.codeproject.com/Messages/4907273/My-vote-of.aspx" title="Get permanent link">Permalink</a></td><td style="text-align:right;"><span id="MVF4907273" data-ref="3_4907273" class="rating-label" style="white-space:nowrap;"></span></td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr><tr id="F4907435_h0" class="header hover-row">
<td class="subject-line expanded " width="100%"><table border="0" width="100%" cellpadding="0" cellspacing="0">
<tbody><tr>
<td class="indent" width="38px"><a name="xx4907435xx"></a><img src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/msg_general.gif" alt="General" align="top" height="16px" width="16px"></td><td class="subject hover-container"><a class="message-link" name="4907435" parent="4907273" thread="4907273" href="http://www.codeproject.com/Messages/4907435/Re-My-vote-of.aspx">Re: My vote of 5</a></td><td class="icon"><img src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/icn-member-16.gif" title="member" alt="member" border="0" height="16px"></td><td class="author"><a href="http://www.codeproject.com/script/Membership/View.aspx?mid=258141">geoyar</a></td><td class="date">19-Sep-14  11:42&nbsp;</td>
</tr>
</tbody></table></td>
</tr><tr class="content">
<td class="expanded" width="100%"><table border="0" width="100%" cellpadding="0" cellspacing="0">
<tbody><tr valign="top">
<td class="indent align-right" style="width:38px;"><div class="voteform vertical" ownerid="258141" msgid="4907435" votingtype="GoodOrBad">

</div><img src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/t.gif" alt="" height="1px" width="38px"></td><td class="text"><table border="0" width="100%" cellpadding="0" cellspacing="5px">
<tbody><tr>
<td><table border="0" width="100%" cellpadding="0" cellspacing="0">
<tbody><tr>
<td colspan="2"><div class="parent"><a rel="nofollow" onclick="return SwitchMessage(null,4907273);" href="http://www.codeproject.com/Messages/4907273/My-vote-of.aspx"><img src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/arrow-up24.png" title="Go to Parent" style="width:16px;height:16px;border:0"></a></div>Thanks for voting.<br>
&nbsp;<br>
My purposes were:<br>
&nbsp;<br>
1. For researchers as a framework: you can easily change and test 
various parameter combinations and algorithms, and even add your own 
brand.<br>
2. For real problems: to find optimal track in warehouse, etc.<br>
3. Yes, for school.<br>
&nbsp;<br>
Hope people will find it useful.<br></td>
</tr><tr class="footer" style="vertical-align:top;">
<td><a href="http://www.codeproject.com/script/Membership/LogOn.aspx?rp=%2fArticles%2f644067%2fApplying-Ant-Colony-Optimization-Algorithms-to-Sol">Sign In</a>·<wbr><a href="http://www.codeproject.com/Articles/644067/Applying-Ant-Colony-Optimization-Algorithms-to-Sol?fid=1840805&amp;tid=4907273" title="View&nbsp;Thread">View&nbsp;Thread</a>·<wbr><a href="http://www.codeproject.com/Messages/4907435/Re-My-vote-of.aspx" title="Get permanent link">Permalink</a></td><td style="text-align:right;"><span id="MVF4907435" data-ref="3_4907435" class="rating-label" style="white-space:nowrap;"></span></td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr><tr id="F4811172_h0" class="header hover-row root">
<td class="subject-line expanded " width="100%"><table border="0" width="100%" cellpadding="0" cellspacing="0">
<tbody><tr>
<td class="indent" width="20px"><a name="xx4811172xx"></a><img src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/msg_question.gif" alt="Question" align="top" height="16px" width="16px"></td><td class="subject hover-container">Question about pheromone update</td><td class="icon"><img src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/icn-member-16.gif" title="member" alt="member" border="0" height="16px"></td><td class="author"><a href="http://www.codeproject.com/script/Membership/View.aspx?mid=3411232">Omar Gameel Salem</a></td><td class="date">30-Apr-14  16:51&nbsp;</td>
</tr>
</tbody></table></td>
</tr><tr class="content root">
<td class="expanded" width="100%"><table border="0" width="100%" cellpadding="0" cellspacing="0">
<tbody><tr valign="top">
<td class="indent align-right" style="width:20px;"><div class="voteform vertical" ownerid="3411232" msgid="4811172" votingtype="GoodOrBad">

</div><img src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/t.gif" alt="" height="1px" width="20px"></td><td class="text"><table border="0" width="100%" cellpadding="0" cellspacing="5px">
<tbody><tr>
<td><table border="0" width="100%" cellpadding="0" cellspacing="0">
<tbody><tr>
<td colspan="2">Does the edge get updated with pheromone as soon as an ant moves on it ?<br>
or the whole edges are updated after <b>all </b>ants have finished according to the reward/penalty formula?<br>
&nbsp;<br>
because in the  <a href="http://en.wikipedia.org/wiki/Ant_colony_optimization_algorithms#Pheromone_update">Wikipedia article</a>[<a href="http://en.wikipedia.org/wiki/Ant_colony_optimization_algorithms#Pheromone_update" target="_blank" title="New Window">^</a>] there's no mention of the first point, but it makes sense that an ant leaves a trail on the edge that it chooses.<br>
&nbsp;<br>
btw great job, have 5 <img src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/smiley_wink.gif" alt="Wink | ;)" align="top"> <br></td>
</tr><tr class="footer" style="vertical-align:top;">
<td><a href="http://www.codeproject.com/script/Membership/LogOn.aspx?rp=%2fArticles%2f644067%2fApplying-Ant-Colony-Optimization-Algorithms-to-Sol">Sign In</a>·<wbr><a href="http://www.codeproject.com/Articles/644067/Applying-Ant-Colony-Optimization-Algorithms-to-Sol?fid=1840805&amp;tid=4811172" title="View&nbsp;Thread">View&nbsp;Thread</a>·<wbr><a href="http://www.codeproject.com/Messages/4811172/Question-about-pheromone-update.aspx" title="Get permanent link">Permalink</a></td><td style="text-align:right;"><span id="MVF4811172" data-ref="3_4811172" class="rating-label" style="white-space:nowrap;"></span></td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr><tr id="F4811922_h0" class="header hover-row">
<td class="subject-line expanded " width="100%"><table border="0" width="100%" cellpadding="0" cellspacing="0">
<tbody><tr>
<td class="indent" width="38px"><a name="xx4811922xx"></a><img src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/msg_answer.gif" alt="Answer" align="top" height="16px" width="16px"></td><td class="subject hover-container"><a class="message-link" name="4811922" parent="4811172" thread="4811172" href="http://www.codeproject.com/Messages/4811922/Re-Question-about-pheromone-update.aspx">Re: Question about pheromone update</a></td><td class="icon"><img src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/icn-member-16.gif" title="member" alt="member" border="0" height="16px"></td><td class="author"><a href="http://www.codeproject.com/script/Membership/View.aspx?mid=258141">geoyar</a></td><td class="date">1-May-14  17:31&nbsp;</td>
</tr>
</tbody></table></td>
</tr><tr class="content">
<td class="expanded" width="100%"><table border="0" width="100%" cellpadding="0" cellspacing="0">
<tbody><tr valign="top">
<td class="indent align-right" style="width:38px;"><div class="voteform vertical" ownerid="258141" msgid="4811922" votingtype="GoodOrBad">

</div><img src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/t.gif" alt="" height="1px" width="38px"></td><td class="text"><table border="0" width="100%" cellpadding="0" cellspacing="5px">
<tbody><tr>
<td><table border="0" width="100%" cellpadding="0" cellspacing="0">
<tbody><tr>
<td colspan="2"><div class="parent"><a rel="nofollow" onclick="return SwitchMessage(null,4811172);" href="http://www.codeproject.com/Messages/4811172/Question-about-pheromone-update.aspx"><img src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/arrow-up24.png" title="Go to Parent" style="width:16px;height:16px;border:0"></a></div>It depends on algorithm you are using.<br>
In my article I describe the updating of pheromone for each algorithm.<br>
Generally, in all algorithms in my article but not art colony the edges are updated after all ants have completed the iteration.<br>
The Art Colony is different. Please,look into description of this algorithm in my article.<br>
&nbsp;<br>
I think it is rather difficult to choose a right method. On one hand, 
ant traveling over the graph has no idea how long distance it will cover
 in the trip, and does not know how to calculate its deposits of 
pheromone. On other hand, it still crawls up the edge and has to leave 
some pheromone on the edge. In artificial ant network it will force the 
ants to follow the previous traveler. <br>
&nbsp;<br>
It all is up to heuristics.<br></td>
</tr><tr class="footer" style="vertical-align:top;">
<td><a href="http://www.codeproject.com/script/Membership/LogOn.aspx?rp=%2fArticles%2f644067%2fApplying-Ant-Colony-Optimization-Algorithms-to-Sol">Sign In</a>·<wbr><a href="http://www.codeproject.com/Articles/644067/Applying-Ant-Colony-Optimization-Algorithms-to-Sol?fid=1840805&amp;tid=4811172" title="View&nbsp;Thread">View&nbsp;Thread</a>·<wbr><a href="http://www.codeproject.com/Messages/4811922/Re-Question-about-pheromone-update.aspx" title="Get permanent link">Permalink</a></td><td style="text-align:right;"><span id="MVF4811922" data-ref="3_4811922" class="rating-label" style="white-space:nowrap;"></span></td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr><tr id="F4725506_h0" class="header hover-row root">
<td class="subject-line expanded " width="100%"><table border="0" width="100%" cellpadding="0" cellspacing="0">
<tbody><tr>
<td class="indent" width="20px"><a name="xx4725506xx"></a><img src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/msg_question.gif" alt="Question" align="top" height="16px" width="16px"></td><td class="subject hover-container">To Yang Fei : Zip</td><td class="icon"><img src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/icn-MVP-16.gif" title="mvp" alt="mvp" border="0" height="16px"></td><td class="author"><a href="http://www.codeproject.com/script/Membership/View.aspx?mid=258141">geoyar</a></td><td class="date">19-Dec-13  15:05&nbsp;</td>
</tr>
</tbody></table></td>
</tr><tr class="content root">
<td class="expanded" width="100%"><table border="0" width="100%" cellpadding="0" cellspacing="0">
<tbody><tr valign="top">
<td class="indent align-right" style="width:20px;"><div class="voteform vertical" ownerid="258141" msgid="4725506" votingtype="GoodOrBad">

</div><img src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/t.gif" alt="" height="1px" width="20px"></td><td class="text"><table border="0" width="100%" cellpadding="0" cellspacing="5px">
<tbody><tr>
<td><table border="0" width="100%" cellpadding="0" cellspacing="0">
<tbody><tr>
<td colspan="2">You wrote:<br>
&gt;&gt;The zip file seems to have some problem to open, can you fix it? <br>
&nbsp;<br>
I have downloaded the source zip file from this article's page. It was successfully unzipped with IZArc program.<br>
I am archiving all my files with IZArc. The source files for this article are no exception.<br>
I do not know what program are you using to decompreess zip archives. Anyway, you may download IZArc, it is free.<br>
You also can use the browse code page (upper left link on the article page.)<br>
&nbsp;<br>
I do not know why, but your post is not shown in messages, so probably you will be notified about my answer.<br>
<div class="signature">geoyar</div><br></td>
</tr><tr class="footer" style="vertical-align:top;">
<td><a href="http://www.codeproject.com/script/Membership/LogOn.aspx?rp=%2fArticles%2f644067%2fApplying-Ant-Colony-Optimization-Algorithms-to-Sol">Sign In</a>·<wbr><a href="http://www.codeproject.com/Articles/644067/Applying-Ant-Colony-Optimization-Algorithms-to-Sol?fid=1840805&amp;tid=4725506" title="View&nbsp;Thread">View&nbsp;Thread</a>·<wbr><a href="http://www.codeproject.com/Messages/4725506/To-Yang-Fei-Zip.aspx" title="Get permanent link">Permalink</a></td><td style="text-align:right;"><span id="MVF4725506" data-ref="3_4725506" class="rating-label" style="white-space:nowrap;"></span></td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr><tr id="F4661056_h0" class="header hover-row root">
<td class="subject-line expanded " width="100%"><table border="0" width="100%" cellpadding="0" cellspacing="0">
<tbody><tr>
<td class="indent" width="20px"><a name="xx4661056xx"></a><img src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/msg_question.gif" alt="Question" align="top" height="16px" width="16px"></td><td class="subject hover-container">Works with Boost v. 1_54.0</td><td class="icon"><img src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/icn-member-16.gif" title="member" alt="member" border="0" height="16px"></td><td class="author"><a href="http://www.codeproject.com/script/Membership/View.aspx?mid=9437122">Member 9437122</a></td><td class="date">16-Sep-13  11:43&nbsp;</td>
</tr>
</tbody></table></td>
</tr><tr class="content root">
<td class="expanded" width="100%"><table border="0" width="100%" cellpadding="0" cellspacing="0">
<tbody><tr valign="top">
<td class="indent align-right" style="width:20px;"><div class="voteform vertical" ownerid="9437122" msgid="4661056" votingtype="GoodOrBad">

</div><img src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/t.gif" alt="" height="1px" width="20px"></td><td class="text"><table border="0" width="100%" cellpadding="0" cellspacing="5px">
<tbody><tr>
<td><table border="0" width="100%" cellpadding="0" cellspacing="0">
<tbody><tr>
<td colspan="2">The project works with Boost v. 1_54.0.<br></td>
</tr><tr class="footer" style="vertical-align:top;">
<td><a href="http://www.codeproject.com/script/Membership/LogOn.aspx?rp=%2fArticles%2f644067%2fApplying-Ant-Colony-Optimization-Algorithms-to-Sol">Sign In</a>·<wbr><a href="http://www.codeproject.com/Articles/644067/Applying-Ant-Colony-Optimization-Algorithms-to-Sol?fid=1840805&amp;tid=4661056" title="View&nbsp;Thread">View&nbsp;Thread</a>·<wbr><a href="http://www.codeproject.com/Messages/4661056/Works-with-Boost-v.aspx" title="Get permanent link">Permalink</a></td><td style="text-align:right;"><span id="MVF4661056" data-ref="3_4661056" class="rating-label" style="white-space:nowrap;"></span></td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr><tr id="F4661115_h0" class="header hover-row">
<td class="subject-line expanded " width="100%"><table border="0" width="100%" cellpadding="0" cellspacing="0">
<tbody><tr>
<td class="indent" width="38px"><a name="xx4661115xx"></a><img src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/msg_answer.gif" alt="Answer" align="top" height="16px" width="16px"></td><td class="subject hover-container"><a class="message-link" name="4661115" parent="4661056" thread="4661056" href="http://www.codeproject.com/Messages/4661115/Re-Works-with-Boost-v.aspx">Re: Works with Boost v. 1_54.0</a></td><td class="icon"><img src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/icn-MVP-16.gif" title="mvp" alt="mvp" border="0" height="16px"></td><td class="author"><a href="http://www.codeproject.com/script/Membership/View.aspx?mid=258141">geoyar</a></td><td class="date">16-Sep-13  15:34&nbsp;</td>
</tr>
</tbody></table></td>
</tr><tr class="content">
<td class="expanded" width="100%"><table border="0" width="100%" cellpadding="0" cellspacing="0">
<tbody><tr valign="top">
<td class="indent align-right" style="width:38px;"><div class="voteform vertical" ownerid="258141" msgid="4661115" votingtype="GoodOrBad">

</div><img src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/t.gif" alt="" height="1px" width="38px"></td><td class="text"><table border="0" width="100%" cellpadding="0" cellspacing="5px">
<tbody><tr>
<td><table border="0" width="100%" cellpadding="0" cellspacing="0">
<tbody><tr>
<td colspan="2"><div class="parent"><a rel="nofollow" onclick="return SwitchMessage(null,4661056);" href="http://www.codeproject.com/Messages/4661056/Works-with-Boost-v.aspx"><img src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/arrow-up24.png" title="Go to Parent" style="width:16px;height:16px;border:0"></a></div>Very happy to hear it. <br>
&nbsp;<br>
Usually there are no problems because Boost always try to keep the versions back compatible.<br>
&nbsp;<br>
How did you install the Boost 1.54 on your machine? BoostPro free installers are ended on v. 1.51.<br>
<div class="signature">geoyar</div><br></td>
</tr><tr class="footer" style="vertical-align:top;">
<td><a href="http://www.codeproject.com/script/Membership/LogOn.aspx?rp=%2fArticles%2f644067%2fApplying-Ant-Colony-Optimization-Algorithms-to-Sol">Sign In</a>·<wbr><a href="http://www.codeproject.com/Articles/644067/Applying-Ant-Colony-Optimization-Algorithms-to-Sol?fid=1840805&amp;tid=4661056" title="View&nbsp;Thread">View&nbsp;Thread</a>·<wbr><a href="http://www.codeproject.com/Messages/4661115/Re-Works-with-Boost-v.aspx" title="Get permanent link">Permalink</a></td><td style="text-align:right;"><span id="MVF4661115" data-ref="3_4661115" class="rating-label" style="white-space:nowrap;"></span></td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr><tr id="F4661200_h0" class="header hover-row">
<td class="subject-line expanded " width="100%"><table border="0" width="100%" cellpadding="0" cellspacing="0">
<tbody><tr>
<td class="indent" width="56px"><a name="xx4661200xx"></a><img src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/msg_general.gif" alt="General" align="top" height="16px" width="16px"></td><td class="subject hover-container"><a class="message-link" name="4661200" parent="4661115" thread="4661056" href="http://www.codeproject.com/Messages/4661200/Re-Works-with-Boost-v.aspx">Re: Works with Boost v. 1_54.0</a></td><td class="icon"><img src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/icn-member-16.gif" title="member" alt="member" border="0" height="16px"></td><td class="author"><a href="http://www.codeproject.com/script/Membership/View.aspx?mid=9437122">Member 9437122</a></td><td class="date">16-Sep-13  19:56&nbsp;</td>
</tr>
</tbody></table></td>
</tr><tr class="content">
<td class="expanded" width="100%"><table border="0" width="100%" cellpadding="0" cellspacing="0">
<tbody><tr valign="top">
<td class="indent align-right" style="width:56px;"><div class="voteform vertical" ownerid="9437122" msgid="4661200" votingtype="GoodOrBad">

</div><img src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/t.gif" alt="" height="1px" width="56px"></td><td class="text"><table border="0" width="100%" cellpadding="0" cellspacing="5px">
<tbody><tr>
<td><table border="0" width="100%" cellpadding="0" cellspacing="0">
<tbody><tr>
<td colspan="2"><div class="parent"><a rel="nofollow" onclick="return SwitchMessage(null,4661115);" href="http://www.codeproject.com/Messages/4661115/Re-Works-with-Boost-v.aspx"><img src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/arrow-up24.png" title="Go to Parent" style="width:16px;height:16px;border:0"></a></div>There is a new version (July 1st, 2013). And binaries can be downloaded from:<br>
&nbsp;<br>
http://sourceforge.net/projects/boost/files/boost-binaries/1.54.0<br>
&nbsp;<br>
Thanks for the post.<br>
&nbsp;<br>
Nice work.<br>
&nbsp;<br>
PS.: Have you ever used this kind of code to solve real work problems ?<br></td>
</tr><tr class="footer" style="vertical-align:top;">
<td><a href="http://www.codeproject.com/script/Membership/LogOn.aspx?rp=%2fArticles%2f644067%2fApplying-Ant-Colony-Optimization-Algorithms-to-Sol">Sign In</a>·<wbr><a href="http://www.codeproject.com/Articles/644067/Applying-Ant-Colony-Optimization-Algorithms-to-Sol?fid=1840805&amp;tid=4661056" title="View&nbsp;Thread">View&nbsp;Thread</a>·<wbr><a href="http://www.codeproject.com/Messages/4661200/Re-Works-with-Boost-v.aspx" title="Get permanent link">Permalink</a></td><td style="text-align:right;"><span id="MVF4661200" data-ref="3_4661200" class="rating-label" style="white-space:nowrap;"></span></td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr><tr id="F4661937_h0" class="header hover-row">
<td class="subject-line expanded " width="100%"><table border="0" width="100%" cellpadding="0" cellspacing="0">
<tbody><tr>
<td class="indent" width="74px"><a name="xx4661937xx"></a><img src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/msg_general.gif" alt="General" align="top" height="16px" width="16px"></td><td class="subject hover-container"><a class="message-link" name="4661937" parent="4661200" thread="4661056" href="http://www.codeproject.com/Messages/4661937/Re-Works-with-Boost-v.aspx">Re: Works with Boost v. 1_54.0</a></td><td class="icon"><img src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/icn-MVP-16.gif" title="mvp" alt="mvp" border="0" height="16px"></td><td class="author"><a href="http://www.codeproject.com/script/Membership/View.aspx?mid=258141">geoyar</a></td><td class="date">17-Sep-13  11:01&nbsp;</td>
</tr>
</tbody></table></td>
</tr><tr class="content">
<td class="expanded" width="100%"><table border="0" width="100%" cellpadding="0" cellspacing="0">
<tbody><tr valign="top">
<td class="indent align-right" style="width:74px;"><div class="voteform vertical" ownerid="258141" msgid="4661937" votingtype="GoodOrBad">

</div><img src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/t.gif" alt="" height="1px" width="74px"></td><td class="text"><table border="0" width="100%" cellpadding="0" cellspacing="5px">
<tbody><tr>
<td><table border="0" width="100%" cellpadding="0" cellspacing="0">
<tbody><tr>
<td colspan="2"><div class="parent"><a rel="nofollow" onclick="return SwitchMessage(null,4661200);" href="http://www.codeproject.com/Messages/4661200/Re-Works-with-Boost-v.aspx"><img src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/arrow-up24.png" title="Go to Parent" style="width:16px;height:16px;border:0"></a></div>No,
 I did not use it for real work problem. I started to develop the 
software because my friend, a mathematician,working in warehouse, was 
inventing algorithms to find the shortest paths to fill customers 
orders. I was curious whether we need all this high math if the brute 
force methods like Ant Colony might be enough.<br>
&nbsp;<br>
Actually I am an embedded C/C++ software developer.<br>
<div class="signature">geoyar</div><br></td>
</tr><tr class="footer" style="vertical-align:top;">
<td><a href="http://www.codeproject.com/script/Membership/LogOn.aspx?rp=%2fArticles%2f644067%2fApplying-Ant-Colony-Optimization-Algorithms-to-Sol">Sign In</a>·<wbr><a href="http://www.codeproject.com/Articles/644067/Applying-Ant-Colony-Optimization-Algorithms-to-Sol?fid=1840805&amp;tid=4661056" title="View&nbsp;Thread">View&nbsp;Thread</a>·<wbr><a href="http://www.codeproject.com/Messages/4661937/Re-Works-with-Boost-v.aspx" title="Get permanent link">Permalink</a></td><td style="text-align:right;"><span id="MVF4661937" data-ref="3_4661937" class="rating-label" style="white-space:nowrap;"></span></td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr><tr id="F4662578_h0" class="header hover-row">
<td class="subject-line expanded " width="100%"><table border="0" width="100%" cellpadding="0" cellspacing="0">
<tbody><tr>
<td class="indent" width="92px"><a name="xx4662578xx"></a><img src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/msg_general.gif" alt="General" align="top" height="16px" width="16px"></td><td class="subject hover-container"><a class="message-link" name="4662578" parent="4661937" thread="4661056" href="http://www.codeproject.com/Messages/4662578/Re-Works-with-Boost-v.aspx">Re: Works with Boost v. 1_54.0</a></td><td class="icon"><img src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/icn-member-16.gif" title="member" alt="member" border="0" height="16px"></td><td class="author"><a href="http://www.codeproject.com/script/Membership/View.aspx?mid=9437122">Member 9437122</a></td><td class="date">18-Sep-13  8:02&nbsp;</td>
</tr>
</tbody></table></td>
</tr><tr class="content">
<td class="expanded" width="100%"><table border="0" width="100%" cellpadding="0" cellspacing="0">
<tbody><tr valign="top">
<td class="indent align-right" style="width:92px;"><div class="voteform vertical" ownerid="9437122" msgid="4662578" votingtype="GoodOrBad">

</div><img src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/t.gif" alt="" height="1px" width="92px"></td><td class="text"><table border="0" width="100%" cellpadding="0" cellspacing="5px">
<tbody><tr>
<td><table border="0" width="100%" cellpadding="0" cellspacing="0">
<tbody><tr>
<td colspan="2"><div class="parent"><a rel="nofollow" onclick="return SwitchMessage(null,4661937);" href="http://www.codeproject.com/Messages/4661937/Re-Works-with-Boost-v.aspx"><img src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/arrow-up24.png" title="Go to Parent" style="width:16px;height:16px;border:0"></a></div>I
 understand. I just have asked to get an idea, because this type of code
 is usually in the Academy. Mathematicians and physicists are good to 
solve complex problems, but in this case to find an equation is not 
trivial. So such algorithm fits well.<br>
&nbsp;<br>
Thanks!!<br></td>
</tr><tr class="footer" style="vertical-align:top;">
<td><a href="http://www.codeproject.com/script/Membership/LogOn.aspx?rp=%2fArticles%2f644067%2fApplying-Ant-Colony-Optimization-Algorithms-to-Sol">Sign In</a>·<wbr><a href="http://www.codeproject.com/Articles/644067/Applying-Ant-Colony-Optimization-Algorithms-to-Sol?fid=1840805&amp;tid=4661056" title="View&nbsp;Thread">View&nbsp;Thread</a>·<wbr><a href="http://www.codeproject.com/Messages/4662578/Re-Works-with-Boost-v.aspx" title="Get permanent link">Permalink</a></td><td style="text-align:right;"><span id="MVF4662578" data-ref="3_4662578" class="rating-label" style="white-space:nowrap;"></span></td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr><tr id="F4658913_h0" class="header hover-row root">
<td class="subject-line expanded  vote-hi" width="100%"><table border="0" width="100%" cellpadding="0" cellspacing="0">
<tbody><tr>
<td class="indent" width="20px"><a name="xx4658913xx"></a><img src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/msg_general.gif" alt="General" align="top" height="16px" width="16px"></td><td class="subject hover-container">My vote of 5</td><td class="icon"><img src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/icn-member-16.gif" title="member" alt="member" border="0" height="16px"></td><td class="author"><a href="http://www.codeproject.com/script/Membership/View.aspx?mid=3893442">Suresh Suthar</a></td><td class="date">12-Sep-13  20:46&nbsp;</td>
</tr>
</tbody></table></td>
</tr><tr class="content root">
<td class="expanded" width="100%"><table border="0" width="100%" cellpadding="0" cellspacing="0">
<tbody><tr valign="top">
<td class="indent align-right" style="width:20px;"><div class="voteform vertical" ownerid="3893442" msgid="4658913" votingtype="GoodOrBad">

</div><img src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/t.gif" alt="" height="1px" width="20px"></td><td class="text"><table border="0" width="100%" cellpadding="0" cellspacing="5px">
<tbody><tr>
<td><table border="0" width="100%" cellpadding="0" cellspacing="0">
<tbody><tr>
<td colspan="2">Well explained...<br></td>
</tr><tr class="footer" style="vertical-align:top;">
<td><a href="http://www.codeproject.com/script/Membership/LogOn.aspx?rp=%2fArticles%2f644067%2fApplying-Ant-Colony-Optimization-Algorithms-to-Sol">Sign In</a>·<wbr><a href="http://www.codeproject.com/Articles/644067/Applying-Ant-Colony-Optimization-Algorithms-to-Sol?fid=1840805&amp;tid=4658913" title="View&nbsp;Thread">View&nbsp;Thread</a>·<wbr><a href="http://www.codeproject.com/Messages/4658913/My-vote-of.aspx" title="Get permanent link">Permalink</a></td><td style="text-align:right;"><span id="MVF4658913" data-ref="3_4658913" class="rating-label" style="white-space:nowrap;"><span>5.00/5 (1 vote)</span></span></td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr><tr id="F4656695_h0" class="header hover-row root">
<td class="subject-line expanded " width="100%"><table border="0" width="100%" cellpadding="0" cellspacing="0">
<tbody><tr>
<td class="indent" width="20px"><a name="xx4656695xx"></a><img src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/msg_question.gif" alt="Question" align="top" height="16px" width="16px"></td><td class="subject hover-container">very nice</td><td class="icon"><img src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/icn-member-16.gif" title="member" alt="member" border="0" height="16px"></td><td class="author"><a href="http://www.codeproject.com/script/Membership/View.aspx?mid=3062467">CIDev</a></td><td class="date">10-Sep-13  7:41&nbsp;</td>
</tr>
</tbody></table></td>
</tr><tr class="content root">
<td class="expanded" width="100%"><table border="0" width="100%" cellpadding="0" cellspacing="0">
<tbody><tr valign="top">
<td class="indent align-right" style="width:20px;"><div class="voteform vertical" ownerid="3062467" msgid="4656695" votingtype="GoodOrBad">

</div><img src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/t.gif" alt="" height="1px" width="20px"></td><td class="text"><table border="0" width="100%" cellpadding="0" cellspacing="5px">
<tbody><tr>
<td><table border="0" width="100%" cellpadding="0" cellspacing="0">
<tbody><tr>
<td colspan="2">A well written and interesting article; +5<br>
<div class="signature">Just because the code works, it doesn't mean that it is good code.</div><br></td>
</tr><tr class="footer" style="vertical-align:top;">
<td><a href="http://www.codeproject.com/script/Membership/LogOn.aspx?rp=%2fArticles%2f644067%2fApplying-Ant-Colony-Optimization-Algorithms-to-Sol">Sign In</a>·<wbr><a href="http://www.codeproject.com/Articles/644067/Applying-Ant-Colony-Optimization-Algorithms-to-Sol?fid=1840805&amp;tid=4656695" title="View&nbsp;Thread">View&nbsp;Thread</a>·<wbr><a href="http://www.codeproject.com/Messages/4656695/very-nice.aspx" title="Get permanent link">Permalink</a></td><td style="text-align:right;"><span id="MVF4656695" data-ref="3_4656695" class="rating-label" style="white-space:nowrap;"></span></td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr><tr id="F4653858_h0" class="header hover-row root">
<td class="subject-line expanded " width="100%"><table border="0" width="100%" cellpadding="0" cellspacing="0">
<tbody><tr>
<td class="indent" width="20px"><a name="xx4653858xx"></a><img src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/msg_general.gif" alt="General" align="top" height="16px" width="16px"></td><td class="subject hover-container">I enjoyed reading this, well done!</td><td class="icon"><img src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/icn-MVP-16.gif" title="mvp" alt="mvp" border="0" height="16px"></td><td class="author"><a href="http://www.codeproject.com/script/Membership/View.aspx?mid=22364">Espen Harlinn</a></td><td class="date">5-Sep-13  21:18&nbsp;</td>
</tr>
</tbody></table></td>
</tr><tr class="content root">
<td class="expanded" width="100%"><table border="0" width="100%" cellpadding="0" cellspacing="0">
<tbody><tr valign="top">
<td class="indent align-right" style="width:20px;"><div class="voteform vertical" ownerid="22364" msgid="4653858" votingtype="GoodOrBad">

</div><img src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/t.gif" alt="" height="1px" width="20px"></td><td class="text"><table border="0" width="100%" cellpadding="0" cellspacing="5px">
<tbody><tr>
<td><table border="0" width="100%" cellpadding="0" cellspacing="0">
<tbody><tr>
<td colspan="2">As I said, well done ...<br>
<div class="signature"><a href="http://harlinn.com/">Espen Harlinn</a><br>
Principal Architect, Software - <a href="http://goodtech.no/">Goodtech Projects &amp; Services AS</a><br>
<em><br>
Projects promoting programming in "natural language" are intrinsically doomed to fail. <b>Edsger W.Dijkstra</b></em></div><br></td>
</tr><tr class="footer" style="vertical-align:top;">
<td><a href="http://www.codeproject.com/script/Membership/LogOn.aspx?rp=%2fArticles%2f644067%2fApplying-Ant-Colony-Optimization-Algorithms-to-Sol">Sign In</a>·<wbr><a href="http://www.codeproject.com/Articles/644067/Applying-Ant-Colony-Optimization-Algorithms-to-Sol?fid=1840805&amp;tid=4653858" title="View&nbsp;Thread">View&nbsp;Thread</a>·<wbr><a href="http://www.codeproject.com/Messages/4653858/I-enjoyed-reading-this-well-done.aspx" title="Get permanent link">Permalink</a></td><td style="text-align:right;"><span id="MVF4653858" data-ref="3_4653858" class="rating-label" style="white-space:nowrap;"></span></td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr><tr id="F4651510_h0" class="header hover-row root">
<td class="subject-line expanded " width="100%"><table border="0" width="100%" cellpadding="0" cellspacing="0">
<tbody><tr>
<td class="indent" width="20px"><a name="xx4651510xx"></a><img src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/msg_question.gif" alt="Question" align="top" height="16px" width="16px"></td><td class="subject hover-container">tsplib</td><td class="icon"><img src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/icn-member-16.gif" title="member" alt="member" border="0" height="16px"></td><td class="author"><a href="http://www.codeproject.com/script/Membership/View.aspx?mid=1095580">Maniezzo</a></td><td class="date">3-Sep-13  5:55&nbsp;</td>
</tr>
</tbody></table></td>
</tr><tr class="content root">
<td class="expanded" width="100%"><table border="0" width="100%" cellpadding="0" cellspacing="0">
<tbody><tr valign="top">
<td class="indent align-right" style="width:20px;"><div class="voteform vertical" ownerid="1095580" msgid="4651510" votingtype="GoodOrBad">

</div><img src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/t.gif" alt="" height="1px" width="20px"></td><td class="text"><table border="0" width="100%" cellpadding="0" cellspacing="5px">
<tbody><tr>
<td><table border="0" width="100%" cellpadding="0" cellspacing="0">
<tbody><tr>
<td colspan="2">why not add a further input option that permits to read 
tsplib files ( http://comopt.ifi.uni-heidelberg.de/software/TSPLIB95 ), 
or at least some of them? This way you could check how your code 
compares to the rest of the world.<br></td>
</tr><tr class="footer" style="vertical-align:top;">
<td><a href="http://www.codeproject.com/script/Membership/LogOn.aspx?rp=%2fArticles%2f644067%2fApplying-Ant-Colony-Optimization-Algorithms-to-Sol">Sign In</a>·<wbr><a href="http://www.codeproject.com/Articles/644067/Applying-Ant-Colony-Optimization-Algorithms-to-Sol?fid=1840805&amp;tid=4651510" title="View&nbsp;Thread">View&nbsp;Thread</a>·<wbr><a href="http://www.codeproject.com/Messages/4651510/tsplib.aspx" title="Get permanent link">Permalink</a></td><td style="text-align:right;"><span id="MVF4651510" data-ref="3_4651510" class="rating-label" style="white-space:nowrap;"></span></td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr><tr id="F4651826_h0" class="header hover-row">
<td class="subject-line expanded " width="100%"><table border="0" width="100%" cellpadding="0" cellspacing="0">
<tbody><tr>
<td class="indent" width="38px"><a name="xx4651826xx"></a><img src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/msg_answer.gif" alt="Answer" align="top" height="16px" width="16px"></td><td class="subject hover-container"><a class="message-link" name="4651826" parent="4651510" thread="4651510" href="http://www.codeproject.com/Messages/4651826/Re-tsplib.aspx">Re: tsplib</a></td><td class="icon"><img src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/icn-MVP-16.gif" title="mvp" alt="mvp" border="0" height="16px"></td><td class="author"><a href="http://www.codeproject.com/script/Membership/View.aspx?mid=258141">geoyar</a></td><td class="date">3-Sep-13  16:55&nbsp;</td>
</tr>
</tbody></table></td>
</tr><tr class="content">
<td class="expanded" width="100%"><table border="0" width="100%" cellpadding="0" cellspacing="0">
<tbody><tr valign="top">
<td class="indent align-right" style="width:38px;"><div class="voteform vertical" ownerid="258141" msgid="4651826" votingtype="GoodOrBad">

</div><img src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/t.gif" alt="" height="1px" width="38px"></td><td class="text"><table border="0" width="100%" cellpadding="0" cellspacing="5px">
<tbody><tr>
<td><table border="0" width="100%" cellpadding="0" cellspacing="0">
<tbody><tr>
<td colspan="2"><div class="parent"><a rel="nofollow" onclick="return SwitchMessage(null,4651510);" href="http://www.codeproject.com/Messages/4651510/tsplib.aspx"><img src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/arrow-up24.png" title="Go to Parent" style="width:16px;height:16px;border:0"></a></div>Honestly, I had no idea what TSPLIB is.<br>
&nbsp;<br>
I went to TSPLIB web page and learnt that the code was written in C++and tested under gcc.<br>
Does it mean they are using non-windows platform?<br>
I also learnt that they used adjacent matrix graph, not  adjacent list.<br>
So we can compare algorithms and results only, not code.<br>
&nbsp;<br>
Now, the world is huge, and there is probably a lot of other programs, 
formats, and results for TSP. No way it is possibly to make them all 
inputs to the app.<br>
So if somebody is interested and has a TSP configuration, algorithm, and result to check and verify, you are welcome.<br>
Generate the configuration graph as described in this article, add an algorithm, and go.<br>
If you would find some discrepancies or errors, keep me posted. I will glad to look at them and correct them if needed.<br>
<div class="signature">geoyar</div><br></td>
</tr><tr class="footer" style="vertical-align:top;">
<td><a href="http://www.codeproject.com/script/Membership/LogOn.aspx?rp=%2fArticles%2f644067%2fApplying-Ant-Colony-Optimization-Algorithms-to-Sol">Sign In</a>·<wbr><a href="http://www.codeproject.com/Articles/644067/Applying-Ant-Colony-Optimization-Algorithms-to-Sol?fid=1840805&amp;tid=4651510" title="View&nbsp;Thread">View&nbsp;Thread</a>·<wbr><a href="http://www.codeproject.com/Messages/4651826/Re-tsplib.aspx" title="Get permanent link">Permalink</a></td><td style="text-align:right;"><span id="MVF4651826" data-ref="3_4651826" class="rating-label" style="white-space:nowrap;"></span></td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr><tr id="F4650662_h0" class="header hover-row root">
<td class="subject-line expanded  vote-hi" width="100%"><table border="0" width="100%" cellpadding="0" cellspacing="0">
<tbody><tr>
<td class="indent" width="20px"><a name="xx4650662xx"></a><img src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/msg_general.gif" alt="General" align="top" height="16px" width="16px"></td><td class="subject hover-container">Pleased to see this</td><td class="icon"><img src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/icn-member-16.gif" title="member" alt="member" border="0" height="16px"></td><td class="author"><a href="http://www.codeproject.com/script/Membership/View.aspx?mid=84345">rather_b_sailing</a></td><td class="date">2-Sep-13  6:33&nbsp;</td>
</tr>
</tbody></table></td>
</tr><tr class="content root">
<td class="expanded" width="100%"><table border="0" width="100%" cellpadding="0" cellspacing="0">
<tbody><tr valign="top">
<td class="indent align-right" style="width:20px;"><div class="voteform vertical" ownerid="84345" msgid="4650662" votingtype="GoodOrBad">

</div><img src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/t.gif" alt="" height="1px" width="20px"></td><td class="text"><table border="0" width="100%" cellpadding="0" cellspacing="5px">
<tbody><tr>
<td><table border="0" width="100%" cellpadding="0" cellspacing="0">
<tbody><tr>
<td colspan="2">Decades ago, I coded in c, a routine for the TSP by 
Professor Bill Cook while at Columbia B-School.&nbsp;&nbsp; (I was 
Director of a pedagogical technology project at the time.) Professor 
Cook went on to be a recognized expert.<br>&nbsp;<br>I enjoyed reading your article and admire the interface you put together.<br></td>
</tr><tr class="footer" style="vertical-align:top;">
<td><a href="http://www.codeproject.com/script/Membership/LogOn.aspx?rp=%2fArticles%2f644067%2fApplying-Ant-Colony-Optimization-Algorithms-to-Sol">Sign In</a>·<wbr><a href="http://www.codeproject.com/Articles/644067/Applying-Ant-Colony-Optimization-Algorithms-to-Sol?fid=1840805&amp;tid=4650662" title="View&nbsp;Thread">View&nbsp;Thread</a>·<wbr><a href="http://www.codeproject.com/Messages/4650662/Pleased-to-see-this.aspx" title="Get permanent link">Permalink</a></td><td style="text-align:right;"><span id="MVF4650662" data-ref="3_4650662" class="rating-label" style="white-space:nowrap;"><span>5.00/5 (1 vote)</span></span></td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr><tr id="F4646703_h0" class="header hover-row root">
<td class="subject-line expanded " width="100%"><table border="0" width="100%" cellpadding="0" cellspacing="0">
<tbody><tr>
<td class="indent" width="20px"><a name="xx4646703xx"></a><img src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/msg_idea.gif" alt="Suggestion" align="top" height="16px" width="16px"></td><td class="subject hover-container">Equations</td><td class="icon"><img src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/icn-member-16.gif" title="member" alt="member" border="0" height="16px"></td><td class="author"><a href="http://www.codeproject.com/script/Membership/View.aspx?mid=2152395">Roberto Italy</a></td><td class="date">27-Aug-13  21:13&nbsp;</td>
</tr>
</tbody></table></td>
</tr><tr class="content root">
<td class="expanded" width="100%"><table border="0" width="100%" cellpadding="0" cellspacing="0">
<tbody><tr valign="top">
<td class="indent align-right" style="width:20px;"><div class="voteform vertical" ownerid="2152395" msgid="4646703" votingtype="GoodOrBad">

</div><img src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/t.gif" alt="" height="1px" width="20px"></td><td class="text"><table border="0" width="100%" cellpadding="0" cellspacing="5px">
<tbody><tr>
<td><table border="0" width="100%" cellpadding="0" cellspacing="0">
<tbody><tr>
<td colspan="2">Please, reformat the equations, as they appear very ugly and mostly unreadable.<br>
<div class="signature">Roberto</div><br></td>
</tr><tr class="footer" style="vertical-align:top;">
<td><a href="http://www.codeproject.com/script/Membership/LogOn.aspx?rp=%2fArticles%2f644067%2fApplying-Ant-Colony-Optimization-Algorithms-to-Sol">Sign In</a>·<wbr><a href="http://www.codeproject.com/Articles/644067/Applying-Ant-Colony-Optimization-Algorithms-to-Sol?fid=1840805&amp;tid=4646703" title="View&nbsp;Thread">View&nbsp;Thread</a>·<wbr><a href="http://www.codeproject.com/Messages/4646703/Equations.aspx" title="Get permanent link">Permalink</a></td><td style="text-align:right;"><span id="MVF4646703" data-ref="3_4646703" class="rating-label" style="white-space:nowrap;"></span></td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr><tr id="F4647352_h0" class="header hover-row">
<td class="subject-line expanded " width="100%"><table border="0" width="100%" cellpadding="0" cellspacing="0">
<tbody><tr>
<td class="indent" width="38px"><a name="xx4647352xx"></a><img src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/msg_general.gif" alt="General" align="top" height="16px" width="16px"></td><td class="subject hover-container"><a class="message-link" name="4647352" parent="4646703" thread="4646703" href="http://www.codeproject.com/Messages/4647352/Re-Equations.aspx">Re: Equations</a></td><td class="icon"><img src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/icn-MVP-16.gif" title="mvp" alt="mvp" border="0" height="16px"></td><td class="author"><a href="http://www.codeproject.com/script/Membership/View.aspx?mid=258141">geoyar</a></td><td class="date">28-Aug-13  9:43&nbsp;</td>
</tr>
</tbody></table></td>
</tr><tr class="content">
<td class="expanded" width="100%"><table border="0" width="100%" cellpadding="0" cellspacing="0">
<tbody><tr valign="top">
<td class="indent align-right" style="width:38px;"><div class="voteform vertical" ownerid="258141" msgid="4647352" votingtype="GoodOrBad">

</div><img src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/t.gif" alt="" height="1px" width="38px"></td><td class="text"><table border="0" width="100%" cellpadding="0" cellspacing="5px">
<tbody><tr>
<td><table border="0" width="100%" cellpadding="0" cellspacing="0">
<tbody><tr>
<td colspan="2"><div class="parent"><a rel="nofollow" onclick="return SwitchMessage(null,4646703);" href="http://www.codeproject.com/Messages/4646703/Equations.aspx"><img src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/arrow-up24.png" title="Go to Parent" style="width:16px;height:16px;border:0"></a></div>Already trying, together with CP editor.<br>
<div class="signature">geoyar</div><br></td>
</tr><tr class="footer" style="vertical-align:top;">
<td><a href="http://www.codeproject.com/script/Membership/LogOn.aspx?rp=%2fArticles%2f644067%2fApplying-Ant-Colony-Optimization-Algorithms-to-Sol">Sign In</a>·<wbr><a href="http://www.codeproject.com/Articles/644067/Applying-Ant-Colony-Optimization-Algorithms-to-Sol?fid=1840805&amp;tid=4646703" title="View&nbsp;Thread">View&nbsp;Thread</a>·<wbr><a href="http://www.codeproject.com/Messages/4647352/Re-Equations.aspx" title="Get permanent link">Permalink</a></td><td style="text-align:right;"><span id="MVF4647352" data-ref="3_4647352" class="rating-label" style="white-space:nowrap;"></span></td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr><tr id="F4661116_h0" class="header hover-row">
<td class="subject-line expanded " width="100%"><table border="0" width="100%" cellpadding="0" cellspacing="0">
<tbody><tr>
<td class="indent" width="38px"><a name="xx4661116xx"></a><img src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/msg_general.gif" alt="General" align="top" height="16px" width="16px"></td><td class="subject hover-container"><a class="message-link" name="4661116" parent="4646703" thread="4646703" href="http://www.codeproject.com/Messages/4661116/Re-Equations.aspx">Re: Equations</a></td><td class="icon"><img src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/icn-MVP-16.gif" title="mvp" alt="mvp" border="0" height="16px"></td><td class="author"><a href="http://www.codeproject.com/script/Membership/View.aspx?mid=258141">geoyar</a></td><td class="date">16-Sep-13  15:35&nbsp;</td>
</tr>
</tbody></table></td>
</tr><tr class="content">
<td class="expanded" width="100%"><table border="0" width="100%" cellpadding="0" cellspacing="0">
<tbody><tr valign="top">
<td class="indent align-right" style="width:38px;"><div class="voteform vertical" ownerid="258141" msgid="4661116" votingtype="GoodOrBad">

</div><img src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/t.gif" alt="" height="1px" width="38px"></td><td class="text"><table border="0" width="100%" cellpadding="0" cellspacing="5px">
<tbody><tr>
<td><table border="0" width="100%" cellpadding="0" cellspacing="0">
<tbody><tr>
<td colspan="2"><div class="parent"><a rel="nofollow" onclick="return SwitchMessage(null,4646703);" href="http://www.codeproject.com/Messages/4646703/Equations.aspx"><img src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/arrow-up24.png" title="Go to Parent" style="width:16px;height:16px;border:0"></a></div>Now the ugly equations are replaced.<br>
<div class="signature">geoyar</div><br></td>
</tr><tr class="footer" style="vertical-align:top;">
<td><a href="http://www.codeproject.com/script/Membership/LogOn.aspx?rp=%2fArticles%2f644067%2fApplying-Ant-Colony-Optimization-Algorithms-to-Sol">Sign In</a>·<wbr><a href="http://www.codeproject.com/Articles/644067/Applying-Ant-Colony-Optimization-Algorithms-to-Sol?fid=1840805&amp;tid=4646703" title="View&nbsp;Thread">View&nbsp;Thread</a>·<wbr><a href="http://www.codeproject.com/Messages/4661116/Re-Equations.aspx" title="Get permanent link">Permalink</a></td><td style="text-align:right;"><span id="MVF4661116" data-ref="3_4661116" class="rating-label" style="white-space:nowrap;"></span></td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr>
</tbody></table></td>
</tr><tr>
<td><img src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/t.gif" alt="" border="0" height="5px" width="1px"></td>
</tr><tr>
<td><table width="100%" cellpadding="2px" cellspacing="0">
<tbody><tr class="footer">
<td>Last Visit: 31-Dec-99  19:00 &nbsp; &nbsp; Last Update: 9-Feb-15  16:27</td><td><a href="http://www.codeproject.com/Articles/644067/Applying-Ant-Colony-Optimization-Algorithms-to-Sol?fid=1840805">Refresh</a></td><td style="text-align:right;white-space:nowrap;"><input id="_mbnUrl" value="/Articles/644067/Applying-Ant-Colony-Optimization-Algorithms-to-Sol?fid=1840805&amp;fr=20" type="hidden"><span class="nav-link selected">1</span></td>
</tr>
</tbody></table></td>
</tr>
</tbody></table>
</div><p class="small-text"><img src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/msg_general.gif" alt="General" align="top" height="16px" width="16px"> General &nbsp;&nbsp; <img src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/msg_news.gif" alt="News" align="top" height="16px" width="16px"> News &nbsp;&nbsp; <img src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/msg_idea.gif" alt="Suggestion" align="top" height="16px" width="16px"> Suggestion &nbsp;&nbsp; <img src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/msg_question.gif" alt="Question" align="top" height="16px" width="16px"> Question &nbsp;&nbsp; <img src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/msg_bug.gif" alt="Bug" align="top" height="16px" width="16px"> Bug &nbsp;&nbsp; <img src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/msg_answer.gif" alt="Answer" align="top" height="16px" width="16px"> Answer &nbsp;&nbsp; <img src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/msg_joke.gif" alt="Joke" align="top" height="16px" width="16px"> Joke &nbsp;&nbsp; <img src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/msg_rant.gif" alt="Rant" align="top" height="16px" width="16px"> Rant &nbsp;&nbsp; <img src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/msg_admin.gif" alt="Admin" align="top" height="16px" width="16px"> Admin &nbsp;&nbsp; </p>
				

			</div>
			
		</td>
		<td width="170px">
			<div id="ctl00_RightSideBar" class="container-article-info">

    			

<div class="header">Info</div>
<div class="article-summary">

<a id="ctl00_InfoBox_ParentLink"></a>

<table class="article-info" cellpadding="0" cellspacing="0">

    

    
	

	
	

	

	

	

	<tbody><tr><td>First Posted&nbsp;</td><td class="value" nowrap="nowrap"><span itemprop="datePublished" content="2013-08-27">27 Aug 2013</span></td></tr>

	<tr><td>Views&nbsp;</td><td class="value">44,223</td></tr>

	
	<tr><td>Downloads&nbsp;</td><td class="value">8,857</td></tr>
		

	
	<tr><td>Bookmarked&nbsp;</td><td class="value">62 times</td></tr>
	

	

	

    

	<tr><td colspan="2"></td></tr>
	
	
</tbody></table>
</div>

                <div style="position: fixed; top: 10px; left: 1269.5px;" id="RHSticky" class="container-article-info-sticky stuck">
				    

                    
                    <div class="padded-top">
                        
                    </div>

				    <div style="width:160px;margin: 10px auto;">
					    <div class="msg-160x600" data-format="160x600" data-type="ad" data-publisher="lqm.codeproject.site" data-zone="General-Programming/Algorithms-Recipes/Algorithms" data-tags="C++, MFC, GDI+, Boost, VC++, VS2012,rating4.5"><iframe id="dmad5" allowtransparency="false" style="z-index:10" marginwidth="0" marginheight="0" scrolling="no" height="600" width="160" frameborder="0"></iframe></div>
				    </div>

				    

				    

				    
				</div>

			</div>
		</td>
		</tr></tbody></table>

		
		<div class="theme1-background" style="height:2px" id="stickyStop"></div>

		<div class="extended tiny-text">
			<div class="row">
				<div class="float-left">
					<a id="ctl00_PermaLink" itemprop="url" href="http://www.codeproject.com/Articles/644067/Applying-Ant-Colony-Optimization-Algorithms-to-Sol">Permalink</a> | 
					<a id="ctl00_AdvertiseLink" href="http://developermedia.com/">Advertise </a> |
					<a id="ctl00_PrivacyLink" href="http://www.codeproject.com/info/privacy.aspx">Privacy</a> |
                    <a id="ctl00_TermsOfUseLink" href="http://www.codeproject.com/info/TermsOfUse.aspx">Terms of Use</a> |
					<a id="ctl00_Mobile" rel="nofollow" href="http://www.codeproject.com/Articles/644067/Applying-Ant-Colony-Optimization-Algorithms-to-Sol?display=Mobile">Mobile</a>
					<br>
								
					
					Web03 |
					2.8.150209.1 |
					Last Updated 13 Sep 2013								
				</div>

                <div id="ctl00_GoogleTranslate" class="translate float-left"><div style="" dir="ltr" class="skiptranslate goog-te-gadget"><div class="goog-te-gadget-simple" style="white-space: nowrap;" id=":0.targetLanguage"><img style="background-image: url(&quot;https://translate.googleapis.com/translate_static/img/te_ctrl3.gif&quot;); background-position: -65px 0px;" class="goog-te-gadget-icon" src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/cleardot.gif"><span style="vertical-align: middle;"><a href="javascript:void(0)" class="goog-te-menu-value"><span>Select Language</span><img src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/cleardot.gif" height="1" width="1"><span style="border-left: 1px solid rgb(187, 187, 187);">​</span><img src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/cleardot.gif" height="1" width="1"><span style="color: rgb(155, 155, 155);">▼</span></a></span></div></div></div>      

				<div class="float-right align-right">
					Article Copyright 2013 by geoyar<br>Everything else
					Copyright © <a href="mailto:webmaster@codeproject.com">CodeProject</a>, 1999-2015 <br>
				</div>

				


<div class="page-width">
Layout: <a id="ctl00_PageWidth_FixedT" title="Fixed width layout" rel="nofollow" class=" active" href="http://www.codeproject.com/Articles/644067/Applying-Ant-Colony-Optimization-Algorithms-to-Sol?PageFlow=FixedWidth">fixed</a>
|
<a id="ctl00_PageWidth_FluidT" title="Fluid layout" rel="nofollow" href="http://www.codeproject.com/Articles/644067/Applying-Ant-Colony-Optimization-Algorithms-to-Sol?PageFlow=Fluid">fluid</a>
</div>



			</div>
		</div>
		

		<br clear="all">
		
			

	</div> 
	</div>
</div>


<div style="display:none;" id="dm_AdTable">
	
</div>
<img id="ctl00_Audience" src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/DFPAudiencePixel.gif" style="border-width:0px;height:1px;width:1px;">



<script type="text/javascript" language="Javascript" src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/jquery.js"></script><script type="text/javascript">//<![CDATA[
if (typeof jQuery == 'undefined') {
    document.write(unescape("%3Cscript src='/script/JS/jquery-1.6.2.min.js' type='text/javascript' %3E%3C/script%3E"));
}//]]></script>
<script type="text/javascript" language="Javascript" src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/article.js"></script>
<script type="text/javascript" language="Javascript" src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/element.js"></script>
<script type="text/javascript" language="Javascript" src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/navbar.js"></script>
<script type="text/javascript" language="Javascript" src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/Notifications.js"></script>
<script type="text/javascript" language="Javascript" src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/MemberProfilePopup.js"></script>
<script type="text/javascript" language="Javascript">//<![CDATA[
function googleTranslateElementInit() {  new google.translate.TranslateElement({   pageLanguage: 'en',   layout: google.translate.TranslateElement.InlineLayout.SIMPLE,   autoDisplay: false,   gaTrack: true,   gaId: 'UA-1735123-1'},  'ctl00_GoogleTranslate');}
$(document).ready(function() { anchorAnimate();
$('#RHSticky').sticky($('#stickyStop'));
$('#ctl00_Nav').sticky($('#stickyStop'));
});
$(function() {
                                            var $downloads =  $('ul.download');
                                            $downloads.addClass('float-left')
                                                        .wrap('<div class="row"></div>');
                                            $downloads.after('<div class="float-left" style="margin-top:25px;margin-left:30px"><div data-format="1x11" data-type="ad" data-publisher="lqm.codeproject.site" data-zone="downloadlink" data-tags="c%2b%2b%2cmfc%2cgdi%2b%2cboost%2cvc%2b%2b%2cvs2012"></div></div>');
                                    });
$(function ()
                {
                    $('.oauth').click(function () {
                        $this = $(this);
                        href = $this.attr('href');
                        var myWindow = window.open(href, 'popup',
                                    'width=800,height=600,location=0,menubar=0,resizeable=0,scrollbars=0,toolbar=0');
                        myWindow.focus();
                        var timer = setInterval(function () {
                                        if (myWindow.closed) {
                                            clearInterval(timer);
                                            // window.location.reload(); // May do a POST reload, shows a warning
                                            window.location = window.location; // force a GET reload
                                        }
                                    }, 200);
                        return false;
                    });
                });
var oSrchFlt = false, oSrchBox=false,srchBoxFoc=false;
$(document).ready(function() {
 if(InitWatermark)InitWatermark('sb_tb', 'Search for articles, questions, tips');
 var sbar = $('#sb_tb'); 
 var sfilter = $('#SearchFilter');
 if (sbar && sfilter) {
  sfilter.removeClass('popup'); sfilter.hide(); sfilter.removeClass('open');
  sbar.blur(function() {
 if (!oSrchFlt) {sfilter.hide(); sfilter.removeClass('open');}
 srchBoxFoc=false;
 });
  sbar.focus(function() {
 oSrchFlt=false; srchBoxFoc=true;
 sfilter.show(); sfilter.addClass('open');
 });
  sbar.mouseleave(function() { oSrchBox=false; });
  sbar.mouseover(function() { oSrchBox=true; });
  sfilter.mouseleave(function() { oSrchFlt=false; if (!srchBoxFoc&&!oSrchBox) { sfilter.hide(); sfilter.removeClass('open'); }});
  sfilter.mouseover(function() { oSrchFlt=true; });
 }
});
$('#clear-rate_ctl00_RateArticle_RSU').click(function () {    $('#ctl00_RateArticle_RSU').hide(); return false;});$("#ctl00_RateArticle_RateItemWrapper")   .removeClass("container-rating")   .hover( function() { $('#ctl00_RateArticle_RSU').fadeIn('fast'); },            function() { $('#ctl00_RateArticle_RSU').fadeOut('fast'); } );
function PostBack_ctl00_RateArticle_RateItemWrapper() {
  return rateItem(644067,2,1,true,true,3,'LargeStars');
}

                        function getVotesHistogram(objectId, objectTypeId, containerId, loadingId) {
                            if (!$('#' + containerId).attr('alreadyRequested')){
                                $.ajax({
                                    url: '/script/Ratings/Ajax/Histogram.aspx?obid=' + objectId + '&obtid='+objectTypeId,
                                    success: function (data) {
                                        $('#' + containerId).html(data);
                                        $('#' + loadingId).hide();
                                    }
                                });
                                $('#' + containerId).attr('alreadyRequested', 'true');
                            }
                        }
$(document).ready(function() {   new starRating('#ctl00_RateArticle_VoteFormDiv', PostBack_ctl00_RateArticle_RateItemWrapper,'ctl00_RateArticle');
  $('#ctl00_RateArticle_RB').mouseenter(function() {     getVotesHistogram(644067,2   ,'ctl00_RateArticle_Histogram','ctl00_RateArticle_Loading');  })})
$(document).ready(function() { $('#ctl00_RateArticle_SubmitRateBtn').hide(); });
$(document).ready(function() { $('#ctl00_RateArticle_SubmitRateBtn').hide(); });function ChkRtctl00_RateArticle(){}

forumDir = '/script/Forums/';
staticServer = '//dj9okeyxktdvd.cloudfront.net';
allowReporting = false;
allowRating = false;
allowRatingDisplay = true;
var smoothScroll = false;
Selected        = -1;
oldTitle        = document.title;
minMessageScore = 1;
minMessageScore = 5;
abuseScore      = -2;
spamScore       = -1;
getRatingUrl    = '/script/Ratings/Ajax/GetRatings.aspx';
noiseThreshold  = 1;
getRatingRefKey = 'obrs';


//]]>
</script>



<canvas id="cv1" width="1px" height="1px" style="position:absolute;left:0;top:0;pointer-events:none"></canvas><canvas id="cv2" width="1px" height="1px" style="position:absolute;left:0;top:0;pointer-events:none"></canvas><div style="display: none; position: absolute;" id="MemberProfilePopupDiv" class="raised box"></div><div style="display: none; position: absolute;" id="MemberProfilePopupDiv" class="raised box"></div><div style="display: none; position: absolute;" id="MemberProfilePopupDiv" class="raised box"></div><iframe style="display: none; width: 0px; height: 0px;" scrolling="no" class="igtranslator-iframe" src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/a.htm" frameborder="0"></iframe><div id="goog-gt-tt" class="skiptranslate" dir="ltr"><div style="padding: 8px;"><div><div class="logo"><img src="Applying%20Ant%20Colony%20Optimization%20Algorithms%20to%20Solve%20the%20Traveling%20Salesman%20Problem%20-%20CodeProject_files/translate-32.png" height="20" width="20"></div></div></div><div class="top" style="padding: 8px; float: left; width: 100%;"><h1 class="title gray">Original text</h1></div><div class="middle" style="padding: 8px;"><div class="original-text"></div></div><div class="bottom" style="padding: 8px;"><div class="activity-links"><span class="activity-link">Contribute a better translation</span><span class="activity-link"></span></div><div class="started-activity-container"><hr style="color: #CCC; background-color: #CCC; height: 1px; border: none;"><div class="activity-root"></div></div></div><div style="display: none;" class="status-message"></div></div><div title="Click to Show Translation" style="background-image: url(&quot;resource://jid1-dgnibwqga0sibw-at-jetpack/igtranslator/data/content_script/icon.png&quot;); display: none;" class="igtranslator-activator-icon"></div><iframe style="visibility: visible; box-sizing: content-box; width: 860px; height: 285px; display: none;" class="goog-te-menu-frame skiptranslate" frameborder="0"></iframe></body></html>